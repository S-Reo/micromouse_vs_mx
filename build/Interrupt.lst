ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Interrupt.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_f2d
  20              		.global	__aeabi_dmul
  21              		.global	__aeabi_d2f
  22              		.section	.text.Explore_IT,"ax",%progbits
  23              		.align	1
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	Explore_IT:
  29              	.LFB239:
  30              		.file 1 "Core/Src/Main/Interrupt.c"
   1:Core/Src/Main/Interrupt.c **** /*
   2:Core/Src/Main/Interrupt.c ****  * Interrupt.c
   3:Core/Src/Main/Interrupt.c ****  *
   4:Core/Src/Main/Interrupt.c ****  *  Created on: 2022/02/15
   5:Core/Src/Main/Interrupt.c ****  *      Author: leopi
   6:Core/Src/Main/Interrupt.c ****  */
   7:Core/Src/Main/Interrupt.c **** #include "Interrupt.h"
   8:Core/Src/Main/Interrupt.c **** 
   9:Core/Src/Main/Interrupt.c **** #include "Action.h"
  10:Core/Src/Main/Interrupt.c **** #include "MicroMouse.h"
  11:Core/Src/Main/Interrupt.c **** 
  12:Core/Src/Main/Interrupt.c **** #include <math.h>
  13:Core/Src/Main/Interrupt.c **** #include "Convert.h"
  14:Core/Src/Main/Interrupt.c **** #include "PID_Control.h"
  15:Core/Src/Main/Interrupt.c **** 
  16:Core/Src/Main/Interrupt.c **** #include "mouse_ADC.h"
  17:Core/Src/Main/Interrupt.c **** //#include "LED_Driver.h"
  18:Core/Src/Main/Interrupt.c **** #include "IR_Emitter.h"
  19:Core/Src/Main/Interrupt.c **** #include "Motor_Driver.h"
  20:Core/Src/Main/Interrupt.c **** #include "ICM_20648.h"
  21:Core/Src/Main/Interrupt.c **** #include "Mode.h"
  22:Core/Src/Main/Interrupt.c **** #include "Sampling.h"
  23:Core/Src/Main/Interrupt.c **** 
  24:Core/Src/Main/Interrupt.c **** int timer1,timer8, t;
  25:Core/Src/Main/Interrupt.c **** int IT_mode;
  26:Core/Src/Main/Interrupt.c **** int velodebug_flag=0;
  27:Core/Src/Main/Interrupt.c **** float debugVL[2000]={0};
  28:Core/Src/Main/Interrupt.c **** float debugVR[2000] = {0};
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 2


  29:Core/Src/Main/Interrupt.c **** int dbc = 0;
  30:Core/Src/Main/Interrupt.c **** 
  31:Core/Src/Main/Interrupt.c **** 	//float velodebugL[1000],velodebugR[1000];
  32:Core/Src/Main/Interrupt.c **** 
  33:Core/Src/Main/Interrupt.c **** const float convert_to_velocity = MM_PER_PULSE/T1;
  34:Core/Src/Main/Interrupt.c **** const float convert_to_angularv = 1/TREAD_WIDTH;
  35:Core/Src/Main/Interrupt.c **** //const float convert_to_imu_angv = M_PI/(16.4f*180.0f);
  36:Core/Src/Main/Interrupt.c **** const float convert_to_imu_yaccel = 1000*9.80392157f / 2048.0f; //1000*ãªã‚“ã¡ã‚ƒã‚‰gÃ—9.80392157
  37:Core/Src/Main/Interrupt.c **** 
  38:Core/Src/Main/Interrupt.c **** void initInterruptValue()
  39:Core/Src/Main/Interrupt.c **** {
  40:Core/Src/Main/Interrupt.c **** //	Control_Mode = A_VELO_PID;
  41:Core/Src/Main/Interrupt.c **** 	Pid[A_VELO_PID].flag = 1;
  42:Core/Src/Main/Interrupt.c **** 	IT_mode = EXPLORE;
  43:Core/Src/Main/Interrupt.c **** 
  44:Core/Src/Main/Interrupt.c **** 	timer1 = 0;
  45:Core/Src/Main/Interrupt.c **** 	timer8 = 0;
  46:Core/Src/Main/Interrupt.c **** 	t = 0;
  47:Core/Src/Main/Interrupt.c **** 
  48:Core/Src/Main/Interrupt.c **** }
  49:Core/Src/Main/Interrupt.c **** //static int StraightWay;
  50:Core/Src/Main/Interrupt.c **** //ä»¥ä¸‹å‰²ã‚Šè¾¼ã¿ã§å‘¼ã¶é–¢æ•°
  51:Core/Src/Main/Interrupt.c **** //ã“ã®ã‚ãŸã‚Šã®é–¢æ•°ã¯ã€æ§‹é€ ä½“å¤‰æ•°ã‚’æ‰±ã†ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¾ã¨ã‚ãŸã»ã†ãŒã„ã„ã
  52:Core/Src/Main/Interrupt.c **** 
  53:Core/Src/Main/Interrupt.c **** static void Explore_IT()
  54:Core/Src/Main/Interrupt.c **** {
  31              		.loc 1 54 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35 0000 70B5     		push	{r4, r5, r6, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 16
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  55:Core/Src/Main/Interrupt.c **** 
  56:Core/Src/Main/Interrupt.c **** //*-----------------*/
  57:Core/Src/Main/Interrupt.c **** 
  58:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
  42              		.loc 1 58 2 view .LVU1
  43              		.loc 1 58 35 is_stmt 0 view .LVU2
  44 0002 A54A     		ldr	r2, .L14+8
  45 0004 516A     		ldr	r1, [r2, #36]
  46              		.loc 1 58 28 view .LVU3
  47 0006 47F22F53 		movw	r3, #29999
  48 000a 591A     		subs	r1, r3, r1
  49              		.loc 1 58 26 view .LVU4
  50 000c A34C     		ldr	r4, .L14+12
  51 000e 2160     		str	r1, [r4]
  59:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  52              		.loc 1 59 2 is_stmt 1 view .LVU5
  53              		.loc 1 59 12 is_stmt 0 view .LVU6
  54 0010 5362     		str	r3, [r2, #36]
  60:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
  55              		.loc 1 60 2 is_stmt 1 view .LVU7
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 3


  56              		.loc 1 60 36 is_stmt 0 view .LVU8
  57 0012 A348     		ldr	r0, .L14+16
  58 0014 426A     		ldr	r2, [r0, #36]
  59              		.loc 1 60 29 view .LVU9
  60 0016 9A1A     		subs	r2, r3, r2
  61              		.loc 1 60 27 view .LVU10
  62 0018 6260     		str	r2, [r4, #4]
  61:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
  63              		.loc 1 61 2 is_stmt 1 view .LVU11
  64              		.loc 1 61 12 is_stmt 0 view .LVU12
  65 001a 4362     		str	r3, [r0, #36]
  62:Core/Src/Main/Interrupt.c **** 
  63:Core/Src/Main/Interrupt.c **** 	//é€Ÿåº¦ mm/s
  64:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[LEFT] =  (float)PulseDisplacement[LEFT] * convert_to_velocity;
  66              		.loc 1 64 2 is_stmt 1 view .LVU13
  67              		.loc 1 64 27 is_stmt 0 view .LVU14
  68 001c 07EE901A 		vmov	s15, r1	@ int
  69 0020 B8EEE77A 		vcvt.f32.s32	s14, s15
  70              		.loc 1 64 58 view .LVU15
  71 0024 DFED9F6A 		vldr.32	s13, .L14+20
  72 0028 27EE267A 		vmul.f32	s14, s14, s13
  73              		.loc 1 64 24 view .LVU16
  74 002c 9E4B     		ldr	r3, .L14+24
  75 002e 83ED007A 		vstr.32	s14, [r3]
  65:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  76              		.loc 1 65 2 is_stmt 1 view .LVU17
  77              		.loc 1 65 28 is_stmt 0 view .LVU18
  78 0032 07EE902A 		vmov	s15, r2	@ int
  79 0036 F8EEE77A 		vcvt.f32.s32	s15, s15
  80              		.loc 1 65 60 view .LVU19
  81 003a 67EEA67A 		vmul.f32	s15, s15, s13
  82              		.loc 1 65 25 view .LVU20
  83 003e C3ED017A 		vstr.32	s15, [r3, #4]
  66:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[BODY] = (CurrentVelocity[LEFT] + CurrentVelocity[RIGHT] )*0.5f;
  84              		.loc 1 66 2 is_stmt 1 view .LVU21
  85              		.loc 1 66 42 is_stmt 0 view .LVU22
  86 0042 D3ED007A 		vldr.32	s15, [r3]
  87              		.loc 1 66 66 view .LVU23
  88 0046 93ED017A 		vldr.32	s14, [r3, #4]
  89              		.loc 1 66 49 view .LVU24
  90 004a 77EE877A 		vadd.f32	s15, s15, s14
  91              		.loc 1 66 75 view .LVU25
  92 004e B6EE007A 		vmov.f32	s14, #5.0e-1
  93 0052 67EE877A 		vmul.f32	s15, s15, s14
  94              		.loc 1 66 24 view .LVU26
  95 0056 C3ED027A 		vstr.32	s15, [r3, #8]
  67:Core/Src/Main/Interrupt.c **** 	if((1 <= dbc) && (dbc <= 2000))
  96              		.loc 1 67 2 is_stmt 1 view .LVU27
  97              		.loc 1 67 16 is_stmt 0 view .LVU28
  98 005a 944B     		ldr	r3, .L14+28
  99 005c 1B68     		ldr	r3, [r3]
 100 005e 581E     		subs	r0, r3, #1
 101              		.loc 1 67 4 view .LVU29
 102 0060 B0F5FA6F 		cmp	r0, #2000
 103 0064 0ED2     		bcs	.L2
  68:Core/Src/Main/Interrupt.c **** 	{
  69:Core/Src/Main/Interrupt.c **** 		debugVL[dbc-1] = CurrentVelocity[LEFT];
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 4


 104              		.loc 1 69 3 is_stmt 1 view .LVU30
 105              		.loc 1 69 14 is_stmt 0 view .LVU31
 106 0066 0546     		mov	r5, r0
 107              		.loc 1 69 35 view .LVU32
 108 0068 8F48     		ldr	r0, .L14+24
 109 006a 0668     		ldr	r6, [r0]	@ float
 110              		.loc 1 69 18 view .LVU33
 111 006c 904C     		ldr	r4, .L14+32
 112 006e 04EB8504 		add	r4, r4, r5, lsl #2
 113 0072 2660     		str	r6, [r4]	@ float
  70:Core/Src/Main/Interrupt.c **** 		debugVR[dbc-1] = CurrentVelocity[RIGHT];
 114              		.loc 1 70 3 is_stmt 1 view .LVU34
 115              		.loc 1 70 35 is_stmt 0 view .LVU35
 116 0074 4468     		ldr	r4, [r0, #4]	@ float
 117              		.loc 1 70 18 view .LVU36
 118 0076 8F48     		ldr	r0, .L14+36
 119 0078 00EB8500 		add	r0, r0, r5, lsl #2
 120 007c 0460     		str	r4, [r0]	@ float
  71:Core/Src/Main/Interrupt.c **** 		dbc ++;
 121              		.loc 1 71 3 is_stmt 1 view .LVU37
 122              		.loc 1 71 7 is_stmt 0 view .LVU38
 123 007e 0133     		adds	r3, r3, #1
 124 0080 8A48     		ldr	r0, .L14+28
 125 0082 0360     		str	r3, [r0]
 126              	.L2:
  72:Core/Src/Main/Interrupt.c **** 	}
  73:Core/Src/Main/Interrupt.c **** 
  74:Core/Src/Main/Interrupt.c **** 
  75:Core/Src/Main/Interrupt.c **** 	//ç§»å‹•é‡ mm/msã‚’ç©ç®—
  76:Core/Src/Main/Interrupt.c **** 
  77:Core/Src/Main/Interrupt.c **** 	TotalPulse[LEFT] += PulseDisplacement[LEFT];
 127              		.loc 1 77 2 is_stmt 1 view .LVU39
 128              		.loc 1 77 19 is_stmt 0 view .LVU40
 129 0084 8C4B     		ldr	r3, .L14+40
 130 0086 1868     		ldr	r0, [r3]
 131 0088 0144     		add	r1, r1, r0
 132 008a 1960     		str	r1, [r3]
  78:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 133              		.loc 1 78 2 is_stmt 1 view .LVU41
 134              		.loc 1 78 20 is_stmt 0 view .LVU42
 135 008c 5968     		ldr	r1, [r3, #4]
 136 008e 0A44     		add	r2, r2, r1
 137 0090 5A60     		str	r2, [r3, #4]
  79:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 138              		.loc 1 79 2 is_stmt 1 view .LVU43
 139              		.loc 1 79 31 is_stmt 0 view .LVU44
 140 0092 1A68     		ldr	r2, [r3]
 141              		.loc 1 79 48 view .LVU45
 142 0094 5968     		ldr	r1, [r3, #4]
 143              		.loc 1 79 37 view .LVU46
 144 0096 0A44     		add	r2, r2, r1
 145              		.loc 1 79 19 view .LVU47
 146 0098 9A60     		str	r2, [r3, #8]
  80:Core/Src/Main/Interrupt.c **** 	//è§’é€Ÿåº¦ rad/s
  81:Core/Src/Main/Interrupt.c **** 
  82:Core/Src/Main/Interrupt.c **** #if 0
  83:Core/Src/Main/Interrupt.c **** 	//static float angle=0;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 5


  84:Core/Src/Main/Interrupt.c **** 	volatile static float zg_last=0;
  85:Core/Src/Main/Interrupt.c **** 	volatile float zg_law;
  86:Core/Src/Main/Interrupt.c **** 	//uint8_t zgb,zgf;
  87:Core/Src/Main/Interrupt.c **** 	ZGyro = ReadIMU(0x37, 0x38);
  88:Core/Src/Main/Interrupt.c ****     zg_law =  ( ZGyro - zg_offset )*convert_to_imu_angv;//16.4 * 180;//rad/s or rad/0.001s
  89:Core/Src/Main/Interrupt.c ****     AngularV = -((0.01*zg_law) + (0.99)* (zg_last));
  90:Core/Src/Main/Interrupt.c ****     zg_last = zg_law;
  91:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
  92:Core/Src/Main/Interrupt.c **** 
  93:Core/Src/Main/Interrupt.c **** #else
  94:Core/Src/Main/Interrupt.c **** 	Update_IMU(&AngularV, &Angle); //ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ã¨ã‚ªãƒ•ã‚»ãƒƒãƒˆã ã‘ã§ä½•ã¨ã‹ã
 147              		.loc 1 94 2 is_stmt 1 view .LVU48
 148 009a 8849     		ldr	r1, .L14+44
 149 009c 8848     		ldr	r0, .L14+48
 150 009e FFF7FEFF 		bl	Update_IMU
 151              	.LVL0:
  95:Core/Src/Main/Interrupt.c **** //	AngularV = ( CurrentVelocity[LEFT] - CurrentVelocity[RIGHT] ) *convert_to_angularv;
  96:Core/Src/Main/Interrupt.c **** //	Angle += AngularV * T1;
  97:Core/Src/Main/Interrupt.c **** 
  98:Core/Src/Main/Interrupt.c **** #endif
  99:Core/Src/Main/Interrupt.c **** 		//åŸºæœ¬çš„ã«ã©ã‚Œã‹ã²ã¨ã¤ã ã‘. è§’åº¦ã«å¿œã˜ãŸè§’é€Ÿåº¦åˆ¶å¾¡ã¨ã€å£åˆ¶å¾¡ã¯æ··åœ¨
 100:Core/Src/Main/Interrupt.c **** 		//ã©ã‚“ãªçŠ¶æ³ã§ã©ã®åˆ¶å¾¡ã‚’ã‚ªãƒ³ã«ã™ã‚‹ã‹.
 101:Core/Src/Main/Interrupt.c **** 		//ã‚¹ãƒ©ãƒ­ãƒ¼ãƒ ä¸­. è§’é€Ÿåº¦åˆ¶å¾¡ã®ã¿?
 102:Core/Src/Main/Interrupt.c **** 		//ç›´é€²ä¸­. å£ãŒã‚ã‚Œã°å£åˆ¶å¾¡. ä½¿ã‚ãªã„ã€ä½¿ãˆãªã„ã¨ãã¯è§’åº¦åˆ¶å¾¡
 103:Core/Src/Main/Interrupt.c **** 		//è¶…ä¿¡åœ°æ—‹å›žä¸­. è§’åº¦åˆ¶å¾¡ãã‚‰ã„?. ã„ã‚‰ãªã„ã‹ã‚‚
 104:Core/Src/Main/Interrupt.c **** 		//æ¸›é€Ÿ + ã‚¿ãƒ¼ãƒ³. è£œæ­£ã‚’å…¥ã‚Œã‚‹ãŸã‚ã«å£åˆ¶å¾¡ã‚’ä½¿ç”¨.
 105:Core/Src/Main/Interrupt.c **** 		//æ–œã‚èµ°è¡Œæ™‚ï¼ˆæœ€çŸ­èµ°è¡Œï¼‰. æ–œã‚ã§ã‚ã‚‹ã“ã¨ã‚’ãƒ¢ãƒ¼ãƒ‰ã§è¡¨ã™. è£œæ­£ã®æ¡ä»¶ã
 106:Core/Src/Main/Interrupt.c **** 
 107:Core/Src/Main/Interrupt.c **** 		//ä¸­å¿ƒã‹ã‚‰ã‚ºãƒ¬ã¦ã„ã‚‹ã“ã¨ã‚’æ¤œçŸ¥ã™ã‚‹ã«ã¯ï¼Ÿ
 108:Core/Src/Main/Interrupt.c **** 			//è§’åº¦ãŒã»ã¼ç›®æ¨™å€¤å†…ã§ã‚ã‚Šã€å·¦å³ã®ã‚»ãƒ³ã‚µãŒç›®æ¨™ã‹ã‚‰ã‚ºãƒ¬ã¦ã„ã‚‹ã¨ã.
 109:Core/Src/Main/Interrupt.c **** 				//è§’åº¦åˆ¶å¾¡ã‚’åˆ‡ã£ã¦å£åˆ¶å¾¡.ã“ã®ã¨ãã€å£ãŒç¢ºå®Ÿã«ç¶šãä¿è¨¼ãŒã‚ã‚‹é–“ã®ã
 110:Core/Src/Main/Interrupt.c **** 
 111:Core/Src/Main/Interrupt.c **** 	//åŸºæœ¬çš„ã«è§’åº¦åˆ¶å¾¡ã§å‘ãã‚’èª¿æ•´
 112:Core/Src/Main/Interrupt.c **** 	//ä¸€çž¬å£è¦‹ã¦èª¿æ•´æœŸé–“ã‚’æ±‚ã‚ã¦ãƒ•ãƒ©ã‚°å¤‰æ›´
 113:Core/Src/Main/Interrupt.c **** 	//ã‚ã¨ã¯è£œæ­£
 114:Core/Src/Main/Interrupt.c **** 		//å£ã«è©°ã‚ã™ãŽãŸã¨ãã®å¯¾ç­–ã¨ã—ã¦ã€æ¯Žå›žä¸€å®šè·é›¢å¾Œé€€ã—ã¦ã‹ã‚‰å‰å£åˆ¶å¾
 115:Core/Src/Main/Interrupt.c **** 			//ã¡ã‚‡ã£ã¨ä¸‹ãŒã£ãŸæ™‚ã«ã‚»ãƒ³ã‚µå€¤ãŒã‚ãŒã£ãŸã‹ã©ã†ã‹ã§è©°ã‚ã™ãŽã ã£ãŸã
 116:Core/Src/Main/Interrupt.c **** 
 117:Core/Src/Main/Interrupt.c **** 	//switchæ–‡ã§ã©ã‚Œã‹ã²ã¨ã¤ã«çµžã‚‰ã›ãŸã„
 118:Core/Src/Main/Interrupt.c **** //	static int keep_mode = A_VELO_PID;
 119:Core/Src/Main/Interrupt.c **** 
 120:Core/Src/Main/Interrupt.c **** //	//0ã‹ã‚‰é•ã†ãƒ¢ãƒ¼ãƒ‰ã«å¤‰ã‚ã‚‹ã¨ãã€å‰ã®ãƒ¢ãƒ¼ãƒ‰ã®å€¤ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¦ãŠã
 121:Core/Src/Main/Interrupt.c **** //	if( Control_Mode != keep_mode){
 122:Core/Src/Main/Interrupt.c **** //		PIDReset(keep_mode);
 123:Core/Src/Main/Interrupt.c **** //		Pid[keep_mode].flag = 0;
 124:Core/Src/Main/Interrupt.c **** //	}
 125:Core/Src/Main/Interrupt.c **** //	Pid[Control_Mode].flag = 1;
 126:Core/Src/Main/Interrupt.c **** //	keep_mode = Control_Mode;
 127:Core/Src/Main/Interrupt.c **** 
 128:Core/Src/Main/Interrupt.c **** ////	keep_mode = Control_Mode;
 129:Core/Src/Main/Interrupt.c **** 	int wall_d =0,wall_l =0,wall_r =0, wall_f=0;
 152              		.loc 1 129 2 view .LVU49
 130:Core/Src/Main/Interrupt.c **** 		int ang_out=0;
 153              		.loc 1 130 3 view .LVU50
 131:Core/Src/Main/Interrupt.c **** #if 1
 132:Core/Src/Main/Interrupt.c **** 
 133:Core/Src/Main/Interrupt.c **** 				if( Pid[A_VELO_PID].flag == 1 )
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 6


 154              		.loc 1 133 5 view .LVU51
 155              		.loc 1 133 24 is_stmt 0 view .LVU52
 156 00a2 884B     		ldr	r3, .L14+52
 157 00a4 9B6A     		ldr	r3, [r3, #40]
 158              		.loc 1 133 7 view .LVU53
 159 00a6 012B     		cmp	r3, #1
 160 00a8 5BD0     		beq	.L9
 134:Core/Src/Main/Interrupt.c **** 				{
 135:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 136:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€
 137:Core/Src/Main/Interrupt.c **** //					ChangeLED(2);
 138:Core/Src/Main/Interrupt.c **** 				}
 139:Core/Src/Main/Interrupt.c **** 				else if( Pid[D_WALL_PID].flag == 1 )
 161              		.loc 1 139 10 is_stmt 1 view .LVU54
 162              		.loc 1 139 29 is_stmt 0 view .LVU55
 163 00aa 864B     		ldr	r3, .L14+52
 164 00ac 5B6D     		ldr	r3, [r3, #84]
 165              		.loc 1 139 12 view .LVU56
 166 00ae 012B     		cmp	r3, #1
 167 00b0 68D0     		beq	.L10
 140:Core/Src/Main/Interrupt.c **** 				{
 141:Core/Src/Main/Interrupt.c **** 					wall_d = PIDControl( D_WALL_PID, Photo[SL], Photo[SIDE_R]+PhotoDiff);	//å·¦ã«å¯„ã£ã¦ãŸã‚‰+
 142:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 143:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 144:Core/Src/Main/Interrupt.c **** 				}
 145:Core/Src/Main/Interrupt.c **** 				else if( Pid[L_WALL_PID].flag == 1 )
 168              		.loc 1 145 10 is_stmt 1 view .LVU57
 169              		.loc 1 145 29 is_stmt 0 view .LVU58
 170 00b2 844B     		ldr	r3, .L14+52
 171 00b4 D3F88030 		ldr	r3, [r3, #128]
 172              		.loc 1 145 12 view .LVU59
 173 00b8 012B     		cmp	r3, #1
 174 00ba 00F08280 		beq	.L11
 146:Core/Src/Main/Interrupt.c **** 				{
 147:Core/Src/Main/Interrupt.c **** 					wall_l = PIDControl( L_WALL_PID,  Photo[SL], TargetPhoto[SL]);
 148:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 149:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 150:Core/Src/Main/Interrupt.c **** 				}
 151:Core/Src/Main/Interrupt.c **** 				else if( Pid[R_WALL_PID].flag == 1 )
 175              		.loc 1 151 10 is_stmt 1 view .LVU60
 176              		.loc 1 151 29 is_stmt 0 view .LVU61
 177 00be 814B     		ldr	r3, .L14+52
 178 00c0 D3F8AC30 		ldr	r3, [r3, #172]
 179              		.loc 1 151 12 view .LVU62
 180 00c4 012B     		cmp	r3, #1
 181 00c6 00F09780 		beq	.L12
 152:Core/Src/Main/Interrupt.c **** 				{
 153:Core/Src/Main/Interrupt.c **** 					wall_r = PIDControl( R_WALL_PID,  TargetPhoto[SIDE_R], Photo[SIDE_R]);			//å³ã«å¯„ã£ã¦ãŸã
 154:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 155:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 156:Core/Src/Main/Interrupt.c **** 				}
 157:Core/Src/Main/Interrupt.c **** 				else if( Pid[F_WALL_PID].flag == 1)
 182              		.loc 1 157 10 is_stmt 1 view .LVU63
 183              		.loc 1 157 29 is_stmt 0 view .LVU64
 184 00ca 7E4B     		ldr	r3, .L14+52
 185 00cc D3F88831 		ldr	r3, [r3, #392]
 186              		.loc 1 157 12 view .LVU65
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 7


 187 00d0 012B     		cmp	r3, #1
 188 00d2 00F0AC80 		beq	.L13
 189              	.LVL1:
 190              	.L4:
 158:Core/Src/Main/Interrupt.c **** 				{
 159:Core/Src/Main/Interrupt.c **** 					wall_f = PIDControl( F_WALL_PID,   3800, (	(Photo[FR]+Photo[FL])));
 160:Core/Src/Main/Interrupt.c **** 					TargetVelocity[BODY] = (float)wall_f*0.001;
 161:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 162:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;
 163:Core/Src/Main/Interrupt.c **** //					ChangeLED(7);
 164:Core/Src/Main/Interrupt.c **** 					//TargetVelocity[BODY] = 0.1*PIDControl( FD_WALL_PID,   Photo[FR]+Photo[FL],4000);
 165:Core/Src/Main/Interrupt.c **** 				}
 166:Core/Src/Main/Interrupt.c **** #else
 167:Core/Src/Main/Interrupt.c **** 	switch(Control_Mode)
 168:Core/Src/Main/Interrupt.c **** 	{
 169:Core/Src/Main/Interrupt.c **** 	case A_VELO_PID:
 170:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( Control_Mode,  TargetAngle, Angle);
 171:Core/Src/Main/Interrupt.c **** 		TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€‚åˆ
 172:Core/Src/Main/Interrupt.c **** 		ChangeLED(7);
 173:Core/Src/Main/Interrupt.c **** 		break;
 174:Core/Src/Main/Interrupt.c **** 	case D_WALL_PID:
 175:Core/Src/Main/Interrupt.c **** 		wall_d = PIDControl( Control_Mode, Photo[SL], Photo[SIDE_R]+PhotoDiff);	//å·¦ã«å¯„ã£ã¦ãŸã‚‰+â
 176:Core/Src/Main/Interrupt.c **** 		TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒè
 177:Core/Src/Main/Interrupt.c **** 		ChangeLED(5);
 178:Core/Src/Main/Interrupt.c **** 		break;
 179:Core/Src/Main/Interrupt.c **** 	case L_WALL_PID:
 180:Core/Src/Main/Interrupt.c **** 		wall_l = PIDControl( Control_Mode,  Photo[SL], TargetPhoto[SL]);
 181:Core/Src/Main/Interrupt.c **** 		TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒè
 182:Core/Src/Main/Interrupt.c **** 		ChangeLED(4);
 183:Core/Src/Main/Interrupt.c **** 		break;
 184:Core/Src/Main/Interrupt.c **** 	case R_WALL_PID :
 185:Core/Src/Main/Interrupt.c **** 		wall_r = PIDControl( Control_Mode,  TargetPhoto[SIDE_R], Photo[SIDE_R]);			//å³ã«å¯„ã£ã¦ãŸã‚
 186:Core/Src/Main/Interrupt.c **** 		TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒè
 187:Core/Src/Main/Interrupt.c **** 		ChangeLED(1);
 188:Core/Src/Main/Interrupt.c **** 		break;
 189:Core/Src/Main/Interrupt.c **** 	case F_WALL_PID : //å‰å£è£œæ­£ã®ãŸã‚ã®åˆ¶å¾¡. ãƒŸãƒƒã‚¯ã‚¹ã¯ã‚ˆããªã„.
 190:Core/Src/Main/Interrupt.c **** 		wall_f = PIDControl( Control_Mode,   3500, (	(Photo[FR]+Photo[FL])));
 191:Core/Src/Main/Interrupt.c **** 		TargetVelocity[BODY] = (float)wall_f*0.001;
 192:Core/Src/Main/Interrupt.c **** 		ChangeLED(2);
 193:Core/Src/Main/Interrupt.c **** 
 194:Core/Src/Main/Interrupt.c **** 		break;
 195:Core/Src/Main/Interrupt.c **** 	case NOT_CTRL_PID:
 196:Core/Src/Main/Interrupt.c **** 		break;
 197:Core/Src/Main/Interrupt.c **** 	default :
 198:Core/Src/Main/Interrupt.c **** 		break;
 199:Core/Src/Main/Interrupt.c **** 	}
 200:Core/Src/Main/Interrupt.c **** #endif
 201:Core/Src/Main/Interrupt.c **** //		if( Pos.Dir == front || Pos.Act == compensate || Pos.Act == rotate) //ã“ã®åˆ¤å®šã¯ç„¡ã„ã»ã
 202:Core/Src/Main/Interrupt.c **** //		{
 203:Core/Src/Main/Interrupt.c **** //			if( Pid[A_VELO_PID].flag == 1 )
 204:Core/Src/Main/Interrupt.c **** //			{
 205:Core/Src/Main/Interrupt.c **** //				ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 206:Core/Src/Main/Interrupt.c **** //				TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã
 207:Core/Src/Main/Interrupt.c **** //			}
 208:Core/Src/Main/Interrupt.c **** //			else if( Pid[D_WALL_PID].flag == 1 )
 209:Core/Src/Main/Interrupt.c **** //			{
 210:Core/Src/Main/Interrupt.c **** //				wall_d = PIDControl( D_WALL_PID, Photo[SL], Photo[SIDE_R]+PhotoDiff);	//å·¦ã«å¯„ã£ã¦ãŸã‚‰
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 8


 211:Core/Src/Main/Interrupt.c **** //				TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•
 212:Core/Src/Main/Interrupt.c **** //			}
 213:Core/Src/Main/Interrupt.c **** //			else if( Pid[L_WALL_PID].flag == 1 )
 214:Core/Src/Main/Interrupt.c **** //			{
 215:Core/Src/Main/Interrupt.c **** //				wall_l = PIDControl( L_WALL_PID,  Photo[SL], TargetPhoto[SL]);
 216:Core/Src/Main/Interrupt.c **** //				TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•
 217:Core/Src/Main/Interrupt.c **** //
 218:Core/Src/Main/Interrupt.c **** //			}
 219:Core/Src/Main/Interrupt.c **** //			else if( Pid[R_WALL_PID].flag == 1 )
 220:Core/Src/Main/Interrupt.c **** //			{
 221:Core/Src/Main/Interrupt.c **** //				wall_r = PIDControl( R_WALL_PID,  TargetPhoto[SIDE_R], Photo[SIDE_R]);			//å³ã«å¯„ã£ã¦ãŸ
 222:Core/Src/Main/Interrupt.c **** //				TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•
 223:Core/Src/Main/Interrupt.c **** //			}
 224:Core/Src/Main/Interrupt.c **** //			else if( Pid[F_WALL_PID].flag == 1)
 225:Core/Src/Main/Interrupt.c **** //			{
 226:Core/Src/Main/Interrupt.c **** //				wall_f = PIDControl( F_WALL_PID,   4000, (	(Photo[FR]+Photo[FL])));
 227:Core/Src/Main/Interrupt.c **** //				TargetVelocity[BODY] = (float)wall_f*0.001;
 228:Core/Src/Main/Interrupt.c **** //				ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 229:Core/Src/Main/Interrupt.c **** //				TargetAngularV = (float)ang_out;
 230:Core/Src/Main/Interrupt.c **** //
 231:Core/Src/Main/Interrupt.c **** //				//TargetVelocity[BODY] = 0.1*PIDControl( FD_WALL_PID,   Photo[FR]+Photo[FL],4000);
 232:Core/Src/Main/Interrupt.c **** //			}
 233:Core/Src/Main/Interrupt.c **** //		}
 234:Core/Src/Main/Interrupt.c **** 
 235:Core/Src/Main/Interrupt.c **** 	TargetVelocity[BODY] += Acceleration;
 191              		.loc 1 235 2 is_stmt 1 view .LVU66
 192 00d6 7C4B     		ldr	r3, .L14+56
 193 00d8 93ED007A 		vldr.32	s14, [r3]
 194              		.loc 1 235 23 is_stmt 0 view .LVU67
 195 00dc 7B4C     		ldr	r4, .L14+60
 196 00de D4ED027A 		vldr.32	s15, [r4, #8]
 197 00e2 77EE877A 		vadd.f32	s15, s15, s14
 198 00e6 C4ED027A 		vstr.32	s15, [r4, #8]
 236:Core/Src/Main/Interrupt.c **** 	//AngularAcceleration += AngularLeapsity;
 237:Core/Src/Main/Interrupt.c **** 	TargetAngularV += AngularAcceleration;
 199              		.loc 1 237 2 is_stmt 1 view .LVU68
 200 00ea 794B     		ldr	r3, .L14+64
 201 00ec 93ED007A 		vldr.32	s14, [r3]
 202              		.loc 1 237 17 is_stmt 0 view .LVU69
 203 00f0 784B     		ldr	r3, .L14+68
 204 00f2 D3ED007A 		vldr.32	s15, [r3]
 205 00f6 77EE877A 		vadd.f32	s15, s15, s14
 206 00fa C3ED007A 		vstr.32	s15, [r3]
 238:Core/Src/Main/Interrupt.c **** 	//TargetAngularV += AngularAcceleration;
 239:Core/Src/Main/Interrupt.c **** 	TargetVelocity[RIGHT] = ( TargetVelocity[BODY] - TargetAngularV * TREAD_WIDTH * 0.5f );
 207              		.loc 1 239 2 is_stmt 1 view .LVU70
 208              		.loc 1 239 42 is_stmt 0 view .LVU71
 209 00fe D4ED026A 		vldr.32	s13, [r4, #8]
 210              		.loc 1 239 66 view .LVU72
 211 0102 93ED007A 		vldr.32	s14, [r3]
 212 0106 9FED746A 		vldr.32	s12, .L14+72
 213 010a 27EE067A 		vmul.f32	s14, s14, s12
 214              		.loc 1 239 80 view .LVU73
 215 010e F6EE007A 		vmov.f32	s15, #5.0e-1
 216 0112 27EE277A 		vmul.f32	s14, s14, s15
 217              		.loc 1 239 49 view .LVU74
 218 0116 36EEC77A 		vsub.f32	s14, s13, s14
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 9


 219              		.loc 1 239 24 view .LVU75
 220 011a 84ED017A 		vstr.32	s14, [r4, #4]
 240:Core/Src/Main/Interrupt.c **** 	TargetVelocity[LEFT] = ( TargetAngularV *TREAD_WIDTH ) + TargetVelocity[RIGHT];
 221              		.loc 1 240 2 is_stmt 1 view .LVU76
 222              		.loc 1 240 42 is_stmt 0 view .LVU77
 223 011e D3ED007A 		vldr.32	s15, [r3]
 224 0122 67EE867A 		vmul.f32	s15, s15, s12
 225              		.loc 1 240 73 view .LVU78
 226 0126 94ED017A 		vldr.32	s14, [r4, #4]
 227              		.loc 1 240 57 view .LVU79
 228 012a 77EE877A 		vadd.f32	s15, s15, s14
 229              		.loc 1 240 23 view .LVU80
 230 012e C4ED007A 		vstr.32	s15, [r4]
 241:Core/Src/Main/Interrupt.c **** 
 242:Core/Src/Main/Interrupt.c **** 	VelocityLeftOut = PIDControl( L_VELO_PID, TargetVelocity[LEFT], CurrentVelocity[LEFT]);
 231              		.loc 1 242 2 is_stmt 1 view .LVU81
 232              		.loc 1 242 20 is_stmt 0 view .LVU82
 233 0132 94ED000A 		vldr.32	s0, [r4]
 234 0136 5C4E     		ldr	r6, .L14+24
 235 0138 D6ED000A 		vldr.32	s1, [r6]
 236 013c 0420     		movs	r0, #4
 237 013e FFF7FEFF 		bl	PIDControl
 238              	.LVL2:
 239              		.loc 1 242 18 view .LVU83
 240 0142 664D     		ldr	r5, .L14+76
 241 0144 2860     		str	r0, [r5]
 243:Core/Src/Main/Interrupt.c **** 	VelocityRightOut = PIDControl( R_VELO_PID, TargetVelocity[RIGHT], CurrentVelocity[RIGHT]);
 242              		.loc 1 243 2 is_stmt 1 view .LVU84
 243              		.loc 1 243 21 is_stmt 0 view .LVU85
 244 0146 94ED010A 		vldr.32	s0, [r4, #4]
 245 014a D6ED010A 		vldr.32	s1, [r6, #4]
 246 014e 0520     		movs	r0, #5
 247 0150 FFF7FEFF 		bl	PIDControl
 248              	.LVL3:
 249 0154 0146     		mov	r1, r0
 250              		.loc 1 243 19 view .LVU86
 251 0156 624B     		ldr	r3, .L14+80
 252 0158 1860     		str	r0, [r3]
 244:Core/Src/Main/Interrupt.c **** 
 245:Core/Src/Main/Interrupt.c **** 	//ãƒ¢ãƒ¼ã‚¿ã«å‡ºåŠ›
 246:Core/Src/Main/Interrupt.c **** 	Motor_Switch( VelocityLeftOut, VelocityRightOut );
 253              		.loc 1 246 2 is_stmt 1 view .LVU87
 254 015a 2868     		ldr	r0, [r5]
 255 015c FFF7FEFF 		bl	Motor_Switch
 256              	.LVL4:
 247:Core/Src/Main/Interrupt.c **** //	if(1)//my_mouse.goal_lesser.x == GOAL_X && my_mouse.goal_lesser.y == GOAL_Y)
 248:Core/Src/Main/Interrupt.c **** //			ChangeLED(7);
 249:Core/Src/Main/Interrupt.c **** //	else
 250:Core/Src/Main/Interrupt.c **** //	{
 251:Core/Src/Main/Interrupt.c **** //		ChangeLED(4);
 252:Core/Src/Main/Interrupt.c **** //	}
 253:Core/Src/Main/Interrupt.c **** }
 257              		.loc 1 253 1 is_stmt 0 view .LVU88
 258 0160 70BD     		pop	{r4, r5, r6, pc}
 259              	.LVL5:
 260              	.L9:
 135:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 10


 261              		.loc 1 135 6 is_stmt 1 view .LVU89
 135:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€
 262              		.loc 1 135 16 is_stmt 0 view .LVU90
 263 0162 604B     		ldr	r3, .L14+84
 264 0164 93ED000A 		vldr.32	s0, [r3]
 265 0168 544B     		ldr	r3, .L14+44
 266 016a D3ED000A 		vldr.32	s1, [r3]
 267 016e 0020     		movs	r0, #0
 268 0170 FFF7FEFF 		bl	PIDControl
 269              	.LVL6:
 270 0174 07EE900A 		vmov	s15, r0	@ int
 271              	.LVL7:
 136:Core/Src/Main/Interrupt.c **** //					ChangeLED(2);
 272              		.loc 1 136 6 is_stmt 1 view .LVU91
 136:Core/Src/Main/Interrupt.c **** //					ChangeLED(2);
 273              		.loc 1 136 23 is_stmt 0 view .LVU92
 274 0178 F8EEE77A 		vcvt.f32.s32	s15, s15
 136:Core/Src/Main/Interrupt.c **** //					ChangeLED(2);
 275              		.loc 1 136 21 view .LVU93
 276 017c 554B     		ldr	r3, .L14+68
 277 017e C3ED007A 		vstr.32	s15, [r3]
 278 0182 A8E7     		b	.L4
 279              	.LVL8:
 280              	.L10:
 141:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 281              		.loc 1 141 6 is_stmt 1 view .LVU94
 141:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 282              		.loc 1 141 55 is_stmt 0 view .LVU95
 283 0184 584B     		ldr	r3, .L14+88
 284 0186 D3ED010A 		vldr.32	s1, [r3, #4]
 141:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 285              		.loc 1 141 15 view .LVU96
 286 018a 584A     		ldr	r2, .L14+92
 287 018c D2ED007A 		vldr.32	s15, [r2]
 288 0190 70EEA70A 		vadd.f32	s1, s1, s15
 289 0194 93ED020A 		vldr.32	s0, [r3, #8]
 290 0198 0120     		movs	r0, #1
 291 019a FFF7FEFF 		bl	PIDControl
 292              	.LVL9:
 293 019e 07EE900A 		vmov	s15, r0	@ int
 294              	.LVL10:
 142:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 295              		.loc 1 142 6 is_stmt 1 view .LVU97
 142:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 296              		.loc 1 142 23 is_stmt 0 view .LVU98
 297 01a2 F8EEE77A 		vcvt.f32.s32	s15, s15
 298 01a6 17EE900A 		vmov	r0, s15
 299              	.LVL11:
 142:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 300              		.loc 1 142 23 view .LVU99
 301 01aa FFF7FEFF 		bl	__aeabi_f2d
 302              	.LVL12:
 142:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 303              		.loc 1 142 36 view .LVU100
 304 01ae 38A3     		adr	r3, .L14
 305 01b0 D3E90023 		ldrd	r2, [r3]
 306 01b4 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 11


 307              	.LVL13:
 308 01b8 FFF7FEFF 		bl	__aeabi_d2f
 309              	.LVL14:
 142:Core/Src/Main/Interrupt.c **** //					ChangeLED(5);
 310              		.loc 1 142 21 view .LVU101
 311 01bc 454B     		ldr	r3, .L14+68
 312 01be 1860     		str	r0, [r3]	@ float
 313 01c0 89E7     		b	.L4
 314              	.LVL15:
 315              	.L11:
 147:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 316              		.loc 1 147 6 is_stmt 1 view .LVU102
 147:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 317              		.loc 1 147 15 is_stmt 0 view .LVU103
 318 01c2 4B4B     		ldr	r3, .L14+96
 319 01c4 D3ED020A 		vldr.32	s1, [r3, #8]
 320 01c8 474B     		ldr	r3, .L14+88
 321 01ca 93ED020A 		vldr.32	s0, [r3, #8]
 322 01ce 0220     		movs	r0, #2
 323 01d0 FFF7FEFF 		bl	PIDControl
 324              	.LVL16:
 325 01d4 07EE900A 		vmov	s15, r0	@ int
 326              	.LVL17:
 148:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 327              		.loc 1 148 6 is_stmt 1 view .LVU104
 148:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 328              		.loc 1 148 23 is_stmt 0 view .LVU105
 329 01d8 F8EEE77A 		vcvt.f32.s32	s15, s15
 330 01dc 17EE900A 		vmov	r0, s15
 331              	.LVL18:
 148:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 332              		.loc 1 148 23 view .LVU106
 333 01e0 FFF7FEFF 		bl	__aeabi_f2d
 334              	.LVL19:
 148:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 335              		.loc 1 148 36 view .LVU107
 336 01e4 2AA3     		adr	r3, .L14
 337 01e6 D3E90023 		ldrd	r2, [r3]
 338 01ea FFF7FEFF 		bl	__aeabi_dmul
 339              	.LVL20:
 340 01ee FFF7FEFF 		bl	__aeabi_d2f
 341              	.LVL21:
 148:Core/Src/Main/Interrupt.c **** //					ChangeLED(4);
 342              		.loc 1 148 21 view .LVU108
 343 01f2 384B     		ldr	r3, .L14+68
 344 01f4 1860     		str	r0, [r3]	@ float
 345 01f6 6EE7     		b	.L4
 346              	.LVL22:
 347              	.L12:
 153:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 348              		.loc 1 153 6 is_stmt 1 view .LVU109
 153:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 349              		.loc 1 153 15 is_stmt 0 view .LVU110
 350 01f8 3D4B     		ldr	r3, .L14+96
 351 01fa 93ED010A 		vldr.32	s0, [r3, #4]
 352 01fe 3A4B     		ldr	r3, .L14+88
 353 0200 D3ED010A 		vldr.32	s1, [r3, #4]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 12


 354 0204 0320     		movs	r0, #3
 355 0206 FFF7FEFF 		bl	PIDControl
 356              	.LVL23:
 357 020a 07EE900A 		vmov	s15, r0	@ int
 358              	.LVL24:
 154:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 359              		.loc 1 154 6 is_stmt 1 view .LVU111
 154:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 360              		.loc 1 154 23 is_stmt 0 view .LVU112
 361 020e F8EEE77A 		vcvt.f32.s32	s15, s15
 362 0212 17EE900A 		vmov	r0, s15
 363              	.LVL25:
 154:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 364              		.loc 1 154 23 view .LVU113
 365 0216 FFF7FEFF 		bl	__aeabi_f2d
 366              	.LVL26:
 154:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 367              		.loc 1 154 36 view .LVU114
 368 021a 1DA3     		adr	r3, .L14
 369 021c D3E90023 		ldrd	r2, [r3]
 370 0220 FFF7FEFF 		bl	__aeabi_dmul
 371              	.LVL27:
 372 0224 FFF7FEFF 		bl	__aeabi_d2f
 373              	.LVL28:
 154:Core/Src/Main/Interrupt.c **** //					ChangeLED(1);
 374              		.loc 1 154 21 view .LVU115
 375 0228 2A4B     		ldr	r3, .L14+68
 376 022a 1860     		str	r0, [r3]	@ float
 377 022c 53E7     		b	.L4
 378              	.LVL29:
 379              	.L13:
 159:Core/Src/Main/Interrupt.c **** 					TargetVelocity[BODY] = (float)wall_f*0.001;
 380              		.loc 1 159 6 is_stmt 1 view .LVU116
 159:Core/Src/Main/Interrupt.c **** 					TargetVelocity[BODY] = (float)wall_f*0.001;
 381              		.loc 1 159 55 is_stmt 0 view .LVU117
 382 022e 2E4B     		ldr	r3, .L14+88
 383 0230 D3ED030A 		vldr.32	s1, [r3, #12]
 159:Core/Src/Main/Interrupt.c **** 					TargetVelocity[BODY] = (float)wall_f*0.001;
 384              		.loc 1 159 65 view .LVU118
 385 0234 D3ED007A 		vldr.32	s15, [r3]
 159:Core/Src/Main/Interrupt.c **** 					TargetVelocity[BODY] = (float)wall_f*0.001;
 386              		.loc 1 159 15 view .LVU119
 387 0238 70EEA70A 		vadd.f32	s1, s1, s15
 388 023c 9FED2D0A 		vldr.32	s0, .L14+100
 389 0240 0820     		movs	r0, #8
 390 0242 FFF7FEFF 		bl	PIDControl
 391              	.LVL30:
 392 0246 07EE900A 		vmov	s15, r0	@ int
 393              	.LVL31:
 160:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 394              		.loc 1 160 6 is_stmt 1 view .LVU120
 160:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 395              		.loc 1 160 29 is_stmt 0 view .LVU121
 396 024a F8EEE77A 		vcvt.f32.s32	s15, s15
 397 024e 17EE900A 		vmov	r0, s15
 398              	.LVL32:
 160:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 13


 399              		.loc 1 160 29 view .LVU122
 400 0252 FFF7FEFF 		bl	__aeabi_f2d
 401              	.LVL33:
 160:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 402              		.loc 1 160 42 view .LVU123
 403 0256 0EA3     		adr	r3, .L14
 404 0258 D3E90023 		ldrd	r2, [r3]
 405 025c FFF7FEFF 		bl	__aeabi_dmul
 406              	.LVL34:
 407 0260 FFF7FEFF 		bl	__aeabi_d2f
 408              	.LVL35:
 160:Core/Src/Main/Interrupt.c **** 					ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 409              		.loc 1 160 27 view .LVU124
 410 0264 194B     		ldr	r3, .L14+60
 411 0266 9860     		str	r0, [r3, #8]	@ float
 161:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;
 412              		.loc 1 161 6 is_stmt 1 view .LVU125
 161:Core/Src/Main/Interrupt.c **** 					TargetAngularV = (float)ang_out;
 413              		.loc 1 161 16 is_stmt 0 view .LVU126
 414 0268 1E4B     		ldr	r3, .L14+84
 415 026a 93ED000A 		vldr.32	s0, [r3]
 416 026e 134B     		ldr	r3, .L14+44
 417 0270 D3ED000A 		vldr.32	s1, [r3]
 418 0274 0020     		movs	r0, #0
 419 0276 FFF7FEFF 		bl	PIDControl
 420              	.LVL36:
 421 027a 07EE900A 		vmov	s15, r0	@ int
 422              	.LVL37:
 162:Core/Src/Main/Interrupt.c **** //					ChangeLED(7);
 423              		.loc 1 162 6 is_stmt 1 view .LVU127
 162:Core/Src/Main/Interrupt.c **** //					ChangeLED(7);
 424              		.loc 1 162 23 is_stmt 0 view .LVU128
 425 027e F8EEE77A 		vcvt.f32.s32	s15, s15
 162:Core/Src/Main/Interrupt.c **** //					ChangeLED(7);
 426              		.loc 1 162 21 view .LVU129
 427 0282 144B     		ldr	r3, .L14+68
 428 0284 C3ED007A 		vstr.32	s15, [r3]
 429 0288 25E7     		b	.L4
 430              	.L15:
 431 028a 00BFAFF3 		.align	3
 431      0080
 432              	.L14:
 433 0290 FCA9F1D2 		.word	-755914244
 434 0294 4D62503F 		.word	1062232653
 435 0298 00040040 		.word	1073742848
 436 029c 00000000 		.word	PulseDisplacement
 437 02a0 00080040 		.word	1073743872
 438 02a4 CD77813F 		.word	1065449421
 439 02a8 00000000 		.word	CurrentVelocity
 440 02ac 00000000 		.word	.LANCHOR0
 441 02b0 00000000 		.word	debugVL
 442 02b4 00000000 		.word	debugVR
 443 02b8 00000000 		.word	TotalPulse
 444 02bc 00000000 		.word	Angle
 445 02c0 00000000 		.word	AngularV
 446 02c4 00000000 		.word	Pid
 447 02c8 00000000 		.word	Acceleration
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 14


 448 02cc 00000000 		.word	TargetVelocity
 449 02d0 00000000 		.word	AngularAcceleration
 450 02d4 00000000 		.word	TargetAngularV
 451 02d8 9A990942 		.word	1107925402
 452 02dc 00000000 		.word	VelocityLeftOut
 453 02e0 00000000 		.word	VelocityRightOut
 454 02e4 00000000 		.word	TargetAngle
 455 02e8 00000000 		.word	Photo
 456 02ec 00000000 		.word	PhotoDiff
 457 02f0 00000000 		.word	TargetPhoto
 458 02f4 00806D45 		.word	1164804096
 459              		.cfi_endproc
 460              	.LFE239:
 462              		.global	__aeabi_dadd
 463              		.section	.text.WritingFree_IT,"ax",%progbits
 464              		.align	1
 465              		.syntax unified
 466              		.thumb
 467              		.thumb_func
 469              	WritingFree_IT:
 470              	.LFB240:
 254:Core/Src/Main/Interrupt.c **** static void WritingFree_IT()
 255:Core/Src/Main/Interrupt.c **** {
 471              		.loc 1 255 1 is_stmt 1 view -0
 472              		.cfi_startproc
 473              		@ args = 0, pretend = 0, frame = 0
 474              		@ frame_needed = 0, uses_anonymous_args = 0
 475 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 476              	.LCFI1:
 477              		.cfi_def_cfa_offset 24
 478              		.cfi_offset 3, -24
 479              		.cfi_offset 4, -20
 480              		.cfi_offset 5, -16
 481              		.cfi_offset 6, -12
 482              		.cfi_offset 7, -8
 483              		.cfi_offset 14, -4
 484 0002 2DED028B 		vpush.64	{d8}
 485              	.LCFI2:
 486              		.cfi_def_cfa_offset 32
 487              		.cfi_offset 80, -32
 488              		.cfi_offset 81, -28
 256:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
 489              		.loc 1 256 2 view .LVU131
 490              		.loc 1 256 35 is_stmt 0 view .LVU132
 491 0006 6A4A     		ldr	r2, .L18+16
 492 0008 516A     		ldr	r1, [r2, #36]
 493              		.loc 1 256 28 view .LVU133
 494 000a 47F22F53 		movw	r3, #29999
 495 000e 591A     		subs	r1, r3, r1
 496              		.loc 1 256 26 view .LVU134
 497 0010 684C     		ldr	r4, .L18+20
 498 0012 2160     		str	r1, [r4]
 257:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 499              		.loc 1 257 2 is_stmt 1 view .LVU135
 500              		.loc 1 257 12 is_stmt 0 view .LVU136
 501 0014 5362     		str	r3, [r2, #36]
 258:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 15


 502              		.loc 1 258 2 is_stmt 1 view .LVU137
 503              		.loc 1 258 36 is_stmt 0 view .LVU138
 504 0016 6848     		ldr	r0, .L18+24
 505 0018 426A     		ldr	r2, [r0, #36]
 506              		.loc 1 258 29 view .LVU139
 507 001a 9A1A     		subs	r2, r3, r2
 508              		.loc 1 258 27 view .LVU140
 509 001c 6260     		str	r2, [r4, #4]
 259:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 510              		.loc 1 259 2 is_stmt 1 view .LVU141
 511              		.loc 1 259 12 is_stmt 0 view .LVU142
 512 001e 4362     		str	r3, [r0, #36]
 260:Core/Src/Main/Interrupt.c **** 
 261:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[LEFT] =  (float)PulseDisplacement[LEFT] * convert_to_velocity;
 513              		.loc 1 261 2 is_stmt 1 view .LVU143
 514              		.loc 1 261 27 is_stmt 0 view .LVU144
 515 0020 07EE901A 		vmov	s15, r1	@ int
 516 0024 B8EEE77A 		vcvt.f32.s32	s14, s15
 517              		.loc 1 261 58 view .LVU145
 518 0028 DFED646A 		vldr.32	s13, .L18+28
 519 002c 27EE267A 		vmul.f32	s14, s14, s13
 520              		.loc 1 261 24 view .LVU146
 521 0030 634D     		ldr	r5, .L18+32
 522 0032 85ED007A 		vstr.32	s14, [r5]
 262:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 523              		.loc 1 262 2 is_stmt 1 view .LVU147
 524              		.loc 1 262 28 is_stmt 0 view .LVU148
 525 0036 07EE902A 		vmov	s15, r2	@ int
 526 003a F8EEE77A 		vcvt.f32.s32	s15, s15
 527              		.loc 1 262 60 view .LVU149
 528 003e 67EEA67A 		vmul.f32	s15, s15, s13
 529              		.loc 1 262 25 view .LVU150
 530 0042 C5ED017A 		vstr.32	s15, [r5, #4]
 263:Core/Src/Main/Interrupt.c **** 	CurrentVelocity[BODY] = (CurrentVelocity[LEFT] + CurrentVelocity[RIGHT] )*0.5f;
 531              		.loc 1 263 2 is_stmt 1 view .LVU151
 532              		.loc 1 263 42 is_stmt 0 view .LVU152
 533 0046 D5ED007A 		vldr.32	s15, [r5]
 534              		.loc 1 263 66 view .LVU153
 535 004a 95ED017A 		vldr.32	s14, [r5, #4]
 536              		.loc 1 263 49 view .LVU154
 537 004e 77EE877A 		vadd.f32	s15, s15, s14
 538              		.loc 1 263 75 view .LVU155
 539 0052 F6EE008A 		vmov.f32	s17, #5.0e-1
 540 0056 67EEA87A 		vmul.f32	s15, s15, s17
 541              		.loc 1 263 24 view .LVU156
 542 005a C5ED027A 		vstr.32	s15, [r5, #8]
 264:Core/Src/Main/Interrupt.c **** #if 0
 265:Core/Src/Main/Interrupt.c **** 	static int count=0;
 266:Core/Src/Main/Interrupt.c **** 
 267:Core/Src/Main/Interrupt.c **** 	if(count < 2000)
 268:Core/Src/Main/Interrupt.c **** 	{
 269:Core/Src/Main/Interrupt.c **** 		data[count] = CurrentVelocity[LEFT];
 270:Core/Src/Main/Interrupt.c **** 	}
 271:Core/Src/Main/Interrupt.c **** 	count ++;
 272:Core/Src/Main/Interrupt.c **** #endif
 273:Core/Src/Main/Interrupt.c **** //	if(velodebug_flag == 1)
 274:Core/Src/Main/Interrupt.c **** //	{
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 16


 275:Core/Src/Main/Interrupt.c **** //		static int vdn=0;
 276:Core/Src/Main/Interrupt.c **** //
 277:Core/Src/Main/Interrupt.c **** //		velodebugL[vdn] = CurrentVelocity[LEFT];
 278:Core/Src/Main/Interrupt.c **** //		velodebugR[vdn] = CurrentVelocity[RIGHT];
 279:Core/Src/Main/Interrupt.c **** //		vdn++;
 280:Core/Src/Main/Interrupt.c **** //		if(vdn == 1000)
 281:Core/Src/Main/Interrupt.c **** //		{
 282:Core/Src/Main/Interrupt.c **** //			velodebug_flag = 0;
 283:Core/Src/Main/Interrupt.c **** //		}
 284:Core/Src/Main/Interrupt.c **** //
 285:Core/Src/Main/Interrupt.c **** //	}
 286:Core/Src/Main/Interrupt.c **** 	//ç§»å‹•é‡ mm/msã‚’ç©ç®—
 287:Core/Src/Main/Interrupt.c **** 	TotalPulse[LEFT] += PulseDisplacement[LEFT];
 543              		.loc 1 287 2 is_stmt 1 view .LVU157
 544              		.loc 1 287 19 is_stmt 0 view .LVU158
 545 005e 594B     		ldr	r3, .L18+36
 546 0060 1868     		ldr	r0, [r3]
 547 0062 0144     		add	r1, r1, r0
 548 0064 1960     		str	r1, [r3]
 288:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 549              		.loc 1 288 2 is_stmt 1 view .LVU159
 550              		.loc 1 288 20 is_stmt 0 view .LVU160
 551 0066 5968     		ldr	r1, [r3, #4]
 552 0068 0A44     		add	r2, r2, r1
 553 006a 5A60     		str	r2, [r3, #4]
 289:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 554              		.loc 1 289 2 is_stmt 1 view .LVU161
 555              		.loc 1 289 31 is_stmt 0 view .LVU162
 556 006c 1A68     		ldr	r2, [r3]
 557              		.loc 1 289 48 view .LVU163
 558 006e 5968     		ldr	r1, [r3, #4]
 559              		.loc 1 289 37 view .LVU164
 560 0070 0A44     		add	r2, r2, r1
 561              		.loc 1 289 19 view .LVU165
 562 0072 9A60     		str	r2, [r3, #8]
 290:Core/Src/Main/Interrupt.c **** 
 291:Core/Src/Main/Interrupt.c **** #if 1
 292:Core/Src/Main/Interrupt.c **** 
 293:Core/Src/Main/Interrupt.c **** 	static float zg_last=0;
 563              		.loc 1 293 2 is_stmt 1 view .LVU166
 294:Core/Src/Main/Interrupt.c **** 	float zg_law;
 564              		.loc 1 294 2 view .LVU167
 295:Core/Src/Main/Interrupt.c **** 	//uint8_t zgb,zgf;
 296:Core/Src/Main/Interrupt.c **** 	ZGyro = ReadIMU(0x37, 0x38);
 565              		.loc 1 296 2 view .LVU168
 566              		.loc 1 296 10 is_stmt 0 view .LVU169
 567 0074 3821     		movs	r1, #56
 568 0076 3720     		movs	r0, #55
 569 0078 FFF7FEFF 		bl	ReadIMU
 570              	.LVL38:
 571              		.loc 1 296 8 view .LVU170
 572 007c 524B     		ldr	r3, .L18+40
 573 007e 83ED000A 		vstr.32	s0, [r3]
 297:Core/Src/Main/Interrupt.c ****     zg_law =  ( ZGyro - zg_offset )*convert_to_imu_angv;//16.4 * 180;//rad/s or rad/0.001s
 574              		.loc 1 297 5 is_stmt 1 view .LVU171
 575              		.loc 1 297 23 is_stmt 0 view .LVU172
 576 0082 93ED008A 		vldr.32	s16, [r3]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 17


 577 0086 514B     		ldr	r3, .L18+44
 578 0088 D3ED007A 		vldr.32	s15, [r3]
 579 008c 38EE678A 		vsub.f32	s16, s16, s15
 580              		.loc 1 297 36 view .LVU173
 581 0090 4F4B     		ldr	r3, .L18+48
 582 0092 D3ED007A 		vldr.32	s15, [r3]
 583              		.loc 1 297 12 view .LVU174
 584 0096 28EE278A 		vmul.f32	s16, s16, s15
 585              	.LVL39:
 298:Core/Src/Main/Interrupt.c ****     AngularV = -((0.01*zg_law) + (0.99)* (zg_last));
 586              		.loc 1 298 5 is_stmt 1 view .LVU175
 587              		.loc 1 298 23 is_stmt 0 view .LVU176
 588 009a 18EE100A 		vmov	r0, s16
 589 009e FFF7FEFF 		bl	__aeabi_f2d
 590              	.LVL40:
 591 00a2 3FA3     		adr	r3, .L18
 592 00a4 D3E90023 		ldrd	r2, [r3]
 593 00a8 FFF7FEFF 		bl	__aeabi_dmul
 594              	.LVL41:
 595 00ac 0646     		mov	r6, r0
 596 00ae 0F46     		mov	r7, r1
 597              		.loc 1 298 40 view .LVU177
 598 00b0 484C     		ldr	r4, .L18+52
 599 00b2 2068     		ldr	r0, [r4]	@ float
 600 00b4 FFF7FEFF 		bl	__aeabi_f2d
 601              	.LVL42:
 602 00b8 3BA3     		adr	r3, .L18+8
 603 00ba D3E90023 		ldrd	r2, [r3]
 604 00be FFF7FEFF 		bl	__aeabi_dmul
 605              	.LVL43:
 606 00c2 0246     		mov	r2, r0
 607 00c4 0B46     		mov	r3, r1
 608              		.loc 1 298 32 view .LVU178
 609 00c6 3046     		mov	r0, r6
 610 00c8 3946     		mov	r1, r7
 611 00ca FFF7FEFF 		bl	__aeabi_dadd
 612              	.LVL44:
 613 00ce FFF7FEFF 		bl	__aeabi_d2f
 614              	.LVL45:
 615              		.loc 1 298 14 view .LVU179
 616 00d2 07EE900A 		vmov	s15, r0
 617 00d6 F1EE677A 		vneg.f32	s15, s15
 618 00da 3F4B     		ldr	r3, .L18+56
 619 00dc C3ED007A 		vstr.32	s15, [r3]
 299:Core/Src/Main/Interrupt.c ****     zg_last = zg_law;
 620              		.loc 1 299 5 is_stmt 1 view .LVU180
 621              		.loc 1 299 13 is_stmt 0 view .LVU181
 622 00e0 84ED008A 		vstr.32	s16, [r4]
 300:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
 623              		.loc 1 300 2 is_stmt 1 view .LVU182
 624              		.loc 1 300 20 is_stmt 0 view .LVU183
 625 00e4 D3ED007A 		vldr.32	s15, [r3]
 626 00e8 9FED3C7A 		vldr.32	s14, .L18+60
 627 00ec 27EE877A 		vmul.f32	s14, s15, s14
 628              		.loc 1 300 8 view .LVU184
 629 00f0 3B4B     		ldr	r3, .L18+64
 630 00f2 D3ED007A 		vldr.32	s15, [r3]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 18


 631 00f6 77EE877A 		vadd.f32	s15, s15, s14
 632 00fa C3ED007A 		vstr.32	s15, [r3]
 301:Core/Src/Main/Interrupt.c **** 
 302:Core/Src/Main/Interrupt.c **** #else
 303:Core/Src/Main/Interrupt.c **** 	AngularV = ( CurrentVelocity[LEFT] - CurrentVelocity[RIGHT] ) *convert_to_angularv;
 304:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
 305:Core/Src/Main/Interrupt.c **** 
 306:Core/Src/Main/Interrupt.c **** #endif
 307:Core/Src/Main/Interrupt.c **** 
 308:Core/Src/Main/Interrupt.c **** #if 0
 309:Core/Src/Main/Interrupt.c **** 	int wall_d =0,wall_l =0,wall_r =0;
 310:Core/Src/Main/Interrupt.c **** 		int ang_out=0;
 311:Core/Src/Main/Interrupt.c **** 	//å‡¦ç†ã‚’æ¸›ã‚‰ã™ã«ã¯ã€
 312:Core/Src/Main/Interrupt.c **** 		if( Pos.Dir == front)
 313:Core/Src/Main/Interrupt.c **** 		{
 314:Core/Src/Main/Interrupt.c **** 			if( Pid[A_VELO_PID].flag == 1 )
 315:Core/Src/Main/Interrupt.c **** 			{
 316:Core/Src/Main/Interrupt.c **** 				ang_out = PIDControl( A_VELO_PID,  TargetAngle, Angle);
 317:Core/Src/Main/Interrupt.c **** 				TargetAngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€‚
 318:Core/Src/Main/Interrupt.c **** 			}
 319:Core/Src/Main/Interrupt.c **** 			else if( Pid[D_WALL_PID].flag == 1 )
 320:Core/Src/Main/Interrupt.c **** 			{
 321:Core/Src/Main/Interrupt.c **** 				wall_d = PIDControl( D_WALL_PID, Photo[SL], Photo[SIDE_R]+PhotoDiff);	//å·¦ã«å¯„ã£ã¦ãŸã‚‰+â
 322:Core/Src/Main/Interrupt.c **** 				TargetAngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 323:Core/Src/Main/Interrupt.c **** 			}
 324:Core/Src/Main/Interrupt.c **** 			else if( Pid[L_WALL_PID].flag == 1 )
 325:Core/Src/Main/Interrupt.c **** 			{
 326:Core/Src/Main/Interrupt.c **** 				wall_l = PIDControl( L_WALL_PID,  Photo[SL], TargetPhoto[SL]);
 327:Core/Src/Main/Interrupt.c **** 				TargetAngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 328:Core/Src/Main/Interrupt.c **** 
 329:Core/Src/Main/Interrupt.c **** 			}
 330:Core/Src/Main/Interrupt.c **** 			else if( Pid[R_WALL_PID].flag == 1 )
 331:Core/Src/Main/Interrupt.c **** 			{
 332:Core/Src/Main/Interrupt.c **** 				wall_r = PIDControl( R_WALL_PID,  TargetPhoto[SIDE_R], Photo[SIDE_R]);			//å³ã«å¯„ã£ã¦ãŸã‚
 333:Core/Src/Main/Interrupt.c **** 				TargetAngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ã
 334:Core/Src/Main/Interrupt.c **** 			}
 335:Core/Src/Main/Interrupt.c **** 		}
 336:Core/Src/Main/Interrupt.c **** #endif
 337:Core/Src/Main/Interrupt.c **** 
 338:Core/Src/Main/Interrupt.c **** 	AngularAcceleration += AngularLeapsity;
 633              		.loc 1 338 2 is_stmt 1 view .LVU185
 634              		.loc 1 338 22 is_stmt 0 view .LVU186
 635 00fe 394B     		ldr	r3, .L18+68
 636 0100 D3ED007A 		vldr.32	s15, [r3]
 637 0104 384A     		ldr	r2, .L18+72
 638 0106 92ED007A 		vldr.32	s14, [r2]
 639 010a 77EE877A 		vadd.f32	s15, s15, s14
 640 010e C3ED007A 		vstr.32	s15, [r3]
 339:Core/Src/Main/Interrupt.c **** 	TargetVelocity[BODY] += Acceleration;
 641              		.loc 1 339 2 is_stmt 1 view .LVU187
 642 0112 364A     		ldr	r2, .L18+76
 643 0114 92ED007A 		vldr.32	s14, [r2]
 644              		.loc 1 339 23 is_stmt 0 view .LVU188
 645 0118 354C     		ldr	r4, .L18+80
 646 011a D4ED027A 		vldr.32	s15, [r4, #8]
 647 011e 77EE877A 		vadd.f32	s15, s15, s14
 648 0122 C4ED027A 		vstr.32	s15, [r4, #8]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 19


 340:Core/Src/Main/Interrupt.c **** 	TargetAngularV += AngularAcceleration;
 649              		.loc 1 340 2 is_stmt 1 view .LVU189
 650 0126 93ED007A 		vldr.32	s14, [r3]
 651              		.loc 1 340 17 is_stmt 0 view .LVU190
 652 012a 324B     		ldr	r3, .L18+84
 653 012c D3ED007A 		vldr.32	s15, [r3]
 654 0130 77EE877A 		vadd.f32	s15, s15, s14
 655 0134 C3ED007A 		vstr.32	s15, [r3]
 341:Core/Src/Main/Interrupt.c **** 
 342:Core/Src/Main/Interrupt.c **** 	TargetVelocity[RIGHT] = ( TargetVelocity[BODY] - TargetAngularV * TREAD_WIDTH * 0.5f );
 656              		.loc 1 342 2 is_stmt 1 view .LVU191
 657              		.loc 1 342 42 is_stmt 0 view .LVU192
 658 0138 D4ED026A 		vldr.32	s13, [r4, #8]
 659              		.loc 1 342 66 view .LVU193
 660 013c 93ED007A 		vldr.32	s14, [r3]
 661 0140 9FED2D6A 		vldr.32	s12, .L18+88
 662 0144 27EE067A 		vmul.f32	s14, s14, s12
 663              		.loc 1 342 80 view .LVU194
 664 0148 27EE287A 		vmul.f32	s14, s14, s17
 665              		.loc 1 342 49 view .LVU195
 666 014c 36EEC77A 		vsub.f32	s14, s13, s14
 667              		.loc 1 342 24 view .LVU196
 668 0150 84ED017A 		vstr.32	s14, [r4, #4]
 343:Core/Src/Main/Interrupt.c **** 	TargetVelocity[LEFT] = ( TargetAngularV *TREAD_WIDTH ) + TargetVelocity[RIGHT];
 669              		.loc 1 343 2 is_stmt 1 view .LVU197
 670              		.loc 1 343 42 is_stmt 0 view .LVU198
 671 0154 D3ED007A 		vldr.32	s15, [r3]
 672 0158 67EE867A 		vmul.f32	s15, s15, s12
 673              		.loc 1 343 73 view .LVU199
 674 015c 94ED017A 		vldr.32	s14, [r4, #4]
 675              		.loc 1 343 57 view .LVU200
 676 0160 77EE877A 		vadd.f32	s15, s15, s14
 677              		.loc 1 343 23 view .LVU201
 678 0164 C4ED007A 		vstr.32	s15, [r4]
 344:Core/Src/Main/Interrupt.c **** 
 345:Core/Src/Main/Interrupt.c **** 	VelocityLeftOut = PIDControl( L_VELO_PID, TargetVelocity[LEFT], CurrentVelocity[LEFT]);
 679              		.loc 1 345 2 is_stmt 1 view .LVU202
 680              		.loc 1 345 20 is_stmt 0 view .LVU203
 681 0168 94ED000A 		vldr.32	s0, [r4]
 682 016c D5ED000A 		vldr.32	s1, [r5]
 683 0170 0420     		movs	r0, #4
 684 0172 FFF7FEFF 		bl	PIDControl
 685              	.LVL46:
 686              		.loc 1 345 18 view .LVU204
 687 0176 214E     		ldr	r6, .L18+92
 688 0178 3060     		str	r0, [r6]
 346:Core/Src/Main/Interrupt.c **** 	VelocityRightOut = PIDControl( R_VELO_PID, TargetVelocity[RIGHT], CurrentVelocity[RIGHT]);
 689              		.loc 1 346 2 is_stmt 1 view .LVU205
 690              		.loc 1 346 21 is_stmt 0 view .LVU206
 691 017a 94ED010A 		vldr.32	s0, [r4, #4]
 692 017e D5ED010A 		vldr.32	s1, [r5, #4]
 693 0182 0520     		movs	r0, #5
 694 0184 FFF7FEFF 		bl	PIDControl
 695              	.LVL47:
 696 0188 0146     		mov	r1, r0
 697              		.loc 1 346 19 view .LVU207
 698 018a 1D4B     		ldr	r3, .L18+96
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 20


 699 018c 1860     		str	r0, [r3]
 347:Core/Src/Main/Interrupt.c **** 
 348:Core/Src/Main/Interrupt.c **** 	Motor_Switch( VelocityLeftOut, VelocityRightOut );
 700              		.loc 1 348 2 is_stmt 1 view .LVU208
 701 018e 3068     		ldr	r0, [r6]
 702 0190 FFF7FEFF 		bl	Motor_Switch
 703              	.LVL48:
 349:Core/Src/Main/Interrupt.c **** 
 350:Core/Src/Main/Interrupt.c **** 
 351:Core/Src/Main/Interrupt.c **** }
 704              		.loc 1 351 1 is_stmt 0 view .LVU209
 705 0194 BDEC028B 		vldm	sp!, {d8}
 706              	.LCFI3:
 707              		.cfi_restore 80
 708              		.cfi_restore 81
 709              		.cfi_def_cfa_offset 24
 710              	.LVL49:
 711              		.loc 1 351 1 view .LVU210
 712 0198 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 713              	.L19:
 714 019a 00BFAFF3 		.align	3
 714      0080
 715              	.L18:
 716 01a0 7B14AE47 		.word	1202590843
 717 01a4 E17A843F 		.word	1065646817
 718 01a8 AE47E17A 		.word	2061584302
 719 01ac 14AEEF3F 		.word	1072672276
 720 01b0 00040040 		.word	1073742848
 721 01b4 00000000 		.word	PulseDisplacement
 722 01b8 00080040 		.word	1073743872
 723 01bc CD77813F 		.word	1065449421
 724 01c0 00000000 		.word	CurrentVelocity
 725 01c4 00000000 		.word	TotalPulse
 726 01c8 00000000 		.word	ZGyro
 727 01cc 00000000 		.word	zg_offset
 728 01d0 00000000 		.word	convert_to_imu_angv
 729 01d4 00000000 		.word	.LANCHOR1
 730 01d8 00000000 		.word	AngularV
 731 01dc 6F12833A 		.word	981668463
 732 01e0 00000000 		.word	Angle
 733 01e4 00000000 		.word	AngularAcceleration
 734 01e8 00000000 		.word	AngularLeapsity
 735 01ec 00000000 		.word	Acceleration
 736 01f0 00000000 		.word	TargetVelocity
 737 01f4 00000000 		.word	TargetAngularV
 738 01f8 9A990942 		.word	1107925402
 739 01fc 00000000 		.word	VelocityLeftOut
 740 0200 00000000 		.word	VelocityRightOut
 741              		.cfi_endproc
 742              	.LFE240:
 744              		.section	.text.initInterruptValue,"ax",%progbits
 745              		.align	1
 746              		.global	initInterruptValue
 747              		.syntax unified
 748              		.thumb
 749              		.thumb_func
 751              	initInterruptValue:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 21


 752              	.LFB238:
  39:Core/Src/Main/Interrupt.c **** //	Control_Mode = A_VELO_PID;
 753              		.loc 1 39 1 is_stmt 1 view -0
 754              		.cfi_startproc
 755              		@ args = 0, pretend = 0, frame = 0
 756              		@ frame_needed = 0, uses_anonymous_args = 0
 757              		@ link register save eliminated.
  41:Core/Src/Main/Interrupt.c **** 	IT_mode = EXPLORE;
 758              		.loc 1 41 2 view .LVU212
  41:Core/Src/Main/Interrupt.c **** 	IT_mode = EXPLORE;
 759              		.loc 1 41 23 is_stmt 0 view .LVU213
 760 0000 064B     		ldr	r3, .L21
 761 0002 0122     		movs	r2, #1
 762 0004 9A62     		str	r2, [r3, #40]
  42:Core/Src/Main/Interrupt.c **** 
 763              		.loc 1 42 2 is_stmt 1 view .LVU214
  42:Core/Src/Main/Interrupt.c **** 
 764              		.loc 1 42 10 is_stmt 0 view .LVU215
 765 0006 064B     		ldr	r3, .L21+4
 766 0008 0622     		movs	r2, #6
 767 000a 1A60     		str	r2, [r3]
  44:Core/Src/Main/Interrupt.c **** 	timer8 = 0;
 768              		.loc 1 44 2 is_stmt 1 view .LVU216
  44:Core/Src/Main/Interrupt.c **** 	timer8 = 0;
 769              		.loc 1 44 9 is_stmt 0 view .LVU217
 770 000c 0023     		movs	r3, #0
 771 000e 054A     		ldr	r2, .L21+8
 772 0010 1360     		str	r3, [r2]
  45:Core/Src/Main/Interrupt.c **** 	t = 0;
 773              		.loc 1 45 2 is_stmt 1 view .LVU218
  45:Core/Src/Main/Interrupt.c **** 	t = 0;
 774              		.loc 1 45 9 is_stmt 0 view .LVU219
 775 0012 054A     		ldr	r2, .L21+12
 776 0014 1360     		str	r3, [r2]
  46:Core/Src/Main/Interrupt.c **** 
 777              		.loc 1 46 2 is_stmt 1 view .LVU220
  46:Core/Src/Main/Interrupt.c **** 
 778              		.loc 1 46 4 is_stmt 0 view .LVU221
 779 0016 054A     		ldr	r2, .L21+16
 780 0018 1360     		str	r3, [r2]
  48:Core/Src/Main/Interrupt.c **** //static int StraightWay;
 781              		.loc 1 48 1 view .LVU222
 782 001a 7047     		bx	lr
 783              	.L22:
 784              		.align	2
 785              	.L21:
 786 001c 00000000 		.word	Pid
 787 0020 00000000 		.word	.LANCHOR2
 788 0024 00000000 		.word	.LANCHOR3
 789 0028 00000000 		.word	.LANCHOR4
 790 002c 00000000 		.word	.LANCHOR5
 791              		.cfi_endproc
 792              	.LFE238:
 794              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 795              		.align	1
 796              		.global	HAL_TIM_PeriodElapsedCallback
 797              		.syntax unified
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 22


 798              		.thumb
 799              		.thumb_func
 801              	HAL_TIM_PeriodElapsedCallback:
 802              	.LVL50:
 803              	.LFB241:
 352:Core/Src/Main/Interrupt.c **** 
 353:Core/Src/Main/Interrupt.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 354:Core/Src/Main/Interrupt.c **** {
 804              		.loc 1 354 1 is_stmt 1 view -0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 16
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              		.loc 1 354 1 is_stmt 0 view .LVU224
 809 0000 70B5     		push	{r4, r5, r6, lr}
 810              	.LCFI4:
 811              		.cfi_def_cfa_offset 16
 812              		.cfi_offset 4, -16
 813              		.cfi_offset 5, -12
 814              		.cfi_offset 6, -8
 815              		.cfi_offset 14, -4
 816 0002 84B0     		sub	sp, sp, #16
 817              	.LCFI5:
 818              		.cfi_def_cfa_offset 32
 819 0004 0446     		mov	r4, r0
 355:Core/Src/Main/Interrupt.c **** 	if( htim == &htim1)
 820              		.loc 1 355 2 is_stmt 1 view .LVU225
 821              		.loc 1 355 4 is_stmt 0 view .LVU226
 822 0006 2B4B     		ldr	r3, .L34
 823 0008 9842     		cmp	r0, r3
 824 000a 04D0     		beq	.L31
 825              	.LVL51:
 826              	.L24:
 356:Core/Src/Main/Interrupt.c **** 	{
 357:Core/Src/Main/Interrupt.c **** 
 358:Core/Src/Main/Interrupt.c **** 		switch(IT_mode){
 359:Core/Src/Main/Interrupt.c **** 		case EXPLORE:
 360:Core/Src/Main/Interrupt.c **** 			Explore_IT();
 361:Core/Src/Main/Interrupt.c **** 			break;
 362:Core/Src/Main/Interrupt.c **** 		case WRITINGFREE:
 363:Core/Src/Main/Interrupt.c **** 			WritingFree_IT();
 364:Core/Src/Main/Interrupt.c **** 			break;
 365:Core/Src/Main/Interrupt.c **** 		case IMU_TEST:
 366:Core/Src/Main/Interrupt.c **** 
 367:Core/Src/Main/Interrupt.c **** 			if(timer1 < 5000)
 368:Core/Src/Main/Interrupt.c **** 			{
 369:Core/Src/Main/Interrupt.c **** 
 370:Core/Src/Main/Interrupt.c **** 				Update_IMU(&AngularV, &Angle);
 371:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 372:Core/Src/Main/Interrupt.c **** 				timer1 += t;
 373:Core/Src/Main/Interrupt.c **** 			}
 374:Core/Src/Main/Interrupt.c **** 			else t = 0;
 375:Core/Src/Main/Interrupt.c **** 			break;
 376:Core/Src/Main/Interrupt.c **** 		default :
 377:Core/Src/Main/Interrupt.c **** 			break;
 378:Core/Src/Main/Interrupt.c **** 		}
 379:Core/Src/Main/Interrupt.c **** 	}
 380:Core/Src/Main/Interrupt.c **** 
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 23


 381:Core/Src/Main/Interrupt.c **** 	if( htim == &htim8)
 827              		.loc 1 381 2 is_stmt 1 view .LVU227
 828              		.loc 1 381 4 is_stmt 0 view .LVU228
 829 000c 2A4B     		ldr	r3, .L34+4
 830 000e 9C42     		cmp	r4, r3
 831 0010 24D0     		beq	.L32
 832              	.LVL52:
 833              	.L23:
 382:Core/Src/Main/Interrupt.c **** 	{
 383:Core/Src/Main/Interrupt.c **** 		//timer8 += t;
 384:Core/Src/Main/Interrupt.c **** 
 385:Core/Src/Main/Interrupt.c **** 		//å£ã‚»ãƒ³ã‚µãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
 386:Core/Src/Main/Interrupt.c **** 		Photo[FL] = GetWallDataAverage(10, adc1[0], FL);	//adc1_IN10
 387:Core/Src/Main/Interrupt.c **** 		Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 388:Core/Src/Main/Interrupt.c **** 		Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 389:Core/Src/Main/Interrupt.c **** 		Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 390:Core/Src/Main/Interrupt.c **** 		#if 1
 391:Core/Src/Main/Interrupt.c **** 			uint32_t sample[4]={
 392:Core/Src/Main/Interrupt.c **** 				adc2[0],
 393:Core/Src/Main/Interrupt.c **** 				adc1[0],
 394:Core/Src/Main/Interrupt.c **** 				adc2[1],
 395:Core/Src/Main/Interrupt.c **** 				adc1[1]
 396:Core/Src/Main/Interrupt.c **** 			};
 397:Core/Src/Main/Interrupt.c **** 			getPhotoSampleValue_uint32(&sample[0]);
 398:Core/Src/Main/Interrupt.c **** 		#else
 399:Core/Src/Main/Interrupt.c **** 			getPhotoSampleValue_float(&Photo[0]);
 400:Core/Src/Main/Interrupt.c **** 		#endif
 401:Core/Src/Main/Interrupt.c **** 	}
 402:Core/Src/Main/Interrupt.c **** }
 834              		.loc 1 402 1 view .LVU229
 835 0012 04B0     		add	sp, sp, #16
 836              	.LCFI6:
 837              		.cfi_remember_state
 838              		.cfi_def_cfa_offset 16
 839              		@ sp needed
 840 0014 70BD     		pop	{r4, r5, r6, pc}
 841              	.LVL53:
 842              	.L31:
 843              	.LCFI7:
 844              		.cfi_restore_state
 358:Core/Src/Main/Interrupt.c **** 		case EXPLORE:
 845              		.loc 1 358 3 is_stmt 1 view .LVU230
 846 0016 294B     		ldr	r3, .L34+8
 847 0018 1B68     		ldr	r3, [r3]
 848 001a 062B     		cmp	r3, #6
 849 001c 0DD0     		beq	.L25
 850 001e 072B     		cmp	r3, #7
 851 0020 0ED0     		beq	.L26
 852 0022 052B     		cmp	r3, #5
 853 0024 F2D1     		bne	.L24
 367:Core/Src/Main/Interrupt.c **** 			{
 854              		.loc 1 367 4 view .LVU231
 367:Core/Src/Main/Interrupt.c **** 			{
 855              		.loc 1 367 14 is_stmt 0 view .LVU232
 856 0026 264B     		ldr	r3, .L34+12
 857 0028 1A68     		ldr	r2, [r3]
 367:Core/Src/Main/Interrupt.c **** 			{
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 24


 858              		.loc 1 367 6 view .LVU233
 859 002a 41F28733 		movw	r3, #4999
 860 002e 9A42     		cmp	r2, r3
 861 0030 09DD     		ble	.L33
 374:Core/Src/Main/Interrupt.c **** 			break;
 862              		.loc 1 374 9 is_stmt 1 view .LVU234
 374:Core/Src/Main/Interrupt.c **** 			break;
 863              		.loc 1 374 11 is_stmt 0 view .LVU235
 864 0032 244B     		ldr	r3, .L34+16
 865 0034 0022     		movs	r2, #0
 866 0036 1A60     		str	r2, [r3]
 867 0038 E8E7     		b	.L24
 868              	.L25:
 360:Core/Src/Main/Interrupt.c **** 			break;
 869              		.loc 1 360 4 is_stmt 1 view .LVU236
 870 003a FFF7FEFF 		bl	Explore_IT
 871              	.LVL54:
 361:Core/Src/Main/Interrupt.c **** 		case WRITINGFREE:
 872              		.loc 1 361 4 view .LVU237
 873 003e E5E7     		b	.L24
 874              	.LVL55:
 875              	.L26:
 363:Core/Src/Main/Interrupt.c **** 			break;
 876              		.loc 1 363 4 view .LVU238
 877 0040 FFF7FEFF 		bl	WritingFree_IT
 878              	.LVL56:
 364:Core/Src/Main/Interrupt.c **** 		case IMU_TEST:
 879              		.loc 1 364 4 view .LVU239
 880 0044 E2E7     		b	.L24
 881              	.LVL57:
 882              	.L33:
 370:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 883              		.loc 1 370 5 view .LVU240
 884 0046 2049     		ldr	r1, .L34+20
 885 0048 2048     		ldr	r0, .L34+24
 886              	.LVL58:
 370:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 887              		.loc 1 370 5 is_stmt 0 view .LVU241
 888 004a FFF7FEFF 		bl	Update_IMU
 889              	.LVL59:
 372:Core/Src/Main/Interrupt.c **** 			}
 890              		.loc 1 372 5 is_stmt 1 view .LVU242
 372:Core/Src/Main/Interrupt.c **** 			}
 891              		.loc 1 372 12 is_stmt 0 view .LVU243
 892 004e 1C4A     		ldr	r2, .L34+12
 893 0050 1368     		ldr	r3, [r2]
 894 0052 1C49     		ldr	r1, .L34+16
 895 0054 0968     		ldr	r1, [r1]
 896 0056 0B44     		add	r3, r3, r1
 897 0058 1360     		str	r3, [r2]
 898 005a D7E7     		b	.L24
 899              	.L32:
 900              	.LBB2:
 386:Core/Src/Main/Interrupt.c **** 		Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 901              		.loc 1 386 3 is_stmt 1 view .LVU244
 386:Core/Src/Main/Interrupt.c **** 		Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 902              		.loc 1 386 42 is_stmt 0 view .LVU245
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 25


 903 005c 1C4C     		ldr	r4, .L34+28
 904              	.LVL60:
 386:Core/Src/Main/Interrupt.c **** 		Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 905              		.loc 1 386 15 view .LVU246
 906 005e 0022     		movs	r2, #0
 907 0060 2168     		ldr	r1, [r4]
 908 0062 0A20     		movs	r0, #10
 909 0064 FFF7FEFF 		bl	GetWallDataAverage
 910              	.LVL61:
 386:Core/Src/Main/Interrupt.c **** 		Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 911              		.loc 1 386 13 view .LVU247
 912 0068 1A4E     		ldr	r6, .L34+32
 913 006a 86ED000A 		vstr.32	s0, [r6]
 387:Core/Src/Main/Interrupt.c **** 		Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 914              		.loc 1 387 3 is_stmt 1 view .LVU248
 387:Core/Src/Main/Interrupt.c **** 		Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 915              		.loc 1 387 19 is_stmt 0 view .LVU249
 916 006e 0122     		movs	r2, #1
 917 0070 6168     		ldr	r1, [r4, #4]
 918 0072 0A20     		movs	r0, #10
 919 0074 FFF7FEFF 		bl	GetWallDataAverage
 920              	.LVL62:
 387:Core/Src/Main/Interrupt.c **** 		Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 921              		.loc 1 387 17 view .LVU250
 922 0078 86ED010A 		vstr.32	s0, [r6, #4]
 388:Core/Src/Main/Interrupt.c **** 		Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 923              		.loc 1 388 3 is_stmt 1 view .LVU251
 388:Core/Src/Main/Interrupt.c **** 		Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 924              		.loc 1 388 42 is_stmt 0 view .LVU252
 925 007c 164D     		ldr	r5, .L34+36
 388:Core/Src/Main/Interrupt.c **** 		Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 926              		.loc 1 388 15 view .LVU253
 927 007e 0222     		movs	r2, #2
 928 0080 2968     		ldr	r1, [r5]
 929 0082 0A20     		movs	r0, #10
 930 0084 FFF7FEFF 		bl	GetWallDataAverage
 931              	.LVL63:
 388:Core/Src/Main/Interrupt.c **** 		Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 932              		.loc 1 388 13 view .LVU254
 933 0088 86ED020A 		vstr.32	s0, [r6, #8]
 389:Core/Src/Main/Interrupt.c **** 		#if 1
 934              		.loc 1 389 3 is_stmt 1 view .LVU255
 389:Core/Src/Main/Interrupt.c **** 		#if 1
 935              		.loc 1 389 15 is_stmt 0 view .LVU256
 936 008c 0322     		movs	r2, #3
 937 008e 6968     		ldr	r1, [r5, #4]
 938 0090 0A20     		movs	r0, #10
 939 0092 FFF7FEFF 		bl	GetWallDataAverage
 940              	.LVL64:
 389:Core/Src/Main/Interrupt.c **** 		#if 1
 941              		.loc 1 389 13 view .LVU257
 942 0096 86ED030A 		vstr.32	s0, [r6, #12]
 391:Core/Src/Main/Interrupt.c **** 				adc2[0],
 943              		.loc 1 391 4 is_stmt 1 view .LVU258
 392:Core/Src/Main/Interrupt.c **** 				adc1[0],
 944              		.loc 1 392 9 is_stmt 0 view .LVU259
 945 009a 2B68     		ldr	r3, [r5]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 26


 391:Core/Src/Main/Interrupt.c **** 				adc2[0],
 946              		.loc 1 391 13 view .LVU260
 947 009c 0093     		str	r3, [sp]
 393:Core/Src/Main/Interrupt.c **** 				adc2[1],
 948              		.loc 1 393 9 view .LVU261
 949 009e 2368     		ldr	r3, [r4]
 391:Core/Src/Main/Interrupt.c **** 				adc2[0],
 950              		.loc 1 391 13 view .LVU262
 951 00a0 0193     		str	r3, [sp, #4]
 394:Core/Src/Main/Interrupt.c **** 				adc1[1]
 952              		.loc 1 394 9 view .LVU263
 953 00a2 6B68     		ldr	r3, [r5, #4]
 391:Core/Src/Main/Interrupt.c **** 				adc2[0],
 954              		.loc 1 391 13 view .LVU264
 955 00a4 0293     		str	r3, [sp, #8]
 395:Core/Src/Main/Interrupt.c **** 			};
 956              		.loc 1 395 9 view .LVU265
 957 00a6 6368     		ldr	r3, [r4, #4]
 391:Core/Src/Main/Interrupt.c **** 				adc2[0],
 958              		.loc 1 391 13 view .LVU266
 959 00a8 0393     		str	r3, [sp, #12]
 397:Core/Src/Main/Interrupt.c **** 		#else
 960              		.loc 1 397 4 is_stmt 1 view .LVU267
 961 00aa 6846     		mov	r0, sp
 962 00ac FFF7FEFF 		bl	getPhotoSampleValue_uint32
 963              	.LVL65:
 964              	.LBE2:
 965              		.loc 1 402 1 is_stmt 0 view .LVU268
 966 00b0 AFE7     		b	.L23
 967              	.L35:
 968 00b2 00BF     		.align	2
 969              	.L34:
 970 00b4 00000000 		.word	htim1
 971 00b8 00000000 		.word	htim8
 972 00bc 00000000 		.word	.LANCHOR2
 973 00c0 00000000 		.word	.LANCHOR3
 974 00c4 00000000 		.word	.LANCHOR5
 975 00c8 00000000 		.word	Angle
 976 00cc 00000000 		.word	AngularV
 977 00d0 00000000 		.word	adc1
 978 00d4 00000000 		.word	Photo
 979 00d8 00000000 		.word	adc2
 980              		.cfi_endproc
 981              	.LFE241:
 983              		.global	convert_to_imu_yaccel
 984              		.global	convert_to_angularv
 985              		.global	convert_to_velocity
 986              		.global	dbc
 987              		.global	debugVR
 988              		.global	debugVL
 989              		.global	velodebug_flag
 990              		.global	IT_mode
 991              		.global	t
 992              		.global	timer8
 993              		.global	timer1
 994              		.section	.bss.IT_mode,"aw",%nobits
 995              		.align	2
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 27


 996              		.set	.LANCHOR2,. + 0
 999              	IT_mode:
 1000 0000 00000000 		.space	4
 1001              		.section	.bss.dbc,"aw",%nobits
 1002              		.align	2
 1003              		.set	.LANCHOR0,. + 0
 1006              	dbc:
 1007 0000 00000000 		.space	4
 1008              		.section	.bss.debugVL,"aw",%nobits
 1009              		.align	2
 1012              	debugVL:
 1013 0000 00000000 		.space	8000
 1013      00000000 
 1013      00000000 
 1013      00000000 
 1013      00000000 
 1014              		.section	.bss.debugVR,"aw",%nobits
 1015              		.align	2
 1018              	debugVR:
 1019 0000 00000000 		.space	8000
 1019      00000000 
 1019      00000000 
 1019      00000000 
 1019      00000000 
 1020              		.section	.bss.t,"aw",%nobits
 1021              		.align	2
 1022              		.set	.LANCHOR5,. + 0
 1025              	t:
 1026 0000 00000000 		.space	4
 1027              		.section	.bss.timer1,"aw",%nobits
 1028              		.align	2
 1029              		.set	.LANCHOR3,. + 0
 1032              	timer1:
 1033 0000 00000000 		.space	4
 1034              		.section	.bss.timer8,"aw",%nobits
 1035              		.align	2
 1036              		.set	.LANCHOR4,. + 0
 1039              	timer8:
 1040 0000 00000000 		.space	4
 1041              		.section	.bss.velodebug_flag,"aw",%nobits
 1042              		.align	2
 1045              	velodebug_flag:
 1046 0000 00000000 		.space	4
 1047              		.section	.bss.zg_last.0,"aw",%nobits
 1048              		.align	2
 1049              		.set	.LANCHOR1,. + 0
 1052              	zg_last.0:
 1053 0000 00000000 		.space	4
 1054              		.section	.rodata.convert_to_angularv,"a"
 1055              		.align	2
 1058              	convert_to_angularv:
 1059 0000 B823EE3C 		.word	1022239672
 1060              		.section	.rodata.convert_to_imu_yaccel,"a"
 1061              		.align	2
 1064              	convert_to_imu_yaccel:
 1065 0000 B02F9940 		.word	1083781040
 1066              		.section	.rodata.convert_to_velocity,"a"
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 28


 1067              		.align	2
 1070              	convert_to_velocity:
 1071 0000 CD77813F 		.word	1065449421
 1072              		.text
 1073              	.Letext0:
 1074              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\machine\\_default_types.
 1075              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1076              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1077              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1078              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1079              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1080              		.file 8 "Core/Inc/Main/Interrupt.h"
 1081              		.file 9 "Core/Inc/Main/MicroMouse.h"
 1082              		.file 10 "Core/Inc/Tools/PID_Control.h"
 1083              		.file 11 "Core/Inc/HardWare/mouse_ADC.h"
 1084              		.file 12 "Core/Inc/HardWare/ICM_20648.h"
 1085              		.file 13 "Core/Inc/Tools/Convert.h"
 1086              		.file 14 "Core/Inc/Tools/Sampling.h"
 1087              		.file 15 "Core/Inc/HardWare/Motor_Driver.h"
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 Interrupt.c
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:23     .text.Explore_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:28     .text.Explore_IT:00000000 Explore_IT
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:433    .text.Explore_IT:00000290 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1012   .bss.debugVL:00000000 debugVL
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1018   .bss.debugVR:00000000 debugVR
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:464    .text.WritingFree_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:469    .text.WritingFree_IT:00000000 WritingFree_IT
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:716    .text.WritingFree_IT:000001a0 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:745    .text.initInterruptValue:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:751    .text.initInterruptValue:00000000 initInterruptValue
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:786    .text.initInterruptValue:0000001c $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:795    .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:801    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:970    .text.HAL_TIM_PeriodElapsedCallback:000000b4 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1064   .rodata.convert_to_imu_yaccel:00000000 convert_to_imu_yaccel
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1058   .rodata.convert_to_angularv:00000000 convert_to_angularv
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1070   .rodata.convert_to_velocity:00000000 convert_to_velocity
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1006   .bss.dbc:00000000 dbc
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1045   .bss.velodebug_flag:00000000 velodebug_flag
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:999    .bss.IT_mode:00000000 IT_mode
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1025   .bss.t:00000000 t
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1039   .bss.timer8:00000000 timer8
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1032   .bss.timer1:00000000 timer1
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:995    .bss.IT_mode:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1002   .bss.dbc:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1009   .bss.debugVL:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1015   .bss.debugVR:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1021   .bss.t:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1028   .bss.timer1:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1035   .bss.timer8:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1042   .bss.velodebug_flag:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1048   .bss.zg_last.0:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1052   .bss.zg_last.0:00000000 zg_last.0
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1055   .rodata.convert_to_angularv:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1061   .rodata.convert_to_imu_yaccel:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s:1067   .rodata.convert_to_velocity:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
Update_IMU
PIDControl
Motor_Switch
PulseDisplacement
CurrentVelocity
TotalPulse
Angle
AngularV
Pid
Acceleration
TargetVelocity
AngularAcceleration
TargetAngularV
VelocityLeftOut
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccX8k4Hg.s 			page 30


VelocityRightOut
TargetAngle
Photo
PhotoDiff
TargetPhoto
__aeabi_dadd
ReadIMU
ZGyro
zg_offset
convert_to_imu_angv
AngularLeapsity
GetWallDataAverage
getPhotoSampleValue_uint32
htim1
htim8
adc1
adc2
