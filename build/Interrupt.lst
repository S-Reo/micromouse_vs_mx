ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Interrupt.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_f2d
  20              		.global	__aeabi_dmul
  21              		.global	__aeabi_d2f
  22              		.global	__aeabi_ddiv
  23              		.section	.text.Explore_IT,"ax",%progbits
  24              		.align	1
  25              		.syntax unified
  26              		.thumb
  27              		.thumb_func
  29              	Explore_IT:
  30              	.LFB241:
  31              		.file 1 "Core/Src/Main/Interrupt.c"
   1:Core/Src/Main/Interrupt.c **** /*
   2:Core/Src/Main/Interrupt.c ****  * Interrupt.c
   3:Core/Src/Main/Interrupt.c ****  *
   4:Core/Src/Main/Interrupt.c ****  *  Created on: 2022/02/15
   5:Core/Src/Main/Interrupt.c ****  *      Author: leopi
   6:Core/Src/Main/Interrupt.c ****  */
   7:Core/Src/Main/Interrupt.c **** #include "Interrupt.h"
   8:Core/Src/Main/Interrupt.c **** 
   9:Core/Src/Main/Interrupt.c **** #include "Action.h"
  10:Core/Src/Main/Interrupt.c **** #include "MicroMouse.h"
  11:Core/Src/Main/Interrupt.c **** 
  12:Core/Src/Main/Interrupt.c **** #include <math.h>
  13:Core/Src/Main/Interrupt.c **** // #include "Convert.h"
  14:Core/Src/Main/Interrupt.c **** #include "UI.h"
  15:Core/Src/Main/Interrupt.c **** #include "PID_Control.h"
  16:Core/Src/Main/Interrupt.c **** 
  17:Core/Src/Main/Interrupt.c **** #include "mouse_ADC.h"
  18:Core/Src/Main/Interrupt.c **** //#include "LED_Driver.h"
  19:Core/Src/Main/Interrupt.c **** #include "IR_Emitter.h"
  20:Core/Src/Main/Interrupt.c **** #include "Motor_Driver.h"
  21:Core/Src/Main/Interrupt.c **** #include "ICM_20648.h"
  22:Core/Src/Main/Interrupt.c **** #include "Mode.h"
  23:Core/Src/Main/Interrupt.c **** // #include "Sampling.h"
  24:Core/Src/Main/Interrupt.c **** 
  25:Core/Src/Main/Interrupt.c **** int timer1,timer8, t;
  26:Core/Src/Main/Interrupt.c **** int IT_mode;
  27:Core/Src/Main/Interrupt.c **** logger_f identify[2];
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 2


  28:Core/Src/Main/Interrupt.c **** 
  29:Core/Src/Main/Interrupt.c **** const float convert_to_velocity = MM_PER_PULSE/T1;
  30:Core/Src/Main/Interrupt.c **** const float convert_to_angularv = 1/TREAD_WIDTH;
  31:Core/Src/Main/Interrupt.c **** //const float convert_to_imu_angv = M_PI/(16.4f*180.0f);
  32:Core/Src/Main/Interrupt.c **** const float convert_to_imu_yaccel = 1000*9.80392157f / 2048.0f; //1000*ãªã‚“ã¡ã‚ƒã‚‰gÃ—9.80392157
  33:Core/Src/Main/Interrupt.c **** // const float maintain_output_valtage = 1/(BATTERY_MAX;
  34:Core/Src/Main/Interrupt.c **** // PIDã§è¨ˆç®—ã—ãŸå€¤ = é›»åœ§å€¤ã€ã‚’ã€ã‚«ã‚¦ãƒ³ã‚¿å€¤ã«å¤‰æ›ã™ã‚‹å‡¦ç†ãŒè¦ã‚‹
  35:Core/Src/Main/Interrupt.c **** 
  36:Core/Src/Main/Interrupt.c **** logger_f log_velocity;
  37:Core/Src/Main/Interrupt.c **** inline void calcVelocity(){
  38:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
  39:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  40:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
  41:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
  42:Core/Src/Main/Interrupt.c **** 
  43:Core/Src/Main/Interrupt.c **** 	//é€Ÿåº¦ mm/s
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[LEFT] =  (float)PulseDisplacement[LEFT] * convert_to_velocity;
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  46:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
  47:Core/Src/Main/Interrupt.c **** 
  48:Core/Src/Main/Interrupt.c **** 	//ç§»å‹•é‡ mm/msã‚’ç©ç®—
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[LEFT] += PulseDisplacement[LEFT];
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
  51:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
  52:Core/Src/Main/Interrupt.c **** }
  53:Core/Src/Main/Interrupt.c **** 
  54:Core/Src/Main/Interrupt.c **** static void SystemIdentify_IT(){
  55:Core/Src/Main/Interrupt.c **** 	
  56:Core/Src/Main/Interrupt.c **** 	calcVelocity();
  57:Core/Src/Main/Interrupt.c **** 
  58:Core/Src/Main/Interrupt.c **** 	Update_IMU(&(Current.AngularV), &(Current.Angle));
  59:Core/Src/Main/Interrupt.c **** 
  60:Core/Src/Main/Interrupt.c **** 	static int identify_count=0;
  61:Core/Src/Main/Interrupt.c **** 	static int count=0;
  62:Core/Src/Main/Interrupt.c **** 	float output[2] ={
  63:Core/Src/Main/Interrupt.c **** 		Current.Velocity[BODY],
  64:Core/Src/Main/Interrupt.c **** 		Current.AngularV
  65:Core/Src/Main/Interrupt.c **** 	};
  66:Core/Src/Main/Interrupt.c **** 	float input[2]={0};
  67:Core/Src/Main/Interrupt.c **** 	_Bool identify_mode_v_or_angv = getIdentifyMode();
  68:Core/Src/Main/Interrupt.c **** 	float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
  69:Core/Src/Main/Interrupt.c **** 	float convert_to_reg_counter = 840/battery_voltage;;
  70:Core/Src/Main/Interrupt.c **** 	if(getLoggerFlag(&(identify[identify_mode_v_or_angv].f)) == true){
  71:Core/Src/Main/Interrupt.c **** 		if( (count%20) == 0 ){
  72:Core/Src/Main/Interrupt.c **** 			getFloatLog(&identify[identify_mode_v_or_angv], output[identify_mode_v_or_angv]);
  73:Core/Src/Main/Interrupt.c **** 		}
  74:Core/Src/Main/Interrupt.c **** 		if( (count%40) == 0 ){ //15ã‚’ã„ã˜ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹
  75:Core/Src/Main/Interrupt.c **** 			getIdentifyInputCount(identify_count, &input[0] ,identify_mode_v_or_angv);
  76:Core/Src/Main/Interrupt.c **** 			input[0] *= convert_to_reg_counter;
  77:Core/Src/Main/Interrupt.c **** 			input[1] *= convert_to_reg_counter;
  78:Core/Src/Main/Interrupt.c **** 			Motor_Switch(input[0], input[1]);
  79:Core/Src/Main/Interrupt.c **** 			identify_count++;
  80:Core/Src/Main/Interrupt.c **** 			
  81:Core/Src/Main/Interrupt.c **** 		}
  82:Core/Src/Main/Interrupt.c **** 		count++;
  83:Core/Src/Main/Interrupt.c **** 	}
  84:Core/Src/Main/Interrupt.c **** 	else{
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 3


  85:Core/Src/Main/Interrupt.c **** 		Motor_Switch(0,0);
  86:Core/Src/Main/Interrupt.c **** 		count = 0;
  87:Core/Src/Main/Interrupt.c **** 	}
  88:Core/Src/Main/Interrupt.c **** 	
  89:Core/Src/Main/Interrupt.c **** }
  90:Core/Src/Main/Interrupt.c **** static void ControlTest_IT(){
  91:Core/Src/Main/Interrupt.c **** 
  92:Core/Src/Main/Interrupt.c **** 	calcVelocity();
  93:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, Current.Velocity[BODY]);
  94:Core/Src/Main/Interrupt.c **** 	
  95:Core/Src/Main/Interrupt.c **** 	
  96:Core/Src/Main/Interrupt.c **** 	//è§’é€Ÿåº¦ rad/s
  97:Core/Src/Main/Interrupt.c **** 
  98:Core/Src/Main/Interrupt.c **** #if 0
  99:Core/Src/Main/Interrupt.c **** 	//static float angle=0;
 100:Core/Src/Main/Interrupt.c **** 	volatile static float zg_last=0;
 101:Core/Src/Main/Interrupt.c **** 	volatile float zg_law;
 102:Core/Src/Main/Interrupt.c **** 	//uint8_t zgb,zgf;
 103:Core/Src/Main/Interrupt.c **** 	ZGyro = ReadIMU(0x37, 0x38);
 104:Core/Src/Main/Interrupt.c ****     zg_law =  ( ZGyro - zg_offset )*convert_to_imu_angv;//16.4 * 180;//rad/s or rad/0.001s
 105:Core/Src/Main/Interrupt.c ****     Current.AngularV = -((0.01*zg_law) + (0.99)* (zg_last));
 106:Core/Src/Main/Interrupt.c ****     zg_last = zg_law;
 107:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
 108:Core/Src/Main/Interrupt.c **** 
 109:Core/Src/Main/Interrupt.c **** #else
 110:Core/Src/Main/Interrupt.c **** 	Update_IMU(&(Current.AngularV), &(Current.Angle)); //ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ã¨ã‚ªãƒ•ã‚»ãƒƒãƒˆ
 111:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, AngularV);
 112:Core/Src/Main/Interrupt.c **** //	AngularV = ( Current.Velocity[LEFT] - Current.Velocity[RIGHT] ) *convert_to_angularv;
 113:Core/Src/Main/Interrupt.c **** //	Angle += AngularV * T1;
 114:Core/Src/Main/Interrupt.c **** 
 115:Core/Src/Main/Interrupt.c **** #endif
 116:Core/Src/Main/Interrupt.c **** 	int wall_d =0,wall_l =0,wall_r =0, wall_f=0;
 117:Core/Src/Main/Interrupt.c **** 		int ang_out=0;
 118:Core/Src/Main/Interrupt.c **** 
 119:Core/Src/Main/Interrupt.c **** 
 120:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.AngularV, Current.AngularV); //é›»åœ§å€¤
 121:Core/Src/Main/Interrupt.c **** 
 122:Core/Src/Main/Interrupt.c **** 	#if 0
 123:Core/Src/Main/Interrupt.c **** 			// VelocityLeftOut = PIDControl( L_VELO_PID, Target.Velocity[BODY], Current.Velocity[LEFT]);
 124:Core/Src/Main/Interrupt.c **** 			// VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 125:Core/Src/Main/Interrupt.c **** 
 126:Core/Src/Main/Interrupt.c **** 			float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 127:Core/Src/Main/Interrupt.c **** 			float duty = 1/ battery_voltage;
 128:Core/Src/Main/Interrupt.c **** 
 129:Core/Src/Main/Interrupt.c **** 			VelocityLeftOut = (((float)ang_out)) * 840*duty;
 130:Core/Src/Main/Interrupt.c **** 			VelocityRightOut = (((float)ang_out))* 840 *duty * (-1);
 131:Core/Src/Main/Interrupt.c **** 	#else
 132:Core/Src/Main/Interrupt.c **** 		
 133:Core/Src/Main/Interrupt.c **** 		VelocityLeftOut = PIDControl( L_VELO_PID, Target.Velocity[BODY], Current.Velocity[LEFT]);
 134:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 135:Core/Src/Main/Interrupt.c **** 		float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 136:Core/Src/Main/Interrupt.c **** 		float duty = 840/ battery_voltage;
 137:Core/Src/Main/Interrupt.c **** 		// VelocityLeftOut = voltage_maintainer * PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.
 138:Core/Src/Main/Interrupt.c **** 		// VelocityRightOut = voltage_maintainer * PIDControl( R_VELO_PID, Target.Velocity[RIGHT], Curren
 139:Core/Src/Main/Interrupt.c **** 		VelocityLeftOut = ((float)(VelocityLeftOut + ang_out)) * duty;
 140:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 141:Core/Src/Main/Interrupt.c **** 
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 4


 142:Core/Src/Main/Interrupt.c **** 		/* è§’é€Ÿåº¦ã®èª¿æ•´
 143:Core/Src/Main/Interrupt.c **** 		VelocityLeftOut = 0;
 144:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = 0;
 145:Core/Src/Main/Interrupt.c **** 		float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 146:Core/Src/Main/Interrupt.c **** 		float duty = 840/ battery_voltage;
 147:Core/Src/Main/Interrupt.c **** 		VelocityLeftOut = ((float)(VelocityLeftOut + ang_out)) * duty;
 148:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut+ (ang_out* (-1)) ))* duty;
 149:Core/Src/Main/Interrupt.c **** 		*/
 150:Core/Src/Main/Interrupt.c **** 	#endif
 151:Core/Src/Main/Interrupt.c **** 	//ãƒ¢ãƒ¼ã‚¿ã«å‡ºåŠ›
 152:Core/Src/Main/Interrupt.c **** 	Motor_Switch( VelocityLeftOut, VelocityRightOut );
 153:Core/Src/Main/Interrupt.c **** }
 154:Core/Src/Main/Interrupt.c **** static void Explore_IT()
 155:Core/Src/Main/Interrupt.c **** {
  32              		.loc 1 155 1 view -0
  33              		.cfi_startproc
  34              		@ args = 0, pretend = 0, frame = 0
  35              		@ frame_needed = 0, uses_anonymous_args = 0
  36 0000 70B5     		push	{r4, r5, r6, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 16
  39              		.cfi_offset 4, -16
  40              		.cfi_offset 5, -12
  41              		.cfi_offset 6, -8
  42              		.cfi_offset 14, -4
  43 0002 2DED028B 		vpush.64	{d8}
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 24
  46              		.cfi_offset 80, -24
  47              		.cfi_offset 81, -20
 156:Core/Src/Main/Interrupt.c **** 	calcVelocity();
  48              		.loc 1 156 2 view .LVU1
  49              	.LBB4:
  50              	.LBI4:
  37:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
  51              		.loc 1 37 13 view .LVU2
  52              	.LBB5:
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  53              		.loc 1 38 2 view .LVU3
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  54              		.loc 1 38 35 is_stmt 0 view .LVU4
  55 0006 B04A     		ldr	r2, .L13+16
  56 0008 516A     		ldr	r1, [r2, #36]
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  57              		.loc 1 38 28 view .LVU5
  58 000a 47F22F53 		movw	r3, #29999
  59 000e 591A     		subs	r1, r3, r1
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
  60              		.loc 1 38 26 view .LVU6
  61 0010 AE4C     		ldr	r4, .L13+20
  62 0012 2160     		str	r1, [r4]
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
  63              		.loc 1 39 2 is_stmt 1 view .LVU7
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
  64              		.loc 1 39 12 is_stmt 0 view .LVU8
  65 0014 5362     		str	r3, [r2, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 5


  66              		.loc 1 40 2 is_stmt 1 view .LVU9
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
  67              		.loc 1 40 36 is_stmt 0 view .LVU10
  68 0016 AE48     		ldr	r0, .L13+24
  69 0018 426A     		ldr	r2, [r0, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
  70              		.loc 1 40 29 view .LVU11
  71 001a 9A1A     		subs	r2, r3, r2
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
  72              		.loc 1 40 27 view .LVU12
  73 001c 6260     		str	r2, [r4, #4]
  41:Core/Src/Main/Interrupt.c **** 
  74              		.loc 1 41 2 is_stmt 1 view .LVU13
  41:Core/Src/Main/Interrupt.c **** 
  75              		.loc 1 41 12 is_stmt 0 view .LVU14
  76 001e 4362     		str	r3, [r0, #36]
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  77              		.loc 1 44 2 is_stmt 1 view .LVU15
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  78              		.loc 1 44 28 is_stmt 0 view .LVU16
  79 0020 07EE901A 		vmov	s15, r1	@ int
  80 0024 B8EEE77A 		vcvt.f32.s32	s14, s15
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  81              		.loc 1 44 59 view .LVU17
  82 0028 DFEDAA6A 		vldr.32	s13, .L13+28
  83 002c 27EE267A 		vmul.f32	s14, s14, s13
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
  84              		.loc 1 44 25 view .LVU18
  85 0030 A948     		ldr	r0, .L13+32
  86 0032 80ED007A 		vstr.32	s14, [r0]
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
  87              		.loc 1 45 2 is_stmt 1 view .LVU19
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
  88              		.loc 1 45 29 is_stmt 0 view .LVU20
  89 0036 07EE902A 		vmov	s15, r2	@ int
  90 003a F8EEE77A 		vcvt.f32.s32	s15, s15
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
  91              		.loc 1 45 61 view .LVU21
  92 003e 67EEA67A 		vmul.f32	s15, s15, s13
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
  93              		.loc 1 45 26 view .LVU22
  94 0042 C0ED017A 		vstr.32	s15, [r0, #4]
  46:Core/Src/Main/Interrupt.c **** 
  95              		.loc 1 46 2 is_stmt 1 view .LVU23
  46:Core/Src/Main/Interrupt.c **** 
  96              		.loc 1 46 44 is_stmt 0 view .LVU24
  97 0046 D0ED007A 		vldr.32	s15, [r0]
  46:Core/Src/Main/Interrupt.c **** 
  98              		.loc 1 46 69 view .LVU25
  99 004a 90ED017A 		vldr.32	s14, [r0, #4]
  46:Core/Src/Main/Interrupt.c **** 
 100              		.loc 1 46 51 view .LVU26
 101 004e 77EE877A 		vadd.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 102              		.loc 1 46 78 view .LVU27
 103 0052 B6EE007A 		vmov.f32	s14, #5.0e-1
 104 0056 67EE877A 		vmul.f32	s15, s15, s14
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 6


  46:Core/Src/Main/Interrupt.c **** 
 105              		.loc 1 46 25 view .LVU28
 106 005a C0ED027A 		vstr.32	s15, [r0, #8]
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 107              		.loc 1 49 2 is_stmt 1 view .LVU29
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 108              		.loc 1 49 19 is_stmt 0 view .LVU30
 109 005e 9F4B     		ldr	r3, .L13+36
 110 0060 1C68     		ldr	r4, [r3]
 111 0062 2144     		add	r1, r1, r4
 112 0064 1960     		str	r1, [r3]
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 113              		.loc 1 50 2 is_stmt 1 view .LVU31
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 114              		.loc 1 50 20 is_stmt 0 view .LVU32
 115 0066 5968     		ldr	r1, [r3, #4]
 116 0068 0A44     		add	r2, r2, r1
 117 006a 5A60     		str	r2, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 118              		.loc 1 51 2 is_stmt 1 view .LVU33
  51:Core/Src/Main/Interrupt.c **** }
 119              		.loc 1 51 31 is_stmt 0 view .LVU34
 120 006c 1A68     		ldr	r2, [r3]
  51:Core/Src/Main/Interrupt.c **** }
 121              		.loc 1 51 48 view .LVU35
 122 006e 5968     		ldr	r1, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 123              		.loc 1 51 37 view .LVU36
 124 0070 0A44     		add	r2, r2, r1
  51:Core/Src/Main/Interrupt.c **** }
 125              		.loc 1 51 19 view .LVU37
 126 0072 9A60     		str	r2, [r3, #8]
 127              	.LBE5:
 128              	.LBE4:
 157:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, Current.Velocity[BODY]);
 158:Core/Src/Main/Interrupt.c **** 	
 159:Core/Src/Main/Interrupt.c **** 	//ç§»å‹•é‡ mm/msã‚’ç©ç®—
 160:Core/Src/Main/Interrupt.c **** 
 161:Core/Src/Main/Interrupt.c **** 
 162:Core/Src/Main/Interrupt.c **** 	//è§’é€Ÿåº¦ rad/s
 163:Core/Src/Main/Interrupt.c **** 
 164:Core/Src/Main/Interrupt.c **** #if 0
 165:Core/Src/Main/Interrupt.c **** 	//static float angle=0;
 166:Core/Src/Main/Interrupt.c **** 	volatile static float zg_last=0;
 167:Core/Src/Main/Interrupt.c **** 	volatile float zg_law;
 168:Core/Src/Main/Interrupt.c **** 	//uint8_t zgb,zgf;
 169:Core/Src/Main/Interrupt.c **** 	ZGyro = ReadIMU(0x37, 0x38);
 170:Core/Src/Main/Interrupt.c ****     zg_law =  ( ZGyro - zg_offset )*convert_to_imu_angv;//16.4 * 180;//rad/s or rad/0.001s
 171:Core/Src/Main/Interrupt.c ****     Current.AngularV = -((0.01*zg_law) + (0.99)* (zg_last));
 172:Core/Src/Main/Interrupt.c ****     zg_last = zg_law;
 173:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
 174:Core/Src/Main/Interrupt.c **** 
 175:Core/Src/Main/Interrupt.c **** #else
 176:Core/Src/Main/Interrupt.c **** 	Update_IMU(&(Current.AngularV), &(Current.Angle)); //ãƒ¡ãƒ‡ã‚£ã‚¢ãƒ³ãƒ•ã‚£ãƒ«ã‚¿ã¨ã‚ªãƒ•ã‚»ãƒƒãƒˆ
 129              		.loc 1 176 2 is_stmt 1 view .LVU38
 130 0074 00F10C01 		add	r1, r0, #12
 131 0078 1030     		adds	r0, r0, #16
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 7


 132 007a FFF7FEFF 		bl	Update_IMU
 133              	.LVL0:
 177:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, AngularV);
 178:Core/Src/Main/Interrupt.c **** //	AngularV = ( Current.Velocity[LEFT] - Current.Velocity[RIGHT] ) *convert_to_angularv;
 179:Core/Src/Main/Interrupt.c **** //	Angle += AngularV * T1;
 180:Core/Src/Main/Interrupt.c **** 
 181:Core/Src/Main/Interrupt.c **** #endif
 182:Core/Src/Main/Interrupt.c **** 	int wall_d =0,wall_l =0,wall_r =0, wall_f=0;
 134              		.loc 1 182 2 view .LVU39
 183:Core/Src/Main/Interrupt.c **** 		int ang_out=0;
 135              		.loc 1 183 3 view .LVU40
 184:Core/Src/Main/Interrupt.c **** #if 1
 185:Core/Src/Main/Interrupt.c **** 
 186:Core/Src/Main/Interrupt.c **** 	if( Pid[A_VELO_PID].flag == 1 )
 136              		.loc 1 186 2 view .LVU41
 137              		.loc 1 186 21 is_stmt 0 view .LVU42
 138 007e 984B     		ldr	r3, .L13+40
 139 0080 9B6A     		ldr	r3, [r3, #40]
 140              		.loc 1 186 4 view .LVU43
 141 0082 012B     		cmp	r3, #1
 142 0084 00F08880 		beq	.L8
 187:Core/Src/Main/Interrupt.c **** 	{
 188:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 189:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 190:Core/Src/Main/Interrupt.c **** 	}
 191:Core/Src/Main/Interrupt.c **** 	else if( Pid[D_WALL_PID].flag == 1 )
 143              		.loc 1 191 7 is_stmt 1 view .LVU44
 144              		.loc 1 191 26 is_stmt 0 view .LVU45
 145 0088 954B     		ldr	r3, .L13+40
 146 008a 5B6D     		ldr	r3, [r3, #84]
 147              		.loc 1 191 9 view .LVU46
 148 008c 012B     		cmp	r3, #1
 149 008e 00F09380 		beq	.L9
 192:Core/Src/Main/Interrupt.c **** 	{
 193:Core/Src/Main/Interrupt.c **** 		wall_d = PIDControl( D_WALL_PID,Current.Photo[SL],Current.Photo[SIDE_R]+PhotoDiff);
 194:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;
 195:Core/Src/Main/Interrupt.c **** 	}
 196:Core/Src/Main/Interrupt.c **** 	else if( Pid[L_WALL_PID].flag == 1 )
 150              		.loc 1 196 7 is_stmt 1 view .LVU47
 151              		.loc 1 196 26 is_stmt 0 view .LVU48
 152 0092 934B     		ldr	r3, .L13+40
 153 0094 D3F88030 		ldr	r3, [r3, #128]
 154              		.loc 1 196 9 view .LVU49
 155 0098 012B     		cmp	r3, #1
 156 009a 00F0AC80 		beq	.L10
 197:Core/Src/Main/Interrupt.c **** 	{
 198:Core/Src/Main/Interrupt.c **** 		wall_l = PIDControl( L_WALL_PID, Current.Photo[SL], Target.Photo[SL]);
 199:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_l*0.001;
 200:Core/Src/Main/Interrupt.c **** 	}
 201:Core/Src/Main/Interrupt.c **** 	else if( Pid[R_WALL_PID].flag == 1 )
 157              		.loc 1 201 7 is_stmt 1 view .LVU50
 158              		.loc 1 201 26 is_stmt 0 view .LVU51
 159 009e 904B     		ldr	r3, .L13+40
 160 00a0 D3F8AC30 		ldr	r3, [r3, #172]
 161              		.loc 1 201 9 view .LVU52
 162 00a4 012B     		cmp	r3, #1
 163 00a6 00F0C080 		beq	.L11
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 8


 202:Core/Src/Main/Interrupt.c **** 	{
 203:Core/Src/Main/Interrupt.c **** 		wall_r = PIDControl( R_WALL_PID,  Target.Photo[SIDE_R],Current.Photo[SIDE_R]);
 204:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_r*0.001;
 205:Core/Src/Main/Interrupt.c **** 	}
 206:Core/Src/Main/Interrupt.c **** 	else if( Pid[F_WALL_PID].flag == 1)
 164              		.loc 1 206 7 is_stmt 1 view .LVU53
 165              		.loc 1 206 26 is_stmt 0 view .LVU54
 166 00aa 8D4B     		ldr	r3, .L13+40
 167 00ac D3F88831 		ldr	r3, [r3, #392]
 168              		.loc 1 206 9 view .LVU55
 169 00b0 012B     		cmp	r3, #1
 170 00b2 00F0D480 		beq	.L12
 171              	.LVL1:
 172              	.L3:
 207:Core/Src/Main/Interrupt.c **** 	{
 208:Core/Src/Main/Interrupt.c **** 		wall_f = PIDControl( F_WALL_PID,   3800, (	(Current.Photo[FR]+Current.Photo[FL])));
 209:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 210:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 211:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 212:Core/Src/Main/Interrupt.c **** 		//Target.Velocity[BODY] = 0.1*PIDControl( FD_WALL_PID,  Current.Photo[FR]+Photo[FL],4000);
 213:Core/Src/Main/Interrupt.c **** 	}
 214:Core/Src/Main/Interrupt.c **** #else
 215:Core/Src/Main/Interrupt.c **** 	switch(Control_Mode)
 216:Core/Src/Main/Interrupt.c **** 	{
 217:Core/Src/Main/Interrupt.c **** 	case A_VELO_PID:
 218:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( Control_Mode,  Target.Angle, Current.Angle);
 219:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;	//ã²ã¨ã¾ãšã“ã®è¾ºã®å€¤ã®å¾®èª¿æ•´ã¯ç½®ã„ã¦ãŠãã€‚å
 220:Core/Src/Main/Interrupt.c **** 		ChangeLED(7);
 221:Core/Src/Main/Interrupt.c **** 		break;
 222:Core/Src/Main/Interrupt.c **** 	case D_WALL_PID:
 223:Core/Src/Main/Interrupt.c **** 		wall_d = PIDControl( Control_Mode,Current.Photo[SL],Current.Photo[SIDE_R]+PhotoDiff);	//å·¦ã«å¯„
 224:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒ
 225:Core/Src/Main/Interrupt.c **** 		ChangeLED(5);
 226:Core/Src/Main/Interrupt.c **** 		break;
 227:Core/Src/Main/Interrupt.c **** 	case L_WALL_PID:
 228:Core/Src/Main/Interrupt.c **** 		wall_l = PIDControl( Control_Mode, Current.Photo[SL], Target.Photo[SL]);
 229:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_l*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒ
 230:Core/Src/Main/Interrupt.c **** 		ChangeLED(4);
 231:Core/Src/Main/Interrupt.c **** 		break;
 232:Core/Src/Main/Interrupt.c **** 	case R_WALL_PID :
 233:Core/Src/Main/Interrupt.c **** 		wall_r = PIDControl( Control_Mode,  Target.Photo[SIDE_R],Current.Photo[SIDE_R]);			//å³ã«å¯„ã£
 234:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_r*0.001;//0.002 ã ã¨é€Ÿã•ã¯ã¡ã‚‡ã†ã©ã„ã„ã‘ã©ç´°ã‹ã•ãŒ
 235:Core/Src/Main/Interrupt.c **** 		ChangeLED(1);
 236:Core/Src/Main/Interrupt.c **** 		break;
 237:Core/Src/Main/Interrupt.c **** 	case F_WALL_PID : //å‰å£è£œæ­£ã®ãŸã‚ã®åˆ¶å¾¡. ãƒŸãƒƒã‚¯ã‚¹ã¯ã‚ˆããªã„.
 238:Core/Src/Main/Interrupt.c **** 		wall_f = PIDControl( Control_Mode,   3500, (	(Current.Photo[FR]+Photo[FL])));
 239:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 240:Core/Src/Main/Interrupt.c **** 		ChangeLED(2);
 241:Core/Src/Main/Interrupt.c **** 
 242:Core/Src/Main/Interrupt.c **** 		break;
 243:Core/Src/Main/Interrupt.c **** 	case NOT_CTRL_PID:
 244:Core/Src/Main/Interrupt.c **** 		break;
 245:Core/Src/Main/Interrupt.c **** 	default :
 246:Core/Src/Main/Interrupt.c **** 		break;
 247:Core/Src/Main/Interrupt.c **** 	}
 248:Core/Src/Main/Interrupt.c **** #endif
 249:Core/Src/Main/Interrupt.c **** 	Target.Velocity[BODY] += Target.Acceleration;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 9


 173              		.loc 1 249 2 is_stmt 1 view .LVU56
 174              		.loc 1 249 33 is_stmt 0 view .LVU57
 175 00b6 8B4C     		ldr	r4, .L13+44
 176 00b8 94ED0C7A 		vldr.32	s14, [r4, #48]
 177              		.loc 1 249 24 view .LVU58
 178 00bc D4ED027A 		vldr.32	s15, [r4, #8]
 179 00c0 77EE877A 		vadd.f32	s15, s15, s14
 180 00c4 C4ED027A 		vstr.32	s15, [r4, #8]
 250:Core/Src/Main/Interrupt.c **** 	//AngularAcceleration += AngularLeapsity;
 251:Core/Src/Main/Interrupt.c **** 	Target.AngularV += Target.AngularAcceleration;
 181              		.loc 1 251 2 is_stmt 1 view .LVU59
 182              		.loc 1 251 27 is_stmt 0 view .LVU60
 183 00c8 94ED0D7A 		vldr.32	s14, [r4, #52]
 184              		.loc 1 251 18 view .LVU61
 185 00cc D4ED047A 		vldr.32	s15, [r4, #16]
 186 00d0 77EE877A 		vadd.f32	s15, s15, s14
 187 00d4 C4ED047A 		vstr.32	s15, [r4, #16]
 252:Core/Src/Main/Interrupt.c **** 	//Target.AngularV += AngularAcceleration;
 253:Core/Src/Main/Interrupt.c **** 	Target.Velocity[RIGHT] = ( Target.Velocity[BODY] - Target.AngularV * TREAD_WIDTH * 0.5f );
 188              		.loc 1 253 2 is_stmt 1 view .LVU62
 189              		.loc 1 253 44 is_stmt 0 view .LVU63
 190 00d8 D4ED026A 		vldr.32	s13, [r4, #8]
 191              		.loc 1 253 59 view .LVU64
 192 00dc 94ED047A 		vldr.32	s14, [r4, #16]
 193              		.loc 1 253 69 view .LVU65
 194 00e0 9FED816A 		vldr.32	s12, .L13+48
 195 00e4 27EE067A 		vmul.f32	s14, s14, s12
 196              		.loc 1 253 83 view .LVU66
 197 00e8 F6EE007A 		vmov.f32	s15, #5.0e-1
 198 00ec 27EE277A 		vmul.f32	s14, s14, s15
 199              		.loc 1 253 51 view .LVU67
 200 00f0 36EEC77A 		vsub.f32	s14, s13, s14
 201              		.loc 1 253 25 view .LVU68
 202 00f4 84ED017A 		vstr.32	s14, [r4, #4]
 254:Core/Src/Main/Interrupt.c **** 	Target.Velocity[LEFT] = ( Target.AngularV *TREAD_WIDTH ) + Target.Velocity[RIGHT];
 203              		.loc 1 254 2 is_stmt 1 view .LVU69
 204              		.loc 1 254 34 is_stmt 0 view .LVU70
 205 00f8 D4ED047A 		vldr.32	s15, [r4, #16]
 206              		.loc 1 254 44 view .LVU71
 207 00fc 67EE867A 		vmul.f32	s15, s15, s12
 208              		.loc 1 254 76 view .LVU72
 209 0100 94ED017A 		vldr.32	s14, [r4, #4]
 210              		.loc 1 254 59 view .LVU73
 211 0104 77EE877A 		vadd.f32	s15, s15, s14
 212              		.loc 1 254 24 view .LVU74
 213 0108 C4ED007A 		vstr.32	s15, [r4]
 255:Core/Src/Main/Interrupt.c **** 
 256:Core/Src/Main/Interrupt.c **** #if 0
 257:Core/Src/Main/Interrupt.c **** 	float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 258:Core/Src/Main/Interrupt.c **** 	float voltage_maintainer = BATTERY_MAX/battery_voltage;
 259:Core/Src/Main/Interrupt.c **** 	
 260:Core/Src/Main/Interrupt.c **** 	VelocityLeftOut = voltage_maintainer * PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.Velo
 261:Core/Src/Main/Interrupt.c **** 	VelocityRightOut = voltage_maintainer * PIDControl( R_VELO_PID, Target.Velocity[RIGHT], Current.Ve
 262:Core/Src/Main/Interrupt.c **** 	// VelocityLeftOut = PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.Velocity[LEFT]);
 263:Core/Src/Main/Interrupt.c **** 	// VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[RIGHT], Current.Velocity[RIGHT]);
 264:Core/Src/Main/Interrupt.c **** 
 265:Core/Src/Main/Interrupt.c **** #else //ã‚·ã‚¹ãƒ†ãƒ åŒå®šã§å¾—ãŸã‚²ã‚¤ãƒ³ç”¨ã®å¤‰æ›å‡¦ç†
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 10


 266:Core/Src/Main/Interrupt.c **** 	float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 214              		.loc 1 266 2 is_stmt 1 view .LVU75
 215              		.loc 1 266 26 is_stmt 0 view .LVU76
 216 010c 9FED771A 		vldr.32	s2, .L13+52
 217 0110 DFED770A 		vldr.32	s1, .L13+56
 218 0114 B0EE080A 		vmov.f32	s0, #3.0e+0
 219 0118 764B     		ldr	r3, .L13+60
 220 011a 9868     		ldr	r0, [r3, #8]
 221 011c FFF7FEFF 		bl	ADCToBatteryVoltage
 222              	.LVL2:
 223 0120 10EE100A 		vmov	r0, s0
 224              	.LVL3:
 267:Core/Src/Main/Interrupt.c **** 	float convert_to_reg_counter = BATTERY_MAX/battery_voltage;
 225              		.loc 1 267 2 is_stmt 1 view .LVU77
 226              		.loc 1 267 44 is_stmt 0 view .LVU78
 227 0124 FFF7FEFF 		bl	__aeabi_f2d
 228              	.LVL4:
 229              		.loc 1 267 44 view .LVU79
 230 0128 0246     		mov	r2, r0
 231 012a 0B46     		mov	r3, r1
 232 012c 62A1     		adr	r1, .L13
 233 012e D1E90001 		ldrd	r0, [r1]
 234 0132 FFF7FEFF 		bl	__aeabi_ddiv
 235              	.LVL5:
 236              		.loc 1 267 8 view .LVU80
 237 0136 FFF7FEFF 		bl	__aeabi_d2f
 238              	.LVL6:
 239 013a 08EE100A 		vmov	s16, r0
 240              	.LVL7:
 268:Core/Src/Main/Interrupt.c **** 	VelocityLeftOut = convert_to_reg_counter * PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.
 241              		.loc 1 268 2 is_stmt 1 view .LVU81
 242              		.loc 1 268 45 is_stmt 0 view .LVU82
 243 013e 94ED000A 		vldr.32	s0, [r4]
 244 0142 654E     		ldr	r6, .L13+32
 245 0144 D6ED000A 		vldr.32	s1, [r6]
 246 0148 0420     		movs	r0, #4
 247              	.LVL8:
 248              		.loc 1 268 45 view .LVU83
 249 014a FFF7FEFF 		bl	PIDControl
 250              	.LVL9:
 251 014e 07EE900A 		vmov	s15, r0	@ int
 252              		.loc 1 268 43 view .LVU84
 253 0152 F8EEE77A 		vcvt.f32.s32	s15, s15
 254 0156 67EE887A 		vmul.f32	s15, s15, s16
 255              		.loc 1 268 18 view .LVU85
 256 015a 674D     		ldr	r5, .L13+64
 257 015c FDEEE77A 		vcvt.s32.f32	s15, s15
 258 0160 C5ED007A 		vstr.32	s15, [r5]	@ int
 269:Core/Src/Main/Interrupt.c **** 	VelocityRightOut = convert_to_reg_counter * PIDControl( R_VELO_PID, Target.Velocity[RIGHT], Curren
 259              		.loc 1 269 2 is_stmt 1 view .LVU86
 260              		.loc 1 269 46 is_stmt 0 view .LVU87
 261 0164 94ED010A 		vldr.32	s0, [r4, #4]
 262 0168 D6ED010A 		vldr.32	s1, [r6, #4]
 263 016c 0520     		movs	r0, #5
 264 016e FFF7FEFF 		bl	PIDControl
 265              	.LVL10:
 266 0172 07EE900A 		vmov	s15, r0	@ int
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 11


 267              		.loc 1 269 44 view .LVU88
 268 0176 F8EEE77A 		vcvt.f32.s32	s15, s15
 269 017a 67EE887A 		vmul.f32	s15, s15, s16
 270              		.loc 1 269 19 view .LVU89
 271 017e FDEEE77A 		vcvt.s32.f32	s15, s15
 272 0182 17EE901A 		vmov	r1, s15	@ int
 273 0186 5D4B     		ldr	r3, .L13+68
 274 0188 C3ED007A 		vstr.32	s15, [r3]	@ int
 270:Core/Src/Main/Interrupt.c **** #endif
 271:Core/Src/Main/Interrupt.c **** 	//ãƒ¢ãƒ¼ã‚¿ã«å‡ºåŠ›
 272:Core/Src/Main/Interrupt.c **** 	Motor_Switch( VelocityLeftOut, VelocityRightOut );
 275              		.loc 1 272 2 is_stmt 1 view .LVU90
 276 018c 2868     		ldr	r0, [r5]
 277 018e FFF7FEFF 		bl	Motor_Switch
 278              	.LVL11:
 273:Core/Src/Main/Interrupt.c **** }
 279              		.loc 1 273 1 is_stmt 0 view .LVU91
 280 0192 BDEC028B 		vldm	sp!, {d8}
 281              	.LCFI2:
 282              		.cfi_remember_state
 283              		.cfi_restore 80
 284              		.cfi_restore 81
 285              		.cfi_def_cfa_offset 16
 286              	.LVL12:
 287              		.loc 1 273 1 view .LVU92
 288 0196 70BD     		pop	{r4, r5, r6, pc}
 289              	.LVL13:
 290              	.L8:
 291              	.LCFI3:
 292              		.cfi_restore_state
 188:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 293              		.loc 1 188 3 is_stmt 1 view .LVU93
 188:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 294              		.loc 1 188 13 is_stmt 0 view .LVU94
 295 0198 524C     		ldr	r4, .L13+44
 296 019a 94ED030A 		vldr.32	s0, [r4, #12]
 297 019e 4E4B     		ldr	r3, .L13+32
 298 01a0 D3ED030A 		vldr.32	s1, [r3, #12]
 299 01a4 0020     		movs	r0, #0
 300 01a6 FFF7FEFF 		bl	PIDControl
 301              	.LVL14:
 302 01aa 07EE900A 		vmov	s15, r0	@ int
 303              	.LVL15:
 189:Core/Src/Main/Interrupt.c **** 	}
 304              		.loc 1 189 3 is_stmt 1 view .LVU95
 189:Core/Src/Main/Interrupt.c **** 	}
 305              		.loc 1 189 21 is_stmt 0 view .LVU96
 306 01ae F8EEE77A 		vcvt.f32.s32	s15, s15
 189:Core/Src/Main/Interrupt.c **** 	}
 307              		.loc 1 189 19 view .LVU97
 308 01b2 C4ED047A 		vstr.32	s15, [r4, #16]
 309 01b6 7EE7     		b	.L3
 310              	.LVL16:
 311              	.L9:
 193:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;
 312              		.loc 1 193 3 is_stmt 1 view .LVU98
 193:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 12


 313              		.loc 1 193 12 is_stmt 0 view .LVU99
 314 01b8 474B     		ldr	r3, .L13+32
 315 01ba 93ED070A 		vldr.32	s0, [r3, #28]
 193:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;
 316              		.loc 1 193 66 view .LVU100
 317 01be D3ED060A 		vldr.32	s1, [r3, #24]
 193:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_d*0.001;
 318              		.loc 1 193 12 view .LVU101
 319 01c2 4F4B     		ldr	r3, .L13+72
 320 01c4 D3ED007A 		vldr.32	s15, [r3]
 321 01c8 70EEA70A 		vadd.f32	s1, s1, s15
 322 01cc 0120     		movs	r0, #1
 323 01ce FFF7FEFF 		bl	PIDControl
 324              	.LVL17:
 325 01d2 07EE900A 		vmov	s15, r0	@ int
 326              	.LVL18:
 194:Core/Src/Main/Interrupt.c **** 	}
 327              		.loc 1 194 3 is_stmt 1 view .LVU102
 194:Core/Src/Main/Interrupt.c **** 	}
 328              		.loc 1 194 21 is_stmt 0 view .LVU103
 329 01d6 F8EEE77A 		vcvt.f32.s32	s15, s15
 330 01da 17EE900A 		vmov	r0, s15
 331              	.LVL19:
 194:Core/Src/Main/Interrupt.c **** 	}
 332              		.loc 1 194 21 view .LVU104
 333 01de FFF7FEFF 		bl	__aeabi_f2d
 334              	.LVL20:
 194:Core/Src/Main/Interrupt.c **** 	}
 335              		.loc 1 194 34 view .LVU105
 336 01e2 37A3     		adr	r3, .L13+8
 337 01e4 D3E90023 		ldrd	r2, [r3]
 338 01e8 FFF7FEFF 		bl	__aeabi_dmul
 339              	.LVL21:
 340 01ec FFF7FEFF 		bl	__aeabi_d2f
 341              	.LVL22:
 194:Core/Src/Main/Interrupt.c **** 	}
 342              		.loc 1 194 19 view .LVU106
 343 01f0 3C4B     		ldr	r3, .L13+44
 344 01f2 1861     		str	r0, [r3, #16]	@ float
 345 01f4 5FE7     		b	.L3
 346              	.LVL23:
 347              	.L10:
 198:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_l*0.001;
 348              		.loc 1 198 3 is_stmt 1 view .LVU107
 198:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_l*0.001;
 349              		.loc 1 198 12 is_stmt 0 view .LVU108
 350 01f6 384B     		ldr	r3, .L13+32
 351 01f8 93ED070A 		vldr.32	s0, [r3, #28]
 352 01fc 394C     		ldr	r4, .L13+44
 353 01fe D4ED070A 		vldr.32	s1, [r4, #28]
 354 0202 0220     		movs	r0, #2
 355 0204 FFF7FEFF 		bl	PIDControl
 356              	.LVL24:
 357 0208 07EE900A 		vmov	s15, r0	@ int
 358              	.LVL25:
 199:Core/Src/Main/Interrupt.c **** 	}
 359              		.loc 1 199 3 is_stmt 1 view .LVU109
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 13


 199:Core/Src/Main/Interrupt.c **** 	}
 360              		.loc 1 199 21 is_stmt 0 view .LVU110
 361 020c F8EEE77A 		vcvt.f32.s32	s15, s15
 362 0210 17EE900A 		vmov	r0, s15
 363              	.LVL26:
 199:Core/Src/Main/Interrupt.c **** 	}
 364              		.loc 1 199 21 view .LVU111
 365 0214 FFF7FEFF 		bl	__aeabi_f2d
 366              	.LVL27:
 199:Core/Src/Main/Interrupt.c **** 	}
 367              		.loc 1 199 34 view .LVU112
 368 0218 29A3     		adr	r3, .L13+8
 369 021a D3E90023 		ldrd	r2, [r3]
 370 021e FFF7FEFF 		bl	__aeabi_dmul
 371              	.LVL28:
 372 0222 FFF7FEFF 		bl	__aeabi_d2f
 373              	.LVL29:
 199:Core/Src/Main/Interrupt.c **** 	}
 374              		.loc 1 199 19 view .LVU113
 375 0226 2061     		str	r0, [r4, #16]	@ float
 376 0228 45E7     		b	.L3
 377              	.LVL30:
 378              	.L11:
 203:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_r*0.001;
 379              		.loc 1 203 3 is_stmt 1 view .LVU114
 203:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)wall_r*0.001;
 380              		.loc 1 203 12 is_stmt 0 view .LVU115
 381 022a 2E4C     		ldr	r4, .L13+44
 382 022c 94ED060A 		vldr.32	s0, [r4, #24]
 383 0230 294B     		ldr	r3, .L13+32
 384 0232 D3ED060A 		vldr.32	s1, [r3, #24]
 385 0236 0320     		movs	r0, #3
 386 0238 FFF7FEFF 		bl	PIDControl
 387              	.LVL31:
 388 023c 07EE900A 		vmov	s15, r0	@ int
 389              	.LVL32:
 204:Core/Src/Main/Interrupt.c **** 	}
 390              		.loc 1 204 3 is_stmt 1 view .LVU116
 204:Core/Src/Main/Interrupt.c **** 	}
 391              		.loc 1 204 21 is_stmt 0 view .LVU117
 392 0240 F8EEE77A 		vcvt.f32.s32	s15, s15
 393 0244 17EE900A 		vmov	r0, s15
 394              	.LVL33:
 204:Core/Src/Main/Interrupt.c **** 	}
 395              		.loc 1 204 21 view .LVU118
 396 0248 FFF7FEFF 		bl	__aeabi_f2d
 397              	.LVL34:
 204:Core/Src/Main/Interrupt.c **** 	}
 398              		.loc 1 204 34 view .LVU119
 399 024c 1CA3     		adr	r3, .L13+8
 400 024e D3E90023 		ldrd	r2, [r3]
 401 0252 FFF7FEFF 		bl	__aeabi_dmul
 402              	.LVL35:
 403 0256 FFF7FEFF 		bl	__aeabi_d2f
 404              	.LVL36:
 204:Core/Src/Main/Interrupt.c **** 	}
 405              		.loc 1 204 19 view .LVU120
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 14


 406 025a 2061     		str	r0, [r4, #16]	@ float
 407 025c 2BE7     		b	.L3
 408              	.LVL37:
 409              	.L12:
 208:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 410              		.loc 1 208 3 is_stmt 1 view .LVU121
 208:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 411              		.loc 1 208 60 is_stmt 0 view .LVU122
 412 025e 1E4D     		ldr	r5, .L13+32
 413 0260 D5ED080A 		vldr.32	s1, [r5, #32]
 208:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 414              		.loc 1 208 78 view .LVU123
 415 0264 D5ED057A 		vldr.32	s15, [r5, #20]
 208:Core/Src/Main/Interrupt.c **** 		Target.Velocity[BODY] = (float)wall_f*0.001;
 416              		.loc 1 208 12 view .LVU124
 417 0268 70EEA70A 		vadd.f32	s1, s1, s15
 418 026c 9FED250A 		vldr.32	s0, .L13+76
 419 0270 0820     		movs	r0, #8
 420 0272 FFF7FEFF 		bl	PIDControl
 421              	.LVL38:
 422 0276 07EE900A 		vmov	s15, r0	@ int
 423              	.LVL39:
 209:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 424              		.loc 1 209 3 is_stmt 1 view .LVU125
 209:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 425              		.loc 1 209 27 is_stmt 0 view .LVU126
 426 027a F8EEE77A 		vcvt.f32.s32	s15, s15
 427 027e 17EE900A 		vmov	r0, s15
 428              	.LVL40:
 209:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 429              		.loc 1 209 27 view .LVU127
 430 0282 FFF7FEFF 		bl	__aeabi_f2d
 431              	.LVL41:
 209:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 432              		.loc 1 209 40 view .LVU128
 433 0286 0EA3     		adr	r3, .L13+8
 434 0288 D3E90023 		ldrd	r2, [r3]
 435 028c FFF7FEFF 		bl	__aeabi_dmul
 436              	.LVL42:
 437 0290 FFF7FEFF 		bl	__aeabi_d2f
 438              	.LVL43:
 209:Core/Src/Main/Interrupt.c **** 		ang_out = PIDControl( A_VELO_PID,  Target.Angle, Current.Angle);
 439              		.loc 1 209 25 view .LVU129
 440 0294 134C     		ldr	r4, .L13+44
 441 0296 A060     		str	r0, [r4, #8]	@ float
 210:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 442              		.loc 1 210 3 is_stmt 1 view .LVU130
 210:Core/Src/Main/Interrupt.c **** 		Target.AngularV = (float)ang_out;
 443              		.loc 1 210 13 is_stmt 0 view .LVU131
 444 0298 94ED030A 		vldr.32	s0, [r4, #12]
 445 029c D5ED030A 		vldr.32	s1, [r5, #12]
 446 02a0 0020     		movs	r0, #0
 447 02a2 FFF7FEFF 		bl	PIDControl
 448              	.LVL44:
 449 02a6 07EE900A 		vmov	s15, r0	@ int
 450              	.LVL45:
 211:Core/Src/Main/Interrupt.c **** 		//Target.Velocity[BODY] = 0.1*PIDControl( FD_WALL_PID,  Current.Photo[FR]+Photo[FL],4000);
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 15


 451              		.loc 1 211 3 is_stmt 1 view .LVU132
 211:Core/Src/Main/Interrupt.c **** 		//Target.Velocity[BODY] = 0.1*PIDControl( FD_WALL_PID,  Current.Photo[FR]+Photo[FL],4000);
 452              		.loc 1 211 21 is_stmt 0 view .LVU133
 453 02aa F8EEE77A 		vcvt.f32.s32	s15, s15
 211:Core/Src/Main/Interrupt.c **** 		//Target.Velocity[BODY] = 0.1*PIDControl( FD_WALL_PID,  Current.Photo[FR]+Photo[FL],4000);
 454              		.loc 1 211 19 view .LVU134
 455 02ae C4ED047A 		vstr.32	s15, [r4, #16]
 456 02b2 00E7     		b	.L3
 457              	.L14:
 458 02b4 AFF30080 		.align	3
 459              	.L13:
 460 02b8 CDCCCCCC 		.word	-858993459
 461 02bc CCCC2040 		.word	1075891404
 462 02c0 FCA9F1D2 		.word	-755914244
 463 02c4 4D62503F 		.word	1062232653
 464 02c8 00040040 		.word	1073742848
 465 02cc 00000000 		.word	PulseDisplacement
 466 02d0 00080040 		.word	1073743872
 467 02d4 CD77813F 		.word	1065449421
 468 02d8 00000000 		.word	Current
 469 02dc 00000000 		.word	TotalPulse
 470 02e0 00000000 		.word	Pid
 471 02e4 00000000 		.word	Target
 472 02e8 9A990942 		.word	1107925402
 473 02ec 00008045 		.word	1166016512
 474 02f0 33335340 		.word	1079194419
 475 02f4 00000000 		.word	adc1
 476 02f8 00000000 		.word	VelocityLeftOut
 477 02fc 00000000 		.word	VelocityRightOut
 478 0300 00000000 		.word	PhotoDiff
 479 0304 00806D45 		.word	1164804096
 480              		.cfi_endproc
 481              	.LFE241:
 483              		.section	.text.ControlTest_IT,"ax",%progbits
 484              		.align	1
 485              		.syntax unified
 486              		.thumb
 487              		.thumb_func
 489              	ControlTest_IT:
 490              	.LFB240:
  90:Core/Src/Main/Interrupt.c **** 
 491              		.loc 1 90 29 is_stmt 1 view -0
 492              		.cfi_startproc
 493              		@ args = 0, pretend = 0, frame = 0
 494              		@ frame_needed = 0, uses_anonymous_args = 0
 495 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 496              	.LCFI4:
 497              		.cfi_def_cfa_offset 24
 498              		.cfi_offset 3, -24
 499              		.cfi_offset 4, -20
 500              		.cfi_offset 5, -16
 501              		.cfi_offset 6, -12
 502              		.cfi_offset 7, -8
 503              		.cfi_offset 14, -4
  92:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, Current.Velocity[BODY]);
 504              		.loc 1 92 2 view .LVU136
 505              	.LBB8:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 16


 506              	.LBI8:
  37:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
 507              		.loc 1 37 13 view .LVU137
 508              	.LBB9:
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 509              		.loc 1 38 2 view .LVU138
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 510              		.loc 1 38 35 is_stmt 0 view .LVU139
 511 0002 424A     		ldr	r2, .L17
 512 0004 516A     		ldr	r1, [r2, #36]
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 513              		.loc 1 38 28 view .LVU140
 514 0006 47F22F53 		movw	r3, #29999
 515 000a 591A     		subs	r1, r3, r1
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 516              		.loc 1 38 26 view .LVU141
 517 000c 404C     		ldr	r4, .L17+4
 518 000e 2160     		str	r1, [r4]
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 519              		.loc 1 39 2 is_stmt 1 view .LVU142
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 520              		.loc 1 39 12 is_stmt 0 view .LVU143
 521 0010 5362     		str	r3, [r2, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 522              		.loc 1 40 2 is_stmt 1 view .LVU144
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 523              		.loc 1 40 36 is_stmt 0 view .LVU145
 524 0012 4048     		ldr	r0, .L17+8
 525 0014 426A     		ldr	r2, [r0, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 526              		.loc 1 40 29 view .LVU146
 527 0016 9A1A     		subs	r2, r3, r2
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 528              		.loc 1 40 27 view .LVU147
 529 0018 6260     		str	r2, [r4, #4]
  41:Core/Src/Main/Interrupt.c **** 
 530              		.loc 1 41 2 is_stmt 1 view .LVU148
  41:Core/Src/Main/Interrupt.c **** 
 531              		.loc 1 41 12 is_stmt 0 view .LVU149
 532 001a 4362     		str	r3, [r0, #36]
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 533              		.loc 1 44 2 is_stmt 1 view .LVU150
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 534              		.loc 1 44 28 is_stmt 0 view .LVU151
 535 001c 07EE901A 		vmov	s15, r1	@ int
 536 0020 B8EEE77A 		vcvt.f32.s32	s14, s15
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 537              		.loc 1 44 59 view .LVU152
 538 0024 DFED3C6A 		vldr.32	s13, .L17+12
 539 0028 27EE267A 		vmul.f32	s14, s14, s13
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 540              		.loc 1 44 25 view .LVU153
 541 002c 3B4C     		ldr	r4, .L17+16
 542 002e 84ED007A 		vstr.32	s14, [r4]
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 543              		.loc 1 45 2 is_stmt 1 view .LVU154
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 17


 544              		.loc 1 45 29 is_stmt 0 view .LVU155
 545 0032 07EE902A 		vmov	s15, r2	@ int
 546 0036 F8EEE77A 		vcvt.f32.s32	s15, s15
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 547              		.loc 1 45 61 view .LVU156
 548 003a 67EEA67A 		vmul.f32	s15, s15, s13
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 549              		.loc 1 45 26 view .LVU157
 550 003e C4ED017A 		vstr.32	s15, [r4, #4]
  46:Core/Src/Main/Interrupt.c **** 
 551              		.loc 1 46 2 is_stmt 1 view .LVU158
  46:Core/Src/Main/Interrupt.c **** 
 552              		.loc 1 46 44 is_stmt 0 view .LVU159
 553 0042 D4ED007A 		vldr.32	s15, [r4]
  46:Core/Src/Main/Interrupt.c **** 
 554              		.loc 1 46 69 view .LVU160
 555 0046 94ED017A 		vldr.32	s14, [r4, #4]
  46:Core/Src/Main/Interrupt.c **** 
 556              		.loc 1 46 51 view .LVU161
 557 004a 77EE877A 		vadd.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 558              		.loc 1 46 78 view .LVU162
 559 004e B6EE007A 		vmov.f32	s14, #5.0e-1
 560 0052 67EE877A 		vmul.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 561              		.loc 1 46 25 view .LVU163
 562 0056 C4ED027A 		vstr.32	s15, [r4, #8]
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 563              		.loc 1 49 2 is_stmt 1 view .LVU164
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 564              		.loc 1 49 19 is_stmt 0 view .LVU165
 565 005a 314B     		ldr	r3, .L17+20
 566 005c 1868     		ldr	r0, [r3]
 567 005e 0144     		add	r1, r1, r0
 568 0060 1960     		str	r1, [r3]
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 569              		.loc 1 50 2 is_stmt 1 view .LVU166
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 570              		.loc 1 50 20 is_stmt 0 view .LVU167
 571 0062 5968     		ldr	r1, [r3, #4]
 572 0064 0A44     		add	r2, r2, r1
 573 0066 5A60     		str	r2, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 574              		.loc 1 51 2 is_stmt 1 view .LVU168
  51:Core/Src/Main/Interrupt.c **** }
 575              		.loc 1 51 31 is_stmt 0 view .LVU169
 576 0068 1A68     		ldr	r2, [r3]
  51:Core/Src/Main/Interrupt.c **** }
 577              		.loc 1 51 48 view .LVU170
 578 006a 5968     		ldr	r1, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 579              		.loc 1 51 37 view .LVU171
 580 006c 0A44     		add	r2, r2, r1
  51:Core/Src/Main/Interrupt.c **** }
 581              		.loc 1 51 19 view .LVU172
 582 006e 9A60     		str	r2, [r3, #8]
 583              	.LBE9:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 18


 584              	.LBE8:
 110:Core/Src/Main/Interrupt.c **** 	// getFloatLog(&log_velocity, AngularV);
 585              		.loc 1 110 2 is_stmt 1 view .LVU173
 586 0070 04F10C01 		add	r1, r4, #12
 587 0074 04F11000 		add	r0, r4, #16
 588 0078 FFF7FEFF 		bl	Update_IMU
 589              	.LVL46:
 116:Core/Src/Main/Interrupt.c **** 		int ang_out=0;
 590              		.loc 1 116 2 view .LVU174
 117:Core/Src/Main/Interrupt.c **** 
 591              		.loc 1 117 3 view .LVU175
 120:Core/Src/Main/Interrupt.c **** 
 592              		.loc 1 120 3 view .LVU176
 120:Core/Src/Main/Interrupt.c **** 
 593              		.loc 1 120 13 is_stmt 0 view .LVU177
 594 007c 294F     		ldr	r7, .L17+24
 595 007e 97ED040A 		vldr.32	s0, [r7, #16]
 596 0082 D4ED040A 		vldr.32	s1, [r4, #16]
 597 0086 0020     		movs	r0, #0
 598 0088 FFF7FEFF 		bl	PIDControl
 599              	.LVL47:
 600 008c 0546     		mov	r5, r0
 601              	.LVL48:
 133:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 602              		.loc 1 133 3 is_stmt 1 view .LVU178
 133:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 603              		.loc 1 133 21 is_stmt 0 view .LVU179
 604 008e 97ED020A 		vldr.32	s0, [r7, #8]
 605 0092 D4ED000A 		vldr.32	s1, [r4]
 606 0096 0420     		movs	r0, #4
 607              	.LVL49:
 133:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 608              		.loc 1 133 21 view .LVU180
 609 0098 FFF7FEFF 		bl	PIDControl
 610              	.LVL50:
 133:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[BODY], Current.Velocity[RIGHT]);
 611              		.loc 1 133 19 view .LVU181
 612 009c 224E     		ldr	r6, .L17+28
 613 009e 3060     		str	r0, [r6]
 134:Core/Src/Main/Interrupt.c **** 		float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 614              		.loc 1 134 3 is_stmt 1 view .LVU182
 134:Core/Src/Main/Interrupt.c **** 		float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 615              		.loc 1 134 22 is_stmt 0 view .LVU183
 616 00a0 97ED020A 		vldr.32	s0, [r7, #8]
 617 00a4 D4ED010A 		vldr.32	s1, [r4, #4]
 618 00a8 0520     		movs	r0, #5
 619 00aa FFF7FEFF 		bl	PIDControl
 620              	.LVL51:
 134:Core/Src/Main/Interrupt.c **** 		float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 621              		.loc 1 134 20 view .LVU184
 622 00ae 1F4C     		ldr	r4, .L17+32
 623 00b0 2060     		str	r0, [r4]
 135:Core/Src/Main/Interrupt.c **** 		float duty = 840/ battery_voltage;
 624              		.loc 1 135 3 is_stmt 1 view .LVU185
 135:Core/Src/Main/Interrupt.c **** 		float duty = 840/ battery_voltage;
 625              		.loc 1 135 27 is_stmt 0 view .LVU186
 626 00b2 9FED1F1A 		vldr.32	s2, .L17+36
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 19


 627 00b6 DFED1F0A 		vldr.32	s1, .L17+40
 628 00ba B0EE080A 		vmov.f32	s0, #3.0e+0
 629 00be 1E4B     		ldr	r3, .L17+44
 630 00c0 9868     		ldr	r0, [r3, #8]
 631 00c2 FFF7FEFF 		bl	ADCToBatteryVoltage
 632              	.LVL52:
 136:Core/Src/Main/Interrupt.c **** 		// VelocityLeftOut = voltage_maintainer * PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.
 633              		.loc 1 136 3 is_stmt 1 view .LVU187
 136:Core/Src/Main/Interrupt.c **** 		// VelocityLeftOut = voltage_maintainer * PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.
 634              		.loc 1 136 9 is_stmt 0 view .LVU188
 635 00c6 DFED1D7A 		vldr.32	s15, .L17+48
 636 00ca 87EE807A 		vdiv.f32	s14, s15, s0
 637              	.LVL53:
 139:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 638              		.loc 1 139 3 is_stmt 1 view .LVU189
 139:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 639              		.loc 1 139 46 is_stmt 0 view .LVU190
 640 00ce 3368     		ldr	r3, [r6]
 641 00d0 EB18     		adds	r3, r5, r3
 642 00d2 07EE903A 		vmov	s15, r3	@ int
 139:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 643              		.loc 1 139 22 view .LVU191
 644 00d6 F8EEE77A 		vcvt.f32.s32	s15, s15
 139:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 645              		.loc 1 139 58 view .LVU192
 646 00da 67EE877A 		vmul.f32	s15, s15, s14
 139:Core/Src/Main/Interrupt.c **** 		VelocityRightOut = ((float)(VelocityRightOut + (ang_out* (-1)) ))* duty;
 647              		.loc 1 139 19 view .LVU193
 648 00de FDEEE77A 		vcvt.s32.f32	s15, s15
 649 00e2 17EE900A 		vmov	r0, s15	@ int
 650 00e6 C6ED007A 		vstr.32	s15, [r6]	@ int
 140:Core/Src/Main/Interrupt.c **** 
 651              		.loc 1 140 3 is_stmt 1 view .LVU194
 140:Core/Src/Main/Interrupt.c **** 
 652              		.loc 1 140 48 is_stmt 0 view .LVU195
 653 00ea 2368     		ldr	r3, [r4]
 654 00ec 5B1B     		subs	r3, r3, r5
 655 00ee 07EE903A 		vmov	s15, r3	@ int
 140:Core/Src/Main/Interrupt.c **** 
 656              		.loc 1 140 23 view .LVU196
 657 00f2 F8EEE77A 		vcvt.f32.s32	s15, s15
 140:Core/Src/Main/Interrupt.c **** 
 658              		.loc 1 140 68 view .LVU197
 659 00f6 67EE877A 		vmul.f32	s15, s15, s14
 140:Core/Src/Main/Interrupt.c **** 
 660              		.loc 1 140 20 view .LVU198
 661 00fa FDEEE77A 		vcvt.s32.f32	s15, s15
 662 00fe 17EE901A 		vmov	r1, s15	@ int
 663 0102 C4ED007A 		vstr.32	s15, [r4]	@ int
 152:Core/Src/Main/Interrupt.c **** }
 664              		.loc 1 152 2 is_stmt 1 view .LVU199
 665 0106 FFF7FEFF 		bl	Motor_Switch
 666              	.LVL54:
 153:Core/Src/Main/Interrupt.c **** static void Explore_IT()
 667              		.loc 1 153 1 is_stmt 0 view .LVU200
 668 010a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 669              	.LVL55:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 20


 670              	.L18:
 153:Core/Src/Main/Interrupt.c **** static void Explore_IT()
 671              		.loc 1 153 1 view .LVU201
 672              		.align	2
 673              	.L17:
 674 010c 00040040 		.word	1073742848
 675 0110 00000000 		.word	PulseDisplacement
 676 0114 00080040 		.word	1073743872
 677 0118 CD77813F 		.word	1065449421
 678 011c 00000000 		.word	Current
 679 0120 00000000 		.word	TotalPulse
 680 0124 00000000 		.word	Target
 681 0128 00000000 		.word	VelocityLeftOut
 682 012c 00000000 		.word	VelocityRightOut
 683 0130 00008045 		.word	1166016512
 684 0134 33335340 		.word	1079194419
 685 0138 00000000 		.word	adc1
 686 013c 00005244 		.word	1146224640
 687              		.cfi_endproc
 688              	.LFE240:
 690              		.global	__aeabi_dadd
 691              		.section	.text.WritingFree_IT,"ax",%progbits
 692              		.align	1
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 697              	WritingFree_IT:
 698              	.LFB242:
 274:Core/Src/Main/Interrupt.c **** static void WritingFree_IT()
 275:Core/Src/Main/Interrupt.c **** {
 699              		.loc 1 275 1 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
 703 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 704              	.LCFI5:
 705              		.cfi_def_cfa_offset 24
 706              		.cfi_offset 3, -24
 707              		.cfi_offset 4, -20
 708              		.cfi_offset 5, -16
 709              		.cfi_offset 6, -12
 710              		.cfi_offset 7, -8
 711              		.cfi_offset 14, -4
 712 0002 2DED028B 		vpush.64	{d8}
 713              	.LCFI6:
 714              		.cfi_def_cfa_offset 32
 715              		.cfi_offset 80, -32
 716              		.cfi_offset 81, -28
 276:Core/Src/Main/Interrupt.c **** 	calcVelocity();
 717              		.loc 1 276 2 view .LVU203
 718              	.LBB12:
 719              	.LBI12:
  37:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
 720              		.loc 1 37 13 view .LVU204
 721              	.LBB13:
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 722              		.loc 1 38 2 view .LVU205
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 21


  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 723              		.loc 1 38 35 is_stmt 0 view .LVU206
 724 0006 624A     		ldr	r2, .L21+16
 725 0008 516A     		ldr	r1, [r2, #36]
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 726              		.loc 1 38 28 view .LVU207
 727 000a 47F22F53 		movw	r3, #29999
 728 000e 591A     		subs	r1, r3, r1
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 729              		.loc 1 38 26 view .LVU208
 730 0010 604C     		ldr	r4, .L21+20
 731 0012 2160     		str	r1, [r4]
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 732              		.loc 1 39 2 is_stmt 1 view .LVU209
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 733              		.loc 1 39 12 is_stmt 0 view .LVU210
 734 0014 5362     		str	r3, [r2, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 735              		.loc 1 40 2 is_stmt 1 view .LVU211
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 736              		.loc 1 40 36 is_stmt 0 view .LVU212
 737 0016 6048     		ldr	r0, .L21+24
 738 0018 426A     		ldr	r2, [r0, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 739              		.loc 1 40 29 view .LVU213
 740 001a 9A1A     		subs	r2, r3, r2
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 741              		.loc 1 40 27 view .LVU214
 742 001c 6260     		str	r2, [r4, #4]
  41:Core/Src/Main/Interrupt.c **** 
 743              		.loc 1 41 2 is_stmt 1 view .LVU215
  41:Core/Src/Main/Interrupt.c **** 
 744              		.loc 1 41 12 is_stmt 0 view .LVU216
 745 001e 4362     		str	r3, [r0, #36]
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 746              		.loc 1 44 2 is_stmt 1 view .LVU217
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 747              		.loc 1 44 28 is_stmt 0 view .LVU218
 748 0020 07EE901A 		vmov	s15, r1	@ int
 749 0024 B8EEE77A 		vcvt.f32.s32	s14, s15
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 750              		.loc 1 44 59 view .LVU219
 751 0028 DFED5C6A 		vldr.32	s13, .L21+28
 752 002c 27EE267A 		vmul.f32	s14, s14, s13
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 753              		.loc 1 44 25 view .LVU220
 754 0030 5B4D     		ldr	r5, .L21+32
 755 0032 85ED007A 		vstr.32	s14, [r5]
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 756              		.loc 1 45 2 is_stmt 1 view .LVU221
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 757              		.loc 1 45 29 is_stmt 0 view .LVU222
 758 0036 07EE902A 		vmov	s15, r2	@ int
 759 003a F8EEE77A 		vcvt.f32.s32	s15, s15
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 760              		.loc 1 45 61 view .LVU223
 761 003e 67EEA67A 		vmul.f32	s15, s15, s13
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 22


  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 762              		.loc 1 45 26 view .LVU224
 763 0042 C5ED017A 		vstr.32	s15, [r5, #4]
  46:Core/Src/Main/Interrupt.c **** 
 764              		.loc 1 46 2 is_stmt 1 view .LVU225
  46:Core/Src/Main/Interrupt.c **** 
 765              		.loc 1 46 44 is_stmt 0 view .LVU226
 766 0046 D5ED007A 		vldr.32	s15, [r5]
  46:Core/Src/Main/Interrupt.c **** 
 767              		.loc 1 46 69 view .LVU227
 768 004a 95ED017A 		vldr.32	s14, [r5, #4]
  46:Core/Src/Main/Interrupt.c **** 
 769              		.loc 1 46 51 view .LVU228
 770 004e 77EE877A 		vadd.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 771              		.loc 1 46 78 view .LVU229
 772 0052 F6EE008A 		vmov.f32	s17, #5.0e-1
 773 0056 67EEA87A 		vmul.f32	s15, s15, s17
  46:Core/Src/Main/Interrupt.c **** 
 774              		.loc 1 46 25 view .LVU230
 775 005a C5ED027A 		vstr.32	s15, [r5, #8]
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 776              		.loc 1 49 2 is_stmt 1 view .LVU231
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 777              		.loc 1 49 19 is_stmt 0 view .LVU232
 778 005e 514B     		ldr	r3, .L21+36
 779 0060 1868     		ldr	r0, [r3]
 780 0062 0144     		add	r1, r1, r0
 781 0064 1960     		str	r1, [r3]
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 782              		.loc 1 50 2 is_stmt 1 view .LVU233
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 783              		.loc 1 50 20 is_stmt 0 view .LVU234
 784 0066 5968     		ldr	r1, [r3, #4]
 785 0068 0A44     		add	r2, r2, r1
 786 006a 5A60     		str	r2, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 787              		.loc 1 51 2 is_stmt 1 view .LVU235
  51:Core/Src/Main/Interrupt.c **** }
 788              		.loc 1 51 31 is_stmt 0 view .LVU236
 789 006c 1A68     		ldr	r2, [r3]
  51:Core/Src/Main/Interrupt.c **** }
 790              		.loc 1 51 48 view .LVU237
 791 006e 5968     		ldr	r1, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 792              		.loc 1 51 37 view .LVU238
 793 0070 0A44     		add	r2, r2, r1
  51:Core/Src/Main/Interrupt.c **** }
 794              		.loc 1 51 19 view .LVU239
 795 0072 9A60     		str	r2, [r3, #8]
 796              	.LBE13:
 797              	.LBE12:
 277:Core/Src/Main/Interrupt.c **** 
 278:Core/Src/Main/Interrupt.c **** #if 0
 279:Core/Src/Main/Interrupt.c **** 	static int count=0;
 280:Core/Src/Main/Interrupt.c **** 
 281:Core/Src/Main/Interrupt.c **** 	if(count < 2000)
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 23


 282:Core/Src/Main/Interrupt.c **** 	{
 283:Core/Src/Main/Interrupt.c **** 		data[count] = Current.Velocity[LEFT];
 284:Core/Src/Main/Interrupt.c **** 	}
 285:Core/Src/Main/Interrupt.c **** 	count ++;
 286:Core/Src/Main/Interrupt.c **** #endif
 287:Core/Src/Main/Interrupt.c **** 
 288:Core/Src/Main/Interrupt.c **** #if 1
 289:Core/Src/Main/Interrupt.c **** 
 290:Core/Src/Main/Interrupt.c **** 	static float zg_last=0;
 798              		.loc 1 290 2 is_stmt 1 view .LVU240
 291:Core/Src/Main/Interrupt.c **** 	float zg_law;
 799              		.loc 1 291 2 view .LVU241
 292:Core/Src/Main/Interrupt.c **** 	//uint8_t zgb,zgf;
 293:Core/Src/Main/Interrupt.c **** 	ZGyro = ReadIMU(0x37, 0x38);
 800              		.loc 1 293 2 view .LVU242
 801              		.loc 1 293 10 is_stmt 0 view .LVU243
 802 0074 3821     		movs	r1, #56
 803 0076 3720     		movs	r0, #55
 804 0078 FFF7FEFF 		bl	ReadIMU
 805              	.LVL56:
 806              		.loc 1 293 8 view .LVU244
 807 007c 4A4B     		ldr	r3, .L21+40
 808 007e 83ED000A 		vstr.32	s0, [r3]
 294:Core/Src/Main/Interrupt.c ****     zg_law =  ( ZGyro - zg_offset )*convert_to_imu_angv;//16.4 * 180;//rad/s or rad/0.001s
 809              		.loc 1 294 5 is_stmt 1 view .LVU245
 810              		.loc 1 294 23 is_stmt 0 view .LVU246
 811 0082 93ED008A 		vldr.32	s16, [r3]
 812 0086 494B     		ldr	r3, .L21+44
 813 0088 D3ED007A 		vldr.32	s15, [r3]
 814 008c 38EE678A 		vsub.f32	s16, s16, s15
 815              		.loc 1 294 36 view .LVU247
 816 0090 474B     		ldr	r3, .L21+48
 817 0092 D3ED007A 		vldr.32	s15, [r3]
 818              		.loc 1 294 12 view .LVU248
 819 0096 28EE278A 		vmul.f32	s16, s16, s15
 820              	.LVL57:
 295:Core/Src/Main/Interrupt.c ****     Current.AngularV = -((0.01*zg_law) + (0.99)* (zg_last));
 821              		.loc 1 295 5 is_stmt 1 view .LVU249
 822              		.loc 1 295 31 is_stmt 0 view .LVU250
 823 009a 18EE100A 		vmov	r0, s16
 824 009e FFF7FEFF 		bl	__aeabi_f2d
 825              	.LVL58:
 826 00a2 37A3     		adr	r3, .L21
 827 00a4 D3E90023 		ldrd	r2, [r3]
 828 00a8 FFF7FEFF 		bl	__aeabi_dmul
 829              	.LVL59:
 830 00ac 0646     		mov	r6, r0
 831 00ae 0F46     		mov	r7, r1
 832              		.loc 1 295 48 view .LVU251
 833 00b0 404C     		ldr	r4, .L21+52
 834 00b2 2068     		ldr	r0, [r4]	@ float
 835 00b4 FFF7FEFF 		bl	__aeabi_f2d
 836              	.LVL60:
 837 00b8 33A3     		adr	r3, .L21+8
 838 00ba D3E90023 		ldrd	r2, [r3]
 839 00be FFF7FEFF 		bl	__aeabi_dmul
 840              	.LVL61:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 24


 841 00c2 0246     		mov	r2, r0
 842 00c4 0B46     		mov	r3, r1
 843              		.loc 1 295 40 view .LVU252
 844 00c6 3046     		mov	r0, r6
 845 00c8 3946     		mov	r1, r7
 846 00ca FFF7FEFF 		bl	__aeabi_dadd
 847              	.LVL62:
 848 00ce FFF7FEFF 		bl	__aeabi_d2f
 849              	.LVL63:
 850              		.loc 1 295 22 view .LVU253
 851 00d2 07EE900A 		vmov	s15, r0
 852 00d6 F1EE677A 		vneg.f32	s15, s15
 853 00da C5ED047A 		vstr.32	s15, [r5, #16]
 296:Core/Src/Main/Interrupt.c ****     zg_last = zg_law;
 854              		.loc 1 296 5 is_stmt 1 view .LVU254
 855              		.loc 1 296 13 is_stmt 0 view .LVU255
 856 00de 84ED008A 		vstr.32	s16, [r4]
 297:Core/Src/Main/Interrupt.c **** 	Current.Angle += Current.AngularV * T1;
 857              		.loc 1 297 2 is_stmt 1 view .LVU256
 858              		.loc 1 297 26 is_stmt 0 view .LVU257
 859 00e2 D5ED047A 		vldr.32	s15, [r5, #16]
 860              		.loc 1 297 36 view .LVU258
 861 00e6 9FED347A 		vldr.32	s14, .L21+56
 862 00ea 27EE877A 		vmul.f32	s14, s15, s14
 863              		.loc 1 297 16 view .LVU259
 864 00ee D5ED037A 		vldr.32	s15, [r5, #12]
 865 00f2 77EE877A 		vadd.f32	s15, s15, s14
 866 00f6 C5ED037A 		vstr.32	s15, [r5, #12]
 298:Core/Src/Main/Interrupt.c **** 
 299:Core/Src/Main/Interrupt.c **** #else
 300:Core/Src/Main/Interrupt.c **** 	AngularV = ( Current.Velocity[LEFT] - Current.Velocity[RIGHT] ) *convert_to_angularv;
 301:Core/Src/Main/Interrupt.c **** 	Angle += AngularV * T1;
 302:Core/Src/Main/Interrupt.c **** 
 303:Core/Src/Main/Interrupt.c **** #endif
 304:Core/Src/Main/Interrupt.c **** 	Target.Velocity[BODY] += Target.Acceleration;
 867              		.loc 1 304 2 is_stmt 1 view .LVU260
 868              		.loc 1 304 33 is_stmt 0 view .LVU261
 869 00fa 304C     		ldr	r4, .L21+60
 870 00fc 94ED0C7A 		vldr.32	s14, [r4, #48]
 871              		.loc 1 304 24 view .LVU262
 872 0100 D4ED027A 		vldr.32	s15, [r4, #8]
 873 0104 77EE877A 		vadd.f32	s15, s15, s14
 874 0108 C4ED027A 		vstr.32	s15, [r4, #8]
 305:Core/Src/Main/Interrupt.c **** 	Target.AngularV += Target.AngularAcceleration;
 875              		.loc 1 305 2 is_stmt 1 view .LVU263
 876              		.loc 1 305 27 is_stmt 0 view .LVU264
 877 010c 94ED0D7A 		vldr.32	s14, [r4, #52]
 878              		.loc 1 305 18 view .LVU265
 879 0110 D4ED047A 		vldr.32	s15, [r4, #16]
 880 0114 77EE877A 		vadd.f32	s15, s15, s14
 881 0118 C4ED047A 		vstr.32	s15, [r4, #16]
 306:Core/Src/Main/Interrupt.c **** 
 307:Core/Src/Main/Interrupt.c **** 	Target.Velocity[RIGHT] = ( Target.Velocity[BODY] - Target.AngularV * TREAD_WIDTH * 0.5f );
 882              		.loc 1 307 2 is_stmt 1 view .LVU266
 883              		.loc 1 307 44 is_stmt 0 view .LVU267
 884 011c D4ED026A 		vldr.32	s13, [r4, #8]
 885              		.loc 1 307 59 view .LVU268
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 25


 886 0120 94ED047A 		vldr.32	s14, [r4, #16]
 887              		.loc 1 307 69 view .LVU269
 888 0124 9FED266A 		vldr.32	s12, .L21+64
 889 0128 27EE067A 		vmul.f32	s14, s14, s12
 890              		.loc 1 307 83 view .LVU270
 891 012c 27EE287A 		vmul.f32	s14, s14, s17
 892              		.loc 1 307 51 view .LVU271
 893 0130 36EEC77A 		vsub.f32	s14, s13, s14
 894              		.loc 1 307 25 view .LVU272
 895 0134 84ED017A 		vstr.32	s14, [r4, #4]
 308:Core/Src/Main/Interrupt.c **** 	Target.Velocity[LEFT] = ( Target.AngularV *TREAD_WIDTH ) + Target.Velocity[RIGHT];
 896              		.loc 1 308 2 is_stmt 1 view .LVU273
 897              		.loc 1 308 34 is_stmt 0 view .LVU274
 898 0138 D4ED047A 		vldr.32	s15, [r4, #16]
 899              		.loc 1 308 44 view .LVU275
 900 013c 67EE867A 		vmul.f32	s15, s15, s12
 901              		.loc 1 308 76 view .LVU276
 902 0140 94ED017A 		vldr.32	s14, [r4, #4]
 903              		.loc 1 308 59 view .LVU277
 904 0144 77EE877A 		vadd.f32	s15, s15, s14
 905              		.loc 1 308 24 view .LVU278
 906 0148 C4ED007A 		vstr.32	s15, [r4]
 309:Core/Src/Main/Interrupt.c **** 
 310:Core/Src/Main/Interrupt.c **** 	VelocityLeftOut = PIDControl( L_VELO_PID, Target.Velocity[LEFT], Current.Velocity[LEFT]);
 907              		.loc 1 310 2 is_stmt 1 view .LVU279
 908              		.loc 1 310 20 is_stmt 0 view .LVU280
 909 014c 94ED000A 		vldr.32	s0, [r4]
 910 0150 D5ED000A 		vldr.32	s1, [r5]
 911 0154 0420     		movs	r0, #4
 912 0156 FFF7FEFF 		bl	PIDControl
 913              	.LVL64:
 914              		.loc 1 310 18 view .LVU281
 915 015a 1A4E     		ldr	r6, .L21+68
 916 015c 3060     		str	r0, [r6]
 311:Core/Src/Main/Interrupt.c **** 	VelocityRightOut = PIDControl( R_VELO_PID, Target.Velocity[RIGHT], Current.Velocity[RIGHT]);
 917              		.loc 1 311 2 is_stmt 1 view .LVU282
 918              		.loc 1 311 21 is_stmt 0 view .LVU283
 919 015e 94ED010A 		vldr.32	s0, [r4, #4]
 920 0162 D5ED010A 		vldr.32	s1, [r5, #4]
 921 0166 0520     		movs	r0, #5
 922 0168 FFF7FEFF 		bl	PIDControl
 923              	.LVL65:
 924 016c 0146     		mov	r1, r0
 925              		.loc 1 311 19 view .LVU284
 926 016e 164B     		ldr	r3, .L21+72
 927 0170 1860     		str	r0, [r3]
 312:Core/Src/Main/Interrupt.c **** 
 313:Core/Src/Main/Interrupt.c **** 	Motor_Switch( VelocityLeftOut, VelocityRightOut );
 928              		.loc 1 313 2 is_stmt 1 view .LVU285
 929 0172 3068     		ldr	r0, [r6]
 930 0174 FFF7FEFF 		bl	Motor_Switch
 931              	.LVL66:
 314:Core/Src/Main/Interrupt.c **** }
 932              		.loc 1 314 1 is_stmt 0 view .LVU286
 933 0178 BDEC028B 		vldm	sp!, {d8}
 934              	.LCFI7:
 935              		.cfi_restore 80
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 26


 936              		.cfi_restore 81
 937              		.cfi_def_cfa_offset 24
 938              	.LVL67:
 939              		.loc 1 314 1 view .LVU287
 940 017c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 941              	.L22:
 942 017e 00BF     		.align	3
 943              	.L21:
 944 0180 7B14AE47 		.word	1202590843
 945 0184 E17A843F 		.word	1065646817
 946 0188 AE47E17A 		.word	2061584302
 947 018c 14AEEF3F 		.word	1072672276
 948 0190 00040040 		.word	1073742848
 949 0194 00000000 		.word	PulseDisplacement
 950 0198 00080040 		.word	1073743872
 951 019c CD77813F 		.word	1065449421
 952 01a0 00000000 		.word	Current
 953 01a4 00000000 		.word	TotalPulse
 954 01a8 00000000 		.word	ZGyro
 955 01ac 00000000 		.word	zg_offset
 956 01b0 00000000 		.word	convert_to_imu_angv
 957 01b4 00000000 		.word	.LANCHOR0
 958 01b8 6F12833A 		.word	981668463
 959 01bc 00000000 		.word	Target
 960 01c0 9A990942 		.word	1107925402
 961 01c4 00000000 		.word	VelocityLeftOut
 962 01c8 00000000 		.word	VelocityRightOut
 963              		.cfi_endproc
 964              	.LFE242:
 966              		.section	.text.SystemIdentify_IT,"ax",%progbits
 967              		.align	1
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 972              	SystemIdentify_IT:
 973              	.LFB239:
  54:Core/Src/Main/Interrupt.c **** 	
 974              		.loc 1 54 32 is_stmt 1 view -0
 975              		.cfi_startproc
 976              		@ args = 0, pretend = 0, frame = 16
 977              		@ frame_needed = 0, uses_anonymous_args = 0
 978 0000 30B5     		push	{r4, r5, lr}
 979              	.LCFI8:
 980              		.cfi_def_cfa_offset 12
 981              		.cfi_offset 4, -12
 982              		.cfi_offset 5, -8
 983              		.cfi_offset 14, -4
 984 0002 2DED028B 		vpush.64	{d8}
 985              	.LCFI9:
 986              		.cfi_def_cfa_offset 20
 987              		.cfi_offset 80, -20
 988              		.cfi_offset 81, -16
 989 0006 85B0     		sub	sp, sp, #20
 990              	.LCFI10:
 991              		.cfi_def_cfa_offset 40
  56:Core/Src/Main/Interrupt.c **** 
 992              		.loc 1 56 2 view .LVU289
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 27


 993              	.LBB16:
 994              	.LBI16:
  37:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[LEFT] = - (TIM3->CNT - INITIAL_PULSE);
 995              		.loc 1 37 13 view .LVU290
 996              	.LBB17:
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 997              		.loc 1 38 2 view .LVU291
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 998              		.loc 1 38 35 is_stmt 0 view .LVU292
 999 0008 584A     		ldr	r2, .L31
 1000 000a 516A     		ldr	r1, [r2, #36]
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 1001              		.loc 1 38 28 view .LVU293
 1002 000c 47F22F53 		movw	r3, #29999
 1003 0010 591A     		subs	r1, r3, r1
  38:Core/Src/Main/Interrupt.c **** 	TIM3->CNT = INITIAL_PULSE;
 1004              		.loc 1 38 26 view .LVU294
 1005 0012 574C     		ldr	r4, .L31+4
 1006 0014 2160     		str	r1, [r4]
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 1007              		.loc 1 39 2 is_stmt 1 view .LVU295
  39:Core/Src/Main/Interrupt.c **** 	PulseDisplacement[RIGHT] = - (TIM4->CNT - INITIAL_PULSE);
 1008              		.loc 1 39 12 is_stmt 0 view .LVU296
 1009 0016 5362     		str	r3, [r2, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 1010              		.loc 1 40 2 is_stmt 1 view .LVU297
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 1011              		.loc 1 40 36 is_stmt 0 view .LVU298
 1012 0018 5648     		ldr	r0, .L31+8
 1013 001a 426A     		ldr	r2, [r0, #36]
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 1014              		.loc 1 40 29 view .LVU299
 1015 001c 9A1A     		subs	r2, r3, r2
  40:Core/Src/Main/Interrupt.c **** 	TIM4->CNT = INITIAL_PULSE;
 1016              		.loc 1 40 27 view .LVU300
 1017 001e 6260     		str	r2, [r4, #4]
  41:Core/Src/Main/Interrupt.c **** 
 1018              		.loc 1 41 2 is_stmt 1 view .LVU301
  41:Core/Src/Main/Interrupt.c **** 
 1019              		.loc 1 41 12 is_stmt 0 view .LVU302
 1020 0020 4362     		str	r3, [r0, #36]
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 1021              		.loc 1 44 2 is_stmt 1 view .LVU303
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 1022              		.loc 1 44 28 is_stmt 0 view .LVU304
 1023 0022 07EE901A 		vmov	s15, r1	@ int
 1024 0026 B8EEE77A 		vcvt.f32.s32	s14, s15
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 1025              		.loc 1 44 59 view .LVU305
 1026 002a DFED536A 		vldr.32	s13, .L31+12
 1027 002e 27EE267A 		vmul.f32	s14, s14, s13
  44:Core/Src/Main/Interrupt.c **** 	Current.Velocity[RIGHT] =  (float)PulseDisplacement[RIGHT] * convert_to_velocity;
 1028              		.loc 1 44 25 view .LVU306
 1029 0032 524C     		ldr	r4, .L31+16
 1030 0034 84ED007A 		vstr.32	s14, [r4]
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 1031              		.loc 1 45 2 is_stmt 1 view .LVU307
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 28


  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 1032              		.loc 1 45 29 is_stmt 0 view .LVU308
 1033 0038 07EE902A 		vmov	s15, r2	@ int
 1034 003c F8EEE77A 		vcvt.f32.s32	s15, s15
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 1035              		.loc 1 45 61 view .LVU309
 1036 0040 67EEA67A 		vmul.f32	s15, s15, s13
  45:Core/Src/Main/Interrupt.c **** 	Current.Velocity[BODY] = (Current.Velocity[LEFT] + Current.Velocity[RIGHT] )*0.5f;
 1037              		.loc 1 45 26 view .LVU310
 1038 0044 C4ED017A 		vstr.32	s15, [r4, #4]
  46:Core/Src/Main/Interrupt.c **** 
 1039              		.loc 1 46 2 is_stmt 1 view .LVU311
  46:Core/Src/Main/Interrupt.c **** 
 1040              		.loc 1 46 44 is_stmt 0 view .LVU312
 1041 0048 D4ED007A 		vldr.32	s15, [r4]
  46:Core/Src/Main/Interrupt.c **** 
 1042              		.loc 1 46 69 view .LVU313
 1043 004c 94ED017A 		vldr.32	s14, [r4, #4]
  46:Core/Src/Main/Interrupt.c **** 
 1044              		.loc 1 46 51 view .LVU314
 1045 0050 77EE877A 		vadd.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 1046              		.loc 1 46 78 view .LVU315
 1047 0054 B6EE007A 		vmov.f32	s14, #5.0e-1
 1048 0058 67EE877A 		vmul.f32	s15, s15, s14
  46:Core/Src/Main/Interrupt.c **** 
 1049              		.loc 1 46 25 view .LVU316
 1050 005c C4ED027A 		vstr.32	s15, [r4, #8]
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 1051              		.loc 1 49 2 is_stmt 1 view .LVU317
  49:Core/Src/Main/Interrupt.c **** 	TotalPulse[RIGHT] += PulseDisplacement[RIGHT];
 1052              		.loc 1 49 19 is_stmt 0 view .LVU318
 1053 0060 474B     		ldr	r3, .L31+20
 1054 0062 1868     		ldr	r0, [r3]
 1055 0064 0144     		add	r1, r1, r0
 1056 0066 1960     		str	r1, [r3]
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 1057              		.loc 1 50 2 is_stmt 1 view .LVU319
  50:Core/Src/Main/Interrupt.c **** 	TotalPulse[BODY] = TotalPulse[LEFT]+TotalPulse[RIGHT];
 1058              		.loc 1 50 20 is_stmt 0 view .LVU320
 1059 0068 5968     		ldr	r1, [r3, #4]
 1060 006a 0A44     		add	r2, r2, r1
 1061 006c 5A60     		str	r2, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 1062              		.loc 1 51 2 is_stmt 1 view .LVU321
  51:Core/Src/Main/Interrupt.c **** }
 1063              		.loc 1 51 31 is_stmt 0 view .LVU322
 1064 006e 1A68     		ldr	r2, [r3]
  51:Core/Src/Main/Interrupt.c **** }
 1065              		.loc 1 51 48 view .LVU323
 1066 0070 5968     		ldr	r1, [r3, #4]
  51:Core/Src/Main/Interrupt.c **** }
 1067              		.loc 1 51 37 view .LVU324
 1068 0072 0A44     		add	r2, r2, r1
  51:Core/Src/Main/Interrupt.c **** }
 1069              		.loc 1 51 19 view .LVU325
 1070 0074 9A60     		str	r2, [r3, #8]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 29


 1071              	.LBE17:
 1072              	.LBE16:
  58:Core/Src/Main/Interrupt.c **** 
 1073              		.loc 1 58 2 is_stmt 1 view .LVU326
 1074 0076 04F10C01 		add	r1, r4, #12
 1075 007a 04F11000 		add	r0, r4, #16
 1076 007e FFF7FEFF 		bl	Update_IMU
 1077              	.LVL68:
  60:Core/Src/Main/Interrupt.c **** 	static int count=0;
 1078              		.loc 1 60 2 view .LVU327
  61:Core/Src/Main/Interrupt.c **** 	float output[2] ={
 1079              		.loc 1 61 2 view .LVU328
  62:Core/Src/Main/Interrupt.c **** 		Current.Velocity[BODY],
 1080              		.loc 1 62 2 view .LVU329
  63:Core/Src/Main/Interrupt.c **** 		Current.AngularV
 1081              		.loc 1 63 19 is_stmt 0 view .LVU330
 1082 0082 A368     		ldr	r3, [r4, #8]	@ float
  62:Core/Src/Main/Interrupt.c **** 		Current.Velocity[BODY],
 1083              		.loc 1 62 8 view .LVU331
 1084 0084 0293     		str	r3, [sp, #8]	@ float
  64:Core/Src/Main/Interrupt.c **** 	};
 1085              		.loc 1 64 10 view .LVU332
 1086 0086 2369     		ldr	r3, [r4, #16]	@ float
  62:Core/Src/Main/Interrupt.c **** 		Current.Velocity[BODY],
 1087              		.loc 1 62 8 view .LVU333
 1088 0088 0393     		str	r3, [sp, #12]	@ float
  66:Core/Src/Main/Interrupt.c **** 	_Bool identify_mode_v_or_angv = getIdentifyMode();
 1089              		.loc 1 66 2 is_stmt 1 view .LVU334
  66:Core/Src/Main/Interrupt.c **** 	_Bool identify_mode_v_or_angv = getIdentifyMode();
 1090              		.loc 1 66 8 is_stmt 0 view .LVU335
 1091 008a 0023     		movs	r3, #0
 1092 008c 0093     		str	r3, [sp]
 1093 008e 0193     		str	r3, [sp, #4]
  67:Core/Src/Main/Interrupt.c **** 	float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 1094              		.loc 1 67 2 is_stmt 1 view .LVU336
  67:Core/Src/Main/Interrupt.c **** 	float battery_voltage = ADCToBatteryVoltage( adc1[2], V_SPLIT_NUM, PIN_V_MAX ,ADC_RESOLUTION );
 1095              		.loc 1 67 34 is_stmt 0 view .LVU337
 1096 0090 FFF7FEFF 		bl	getIdentifyMode
 1097              	.LVL69:
 1098 0094 0446     		mov	r4, r0
 1099              	.LVL70:
  68:Core/Src/Main/Interrupt.c **** 	float convert_to_reg_counter = 840/battery_voltage;;
 1100              		.loc 1 68 2 is_stmt 1 view .LVU338
  68:Core/Src/Main/Interrupt.c **** 	float convert_to_reg_counter = 840/battery_voltage;;
 1101              		.loc 1 68 26 is_stmt 0 view .LVU339
 1102 0096 9FED3B1A 		vldr.32	s2, .L31+24
 1103 009a DFED3B0A 		vldr.32	s1, .L31+28
 1104 009e B0EE080A 		vmov.f32	s0, #3.0e+0
 1105 00a2 3A4B     		ldr	r3, .L31+32
 1106 00a4 9868     		ldr	r0, [r3, #8]
 1107 00a6 FFF7FEFF 		bl	ADCToBatteryVoltage
 1108              	.LVL71:
  69:Core/Src/Main/Interrupt.c **** 	if(getLoggerFlag(&(identify[identify_mode_v_or_angv].f)) == true){
 1109              		.loc 1 69 2 is_stmt 1 view .LVU340
  69:Core/Src/Main/Interrupt.c **** 	if(getLoggerFlag(&(identify[identify_mode_v_or_angv].f)) == true){
 1110              		.loc 1 69 8 is_stmt 0 view .LVU341
 1111 00aa DFED397A 		vldr.32	s15, .L31+36
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 30


 1112 00ae 87EE808A 		vdiv.f32	s16, s15, s0
 1113              	.LVL72:
  69:Core/Src/Main/Interrupt.c **** 	if(getLoggerFlag(&(identify[identify_mode_v_or_angv].f)) == true){
 1114              		.loc 1 69 53 is_stmt 1 view .LVU342
  70:Core/Src/Main/Interrupt.c **** 		if( (count%20) == 0 ){
 1115              		.loc 1 70 2 view .LVU343
  70:Core/Src/Main/Interrupt.c **** 		if( (count%20) == 0 ){
 1116              		.loc 1 70 5 is_stmt 0 view .LVU344
 1117 00b2 3848     		ldr	r0, .L31+40
 1118 00b4 00EB0410 		add	r0, r0, r4, lsl #4
 1119 00b8 FFF7FEFF 		bl	getLoggerFlag
 1120              	.LVL73:
  70:Core/Src/Main/Interrupt.c **** 		if( (count%20) == 0 ){
 1121              		.loc 1 70 4 view .LVU345
 1122 00bc 0028     		cmp	r0, #0
 1123 00be 4CD0     		beq	.L24
  71:Core/Src/Main/Interrupt.c **** 			getFloatLog(&identify[identify_mode_v_or_angv], output[identify_mode_v_or_angv]);
 1124              		.loc 1 71 3 is_stmt 1 view .LVU346
  71:Core/Src/Main/Interrupt.c **** 			getFloatLog(&identify[identify_mode_v_or_angv], output[identify_mode_v_or_angv]);
 1125              		.loc 1 71 13 is_stmt 0 view .LVU347
 1126 00c0 354B     		ldr	r3, .L31+44
 1127 00c2 1A68     		ldr	r2, [r3]
 1128 00c4 3549     		ldr	r1, .L31+48
 1129 00c6 81FB0231 		smull	r3, r1, r1, r2
 1130 00ca D317     		asrs	r3, r2, #31
 1131 00cc C3EBE103 		rsb	r3, r3, r1, asr #3
 1132 00d0 03EB8303 		add	r3, r3, r3, lsl #2
  71:Core/Src/Main/Interrupt.c **** 			getFloatLog(&identify[identify_mode_v_or_angv], output[identify_mode_v_or_angv]);
 1133              		.loc 1 71 5 view .LVU348
 1134 00d4 B2EB830F 		cmp	r2, r3, lsl #2
 1135 00d8 14D0     		beq	.L29
 1136              	.L25:
  74:Core/Src/Main/Interrupt.c **** 			getIdentifyInputCount(identify_count, &input[0] ,identify_mode_v_or_angv);
 1137              		.loc 1 74 3 is_stmt 1 view .LVU349
  74:Core/Src/Main/Interrupt.c **** 			getIdentifyInputCount(identify_count, &input[0] ,identify_mode_v_or_angv);
 1138              		.loc 1 74 13 is_stmt 0 view .LVU350
 1139 00da 2F4B     		ldr	r3, .L31+44
 1140 00dc 1A68     		ldr	r2, [r3]
 1141 00de 2F49     		ldr	r1, .L31+48
 1142 00e0 81FB0231 		smull	r3, r1, r1, r2
 1143 00e4 D317     		asrs	r3, r2, #31
 1144 00e6 C3EB2113 		rsb	r3, r3, r1, asr #4
 1145 00ea 03EB8303 		add	r3, r3, r3, lsl #2
  74:Core/Src/Main/Interrupt.c **** 			getIdentifyInputCount(identify_count, &input[0] ,identify_mode_v_or_angv);
 1146              		.loc 1 74 5 view .LVU351
 1147 00ee B2EBC30F 		cmp	r2, r3, lsl #3
 1148 00f2 12D0     		beq	.L30
 1149              	.LVL74:
 1150              	.L26:
  82:Core/Src/Main/Interrupt.c **** 	}
 1151              		.loc 1 82 3 is_stmt 1 view .LVU352
  82:Core/Src/Main/Interrupt.c **** 	}
 1152              		.loc 1 82 8 is_stmt 0 view .LVU353
 1153 00f4 284A     		ldr	r2, .L31+44
 1154 00f6 1368     		ldr	r3, [r2]
 1155 00f8 0133     		adds	r3, r3, #1
 1156 00fa 1360     		str	r3, [r2]
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 31


 1157              	.L23:
  89:Core/Src/Main/Interrupt.c **** static void ControlTest_IT(){
 1158              		.loc 1 89 1 view .LVU354
 1159 00fc 05B0     		add	sp, sp, #20
 1160              	.LCFI11:
 1161              		.cfi_remember_state
 1162              		.cfi_def_cfa_offset 20
 1163              		@ sp needed
 1164 00fe BDEC028B 		vldm	sp!, {d8}
 1165              	.LCFI12:
 1166              		.cfi_restore 80
 1167              		.cfi_restore 81
 1168              		.cfi_def_cfa_offset 12
 1169 0102 30BD     		pop	{r4, r5, pc}
 1170              	.LVL75:
 1171              	.L29:
 1172              	.LCFI13:
 1173              		.cfi_restore_state
  72:Core/Src/Main/Interrupt.c **** 		}
 1174              		.loc 1 72 4 is_stmt 1 view .LVU355
 1175 0104 04AB     		add	r3, sp, #16
 1176 0106 03EB8403 		add	r3, r3, r4, lsl #2
 1177 010a 13ED020A 		vldr.32	s0, [r3, #-8]
 1178 010e 2148     		ldr	r0, .L31+40
 1179 0110 00EB0410 		add	r0, r0, r4, lsl #4
 1180 0114 FFF7FEFF 		bl	getFloatLog
 1181              	.LVL76:
 1182 0118 DFE7     		b	.L25
 1183              	.L30:
  75:Core/Src/Main/Interrupt.c **** 			input[0] *= convert_to_reg_counter;
 1184              		.loc 1 75 4 view .LVU356
 1185 011a 214D     		ldr	r5, .L31+52
 1186 011c 2246     		mov	r2, r4
 1187 011e 6946     		mov	r1, sp
 1188 0120 2868     		ldr	r0, [r5]
 1189 0122 FFF7FEFF 		bl	getIdentifyInputCount
 1190              	.LVL77:
  76:Core/Src/Main/Interrupt.c **** 			input[1] *= convert_to_reg_counter;
 1191              		.loc 1 76 4 view .LVU357
  76:Core/Src/Main/Interrupt.c **** 			input[1] *= convert_to_reg_counter;
 1192              		.loc 1 76 13 is_stmt 0 view .LVU358
 1193 0126 DDED007A 		vldr.32	s15, [sp]
 1194 012a 68EE277A 		vmul.f32	s15, s16, s15
 1195 012e CDED007A 		vstr.32	s15, [sp]
  77:Core/Src/Main/Interrupt.c **** 			Motor_Switch(input[0], input[1]);
 1196              		.loc 1 77 4 is_stmt 1 view .LVU359
  77:Core/Src/Main/Interrupt.c **** 			Motor_Switch(input[0], input[1]);
 1197              		.loc 1 77 13 is_stmt 0 view .LVU360
 1198 0132 9DED017A 		vldr.32	s14, [sp, #4]
 1199 0136 28EE078A 		vmul.f32	s16, s16, s14
 1200              	.LVL78:
  77:Core/Src/Main/Interrupt.c **** 			Motor_Switch(input[0], input[1]);
 1201              		.loc 1 77 13 view .LVU361
 1202 013a 8DED018A 		vstr.32	s16, [sp, #4]
  78:Core/Src/Main/Interrupt.c **** 			identify_count++;
 1203              		.loc 1 78 4 is_stmt 1 view .LVU362
 1204 013e BDEEC87A 		vcvt.s32.f32	s14, s16
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 32


 1205 0142 17EE101A 		vmov	r1, s14	@ int
 1206 0146 FDEEE77A 		vcvt.s32.f32	s15, s15
 1207 014a 17EE900A 		vmov	r0, s15	@ int
 1208 014e FFF7FEFF 		bl	Motor_Switch
 1209              	.LVL79:
  79:Core/Src/Main/Interrupt.c **** 			
 1210              		.loc 1 79 4 view .LVU363
  79:Core/Src/Main/Interrupt.c **** 			
 1211              		.loc 1 79 18 is_stmt 0 view .LVU364
 1212 0152 2B68     		ldr	r3, [r5]
 1213 0154 0133     		adds	r3, r3, #1
 1214 0156 2B60     		str	r3, [r5]
 1215 0158 CCE7     		b	.L26
 1216              	.LVL80:
 1217              	.L24:
  85:Core/Src/Main/Interrupt.c **** 		count = 0;
 1218              		.loc 1 85 3 is_stmt 1 view .LVU365
 1219 015a 0021     		movs	r1, #0
 1220 015c 0846     		mov	r0, r1
 1221 015e FFF7FEFF 		bl	Motor_Switch
 1222              	.LVL81:
  86:Core/Src/Main/Interrupt.c **** 	}
 1223              		.loc 1 86 3 view .LVU366
  86:Core/Src/Main/Interrupt.c **** 	}
 1224              		.loc 1 86 9 is_stmt 0 view .LVU367
 1225 0162 0D4B     		ldr	r3, .L31+44
 1226 0164 0022     		movs	r2, #0
 1227 0166 1A60     		str	r2, [r3]
  89:Core/Src/Main/Interrupt.c **** static void ControlTest_IT(){
 1228              		.loc 1 89 1 view .LVU368
 1229 0168 C8E7     		b	.L23
 1230              	.L32:
 1231 016a 00BF     		.align	2
 1232              	.L31:
 1233 016c 00040040 		.word	1073742848
 1234 0170 00000000 		.word	PulseDisplacement
 1235 0174 00080040 		.word	1073743872
 1236 0178 CD77813F 		.word	1065449421
 1237 017c 00000000 		.word	Current
 1238 0180 00000000 		.word	TotalPulse
 1239 0184 00008045 		.word	1166016512
 1240 0188 33335340 		.word	1079194419
 1241 018c 00000000 		.word	adc1
 1242 0190 00005244 		.word	1146224640
 1243 0194 00000000 		.word	.LANCHOR1
 1244 0198 00000000 		.word	.LANCHOR2
 1245 019c 67666666 		.word	1717986919
 1246 01a0 00000000 		.word	.LANCHOR3
 1247              		.cfi_endproc
 1248              	.LFE239:
 1250              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
 1251              		.align	1
 1252              		.global	HAL_TIM_PeriodElapsedCallback
 1253              		.syntax unified
 1254              		.thumb
 1255              		.thumb_func
 1257              	HAL_TIM_PeriodElapsedCallback:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 33


 1258              	.LVL82:
 1259              	.LFB243:
 315:Core/Src/Main/Interrupt.c **** 
 316:Core/Src/Main/Interrupt.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim)
 317:Core/Src/Main/Interrupt.c **** {
 1260              		.loc 1 317 1 is_stmt 1 view -0
 1261              		.cfi_startproc
 1262              		@ args = 0, pretend = 0, frame = 16
 1263              		@ frame_needed = 0, uses_anonymous_args = 0
 1264              		.loc 1 317 1 is_stmt 0 view .LVU370
 1265 0000 70B5     		push	{r4, r5, r6, lr}
 1266              	.LCFI14:
 1267              		.cfi_def_cfa_offset 16
 1268              		.cfi_offset 4, -16
 1269              		.cfi_offset 5, -12
 1270              		.cfi_offset 6, -8
 1271              		.cfi_offset 14, -4
 1272 0002 84B0     		sub	sp, sp, #16
 1273              	.LCFI15:
 1274              		.cfi_def_cfa_offset 32
 1275 0004 0446     		mov	r4, r0
 318:Core/Src/Main/Interrupt.c **** 	if( htim == &htim1)
 1276              		.loc 1 318 2 is_stmt 1 view .LVU371
 1277              		.loc 1 318 4 is_stmt 0 view .LVU372
 1278 0006 334B     		ldr	r3, .L47
 1279 0008 9842     		cmp	r0, r3
 1280 000a 04D0     		beq	.L44
 1281              	.LVL83:
 1282              	.L34:
 319:Core/Src/Main/Interrupt.c **** 	{
 320:Core/Src/Main/Interrupt.c **** 
 321:Core/Src/Main/Interrupt.c **** 		switch(IT_mode){
 322:Core/Src/Main/Interrupt.c **** 		case IT_EXPLORE:
 323:Core/Src/Main/Interrupt.c **** 			Explore_IT();
 324:Core/Src/Main/Interrupt.c **** 			break;
 325:Core/Src/Main/Interrupt.c **** 		case IT_FREE:
 326:Core/Src/Main/Interrupt.c **** 			WritingFree_IT();
 327:Core/Src/Main/Interrupt.c **** 			break;
 328:Core/Src/Main/Interrupt.c **** 		case IT_IMU_TEST:
 329:Core/Src/Main/Interrupt.c **** 
 330:Core/Src/Main/Interrupt.c **** 			if(timer1 < 5000)
 331:Core/Src/Main/Interrupt.c **** 			{
 332:Core/Src/Main/Interrupt.c **** 
 333:Core/Src/Main/Interrupt.c **** 				Update_IMU(&(Current.AngularV), &(Current.Angle));
 334:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 335:Core/Src/Main/Interrupt.c **** 				timer1 += t;
 336:Core/Src/Main/Interrupt.c **** 			}
 337:Core/Src/Main/Interrupt.c **** 			else t = 0;
 338:Core/Src/Main/Interrupt.c **** 			break;
 339:Core/Src/Main/Interrupt.c **** 		case IT_IDENTIFY:
 340:Core/Src/Main/Interrupt.c **** 			SystemIdentify_IT();
 341:Core/Src/Main/Interrupt.c **** 			break;
 342:Core/Src/Main/Interrupt.c **** 		case IT_STEP_RESPONSE:
 343:Core/Src/Main/Interrupt.c **** 
 344:Core/Src/Main/Interrupt.c **** 			break;
 345:Core/Src/Main/Interrupt.c **** 		case IT_CONTROL_TEST:
 346:Core/Src/Main/Interrupt.c **** 			ControlTest_IT();
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 34


 347:Core/Src/Main/Interrupt.c **** 			break;
 348:Core/Src/Main/Interrupt.c **** 
 349:Core/Src/Main/Interrupt.c **** 		default :
 350:Core/Src/Main/Interrupt.c **** 			break;
 351:Core/Src/Main/Interrupt.c **** 		}
 352:Core/Src/Main/Interrupt.c **** 	}
 353:Core/Src/Main/Interrupt.c **** 
 354:Core/Src/Main/Interrupt.c **** 	if( htim == &htim8)
 1283              		.loc 1 354 2 is_stmt 1 view .LVU373
 1284              		.loc 1 354 4 is_stmt 0 view .LVU374
 1285 000c 324B     		ldr	r3, .L47+4
 1286 000e 9C42     		cmp	r4, r3
 1287 0010 35D0     		beq	.L45
 1288              	.LVL84:
 1289              	.L33:
 355:Core/Src/Main/Interrupt.c **** 	{
 356:Core/Src/Main/Interrupt.c **** 		//timer8 += t;
 357:Core/Src/Main/Interrupt.c **** 
 358:Core/Src/Main/Interrupt.c **** 		//å£ã‚»ãƒ³ã‚µãƒ‡ãƒ¼ã‚¿ã®æ›´æ–°
 359:Core/Src/Main/Interrupt.c **** 		Current.Photo[FL] = GetWallDataAverage(10, adc1[0], FL);	//adc1_IN10
 360:Core/Src/Main/Interrupt.c **** 		Current.Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 361:Core/Src/Main/Interrupt.c **** 		Current.Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 362:Core/Src/Main/Interrupt.c **** 		Current.Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 363:Core/Src/Main/Interrupt.c **** 		#if 1
 364:Core/Src/Main/Interrupt.c **** 			uint32_t sample[4]={
 365:Core/Src/Main/Interrupt.c **** 				adc2[0],
 366:Core/Src/Main/Interrupt.c **** 				adc1[0],
 367:Core/Src/Main/Interrupt.c **** 				adc2[1],
 368:Core/Src/Main/Interrupt.c **** 				adc1[1]
 369:Core/Src/Main/Interrupt.c **** 			};
 370:Core/Src/Main/Interrupt.c **** 			getPhotoSampleValue_uint32(&sample[0]);
 371:Core/Src/Main/Interrupt.c **** 		#else
 372:Core/Src/Main/Interrupt.c **** 			getPhotoSampleValue_float(&Photo[0]);
 373:Core/Src/Main/Interrupt.c **** 		#endif
 374:Core/Src/Main/Interrupt.c **** 	}
 375:Core/Src/Main/Interrupt.c **** }
 1290              		.loc 1 375 1 view .LVU375
 1291 0012 04B0     		add	sp, sp, #16
 1292              	.LCFI16:
 1293              		.cfi_remember_state
 1294              		.cfi_def_cfa_offset 16
 1295              		@ sp needed
 1296 0014 70BD     		pop	{r4, r5, r6, pc}
 1297              	.LVL85:
 1298              	.L44:
 1299              	.LCFI17:
 1300              		.cfi_restore_state
 321:Core/Src/Main/Interrupt.c **** 		case IT_EXPLORE:
 1301              		.loc 1 321 3 is_stmt 1 view .LVU376
 1302 0016 314B     		ldr	r3, .L47+8
 1303 0018 1B68     		ldr	r3, [r3]
 1304 001a 052B     		cmp	r3, #5
 1305 001c F6D8     		bhi	.L34
 1306 001e 01A2     		adr	r2, .L36
 1307 0020 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 1308              		.p2align 2
 1309              	.L36:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 35


 1310 0024 3D000000 		.word	.L40+1
 1311 0028 43000000 		.word	.L39+1
 1312 002c 49000000 		.word	.L38+1
 1313 0030 73000000 		.word	.L37+1
 1314 0034 0D000000 		.word	.L34+1
 1315 0038 79000000 		.word	.L35+1
 1316              		.p2align 1
 1317              	.L40:
 323:Core/Src/Main/Interrupt.c **** 			break;
 1318              		.loc 1 323 4 view .LVU377
 1319 003c FFF7FEFF 		bl	Explore_IT
 1320              	.LVL86:
 324:Core/Src/Main/Interrupt.c **** 		case IT_FREE:
 1321              		.loc 1 324 4 view .LVU378
 1322 0040 E4E7     		b	.L34
 1323              	.LVL87:
 1324              	.L39:
 326:Core/Src/Main/Interrupt.c **** 			break;
 1325              		.loc 1 326 4 view .LVU379
 1326 0042 FFF7FEFF 		bl	WritingFree_IT
 1327              	.LVL88:
 327:Core/Src/Main/Interrupt.c **** 		case IT_IMU_TEST:
 1328              		.loc 1 327 4 view .LVU380
 1329 0046 E1E7     		b	.L34
 1330              	.LVL89:
 1331              	.L38:
 330:Core/Src/Main/Interrupt.c **** 			{
 1332              		.loc 1 330 4 view .LVU381
 330:Core/Src/Main/Interrupt.c **** 			{
 1333              		.loc 1 330 14 is_stmt 0 view .LVU382
 1334 0048 254B     		ldr	r3, .L47+12
 1335 004a 1A68     		ldr	r2, [r3]
 330:Core/Src/Main/Interrupt.c **** 			{
 1336              		.loc 1 330 6 view .LVU383
 1337 004c 41F28733 		movw	r3, #4999
 1338 0050 9A42     		cmp	r2, r3
 1339 0052 03DD     		ble	.L46
 337:Core/Src/Main/Interrupt.c **** 			break;
 1340              		.loc 1 337 9 is_stmt 1 view .LVU384
 337:Core/Src/Main/Interrupt.c **** 			break;
 1341              		.loc 1 337 11 is_stmt 0 view .LVU385
 1342 0054 234B     		ldr	r3, .L47+16
 1343 0056 0022     		movs	r2, #0
 1344 0058 1A60     		str	r2, [r3]
 1345 005a D7E7     		b	.L34
 1346              	.L46:
 333:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 1347              		.loc 1 333 5 is_stmt 1 view .LVU386
 1348 005c 2249     		ldr	r1, .L47+20
 1349 005e 081D     		adds	r0, r1, #4
 1350              	.LVL90:
 333:Core/Src/Main/Interrupt.c **** //				debugVL[timer1] = Angle;
 1351              		.loc 1 333 5 is_stmt 0 view .LVU387
 1352 0060 FFF7FEFF 		bl	Update_IMU
 1353              	.LVL91:
 335:Core/Src/Main/Interrupt.c **** 			}
 1354              		.loc 1 335 5 is_stmt 1 view .LVU388
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 36


 335:Core/Src/Main/Interrupt.c **** 			}
 1355              		.loc 1 335 12 is_stmt 0 view .LVU389
 1356 0064 1E4A     		ldr	r2, .L47+12
 1357 0066 1368     		ldr	r3, [r2]
 1358 0068 1E49     		ldr	r1, .L47+16
 1359 006a 0968     		ldr	r1, [r1]
 1360 006c 0B44     		add	r3, r3, r1
 1361 006e 1360     		str	r3, [r2]
 1362 0070 CCE7     		b	.L34
 1363              	.LVL92:
 1364              	.L37:
 340:Core/Src/Main/Interrupt.c **** 			break;
 1365              		.loc 1 340 4 is_stmt 1 view .LVU390
 1366 0072 FFF7FEFF 		bl	SystemIdentify_IT
 1367              	.LVL93:
 341:Core/Src/Main/Interrupt.c **** 		case IT_STEP_RESPONSE:
 1368              		.loc 1 341 4 view .LVU391
 1369 0076 C9E7     		b	.L34
 1370              	.LVL94:
 1371              	.L35:
 346:Core/Src/Main/Interrupt.c **** 			break;
 1372              		.loc 1 346 4 view .LVU392
 1373 0078 FFF7FEFF 		bl	ControlTest_IT
 1374              	.LVL95:
 347:Core/Src/Main/Interrupt.c **** 
 1375              		.loc 1 347 4 view .LVU393
 1376 007c C6E7     		b	.L34
 1377              	.L45:
 1378              	.LBB18:
 359:Core/Src/Main/Interrupt.c **** 		Current.Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 1379              		.loc 1 359 3 view .LVU394
 359:Core/Src/Main/Interrupt.c **** 		Current.Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 1380              		.loc 1 359 50 is_stmt 0 view .LVU395
 1381 007e 1B4C     		ldr	r4, .L47+24
 1382              	.LVL96:
 359:Core/Src/Main/Interrupt.c **** 		Current.Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 1383              		.loc 1 359 23 view .LVU396
 1384 0080 0022     		movs	r2, #0
 1385 0082 2168     		ldr	r1, [r4]
 1386 0084 0A20     		movs	r0, #10
 1387 0086 FFF7FEFF 		bl	GetWallDataAverage
 1388              	.LVL97:
 359:Core/Src/Main/Interrupt.c **** 		Current.Photo[SIDE_R] = GetWallDataAverage(10, adc1[1], SIDE_R);	//adc1_IN14
 1389              		.loc 1 359 21 view .LVU397
 1390 008a 194E     		ldr	r6, .L47+28
 1391 008c 86ED050A 		vstr.32	s0, [r6, #20]
 360:Core/Src/Main/Interrupt.c **** 		Current.Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 1392              		.loc 1 360 3 is_stmt 1 view .LVU398
 360:Core/Src/Main/Interrupt.c **** 		Current.Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 1393              		.loc 1 360 27 is_stmt 0 view .LVU399
 1394 0090 0122     		movs	r2, #1
 1395 0092 6168     		ldr	r1, [r4, #4]
 1396 0094 0A20     		movs	r0, #10
 1397 0096 FFF7FEFF 		bl	GetWallDataAverage
 1398              	.LVL98:
 360:Core/Src/Main/Interrupt.c **** 		Current.Photo[SL] = GetWallDataAverage(10, adc2[0], SL);	//adc2_IN11
 1399              		.loc 1 360 25 view .LVU400
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 37


 1400 009a 86ED060A 		vstr.32	s0, [r6, #24]
 361:Core/Src/Main/Interrupt.c **** 		Current.Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 1401              		.loc 1 361 3 is_stmt 1 view .LVU401
 361:Core/Src/Main/Interrupt.c **** 		Current.Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 1402              		.loc 1 361 50 is_stmt 0 view .LVU402
 1403 009e 154D     		ldr	r5, .L47+32
 361:Core/Src/Main/Interrupt.c **** 		Current.Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 1404              		.loc 1 361 23 view .LVU403
 1405 00a0 0222     		movs	r2, #2
 1406 00a2 2968     		ldr	r1, [r5]
 1407 00a4 0A20     		movs	r0, #10
 1408 00a6 FFF7FEFF 		bl	GetWallDataAverage
 1409              	.LVL99:
 361:Core/Src/Main/Interrupt.c **** 		Current.Photo[FR] = GetWallDataAverage(10, adc2[1], FR);	//adc2_IN15
 1410              		.loc 1 361 21 view .LVU404
 1411 00aa 86ED070A 		vstr.32	s0, [r6, #28]
 362:Core/Src/Main/Interrupt.c **** 		#if 1
 1412              		.loc 1 362 3 is_stmt 1 view .LVU405
 362:Core/Src/Main/Interrupt.c **** 		#if 1
 1413              		.loc 1 362 23 is_stmt 0 view .LVU406
 1414 00ae 0322     		movs	r2, #3
 1415 00b0 6968     		ldr	r1, [r5, #4]
 1416 00b2 0A20     		movs	r0, #10
 1417 00b4 FFF7FEFF 		bl	GetWallDataAverage
 1418              	.LVL100:
 362:Core/Src/Main/Interrupt.c **** 		#if 1
 1419              		.loc 1 362 21 view .LVU407
 1420 00b8 86ED080A 		vstr.32	s0, [r6, #32]
 364:Core/Src/Main/Interrupt.c **** 				adc2[0],
 1421              		.loc 1 364 4 is_stmt 1 view .LVU408
 365:Core/Src/Main/Interrupt.c **** 				adc1[0],
 1422              		.loc 1 365 9 is_stmt 0 view .LVU409
 1423 00bc 2B68     		ldr	r3, [r5]
 364:Core/Src/Main/Interrupt.c **** 				adc2[0],
 1424              		.loc 1 364 13 view .LVU410
 1425 00be 0093     		str	r3, [sp]
 366:Core/Src/Main/Interrupt.c **** 				adc2[1],
 1426              		.loc 1 366 9 view .LVU411
 1427 00c0 2368     		ldr	r3, [r4]
 364:Core/Src/Main/Interrupt.c **** 				adc2[0],
 1428              		.loc 1 364 13 view .LVU412
 1429 00c2 0193     		str	r3, [sp, #4]
 367:Core/Src/Main/Interrupt.c **** 				adc1[1]
 1430              		.loc 1 367 9 view .LVU413
 1431 00c4 6B68     		ldr	r3, [r5, #4]
 364:Core/Src/Main/Interrupt.c **** 				adc2[0],
 1432              		.loc 1 364 13 view .LVU414
 1433 00c6 0293     		str	r3, [sp, #8]
 368:Core/Src/Main/Interrupt.c **** 			};
 1434              		.loc 1 368 9 view .LVU415
 1435 00c8 6368     		ldr	r3, [r4, #4]
 364:Core/Src/Main/Interrupt.c **** 				adc2[0],
 1436              		.loc 1 364 13 view .LVU416
 1437 00ca 0393     		str	r3, [sp, #12]
 370:Core/Src/Main/Interrupt.c **** 		#else
 1438              		.loc 1 370 4 is_stmt 1 view .LVU417
 1439 00cc 6846     		mov	r0, sp
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 38


 1440 00ce FFF7FEFF 		bl	getPhotoSampleValue_uint32
 1441              	.LVL101:
 1442              	.LBE18:
 1443              		.loc 1 375 1 is_stmt 0 view .LVU418
 1444 00d2 9EE7     		b	.L33
 1445              	.L48:
 1446              		.align	2
 1447              	.L47:
 1448 00d4 00000000 		.word	htim1
 1449 00d8 00000000 		.word	htim8
 1450 00dc 00000000 		.word	.LANCHOR4
 1451 00e0 00000000 		.word	.LANCHOR5
 1452 00e4 00000000 		.word	.LANCHOR6
 1453 00e8 0C000000 		.word	Current+12
 1454 00ec 00000000 		.word	adc1
 1455 00f0 00000000 		.word	Current
 1456 00f4 00000000 		.word	adc2
 1457              		.cfi_endproc
 1458              	.LFE243:
 1460              		.global	log_velocity
 1461              		.global	convert_to_imu_yaccel
 1462              		.global	convert_to_angularv
 1463              		.global	convert_to_velocity
 1464              		.global	identify
 1465              		.global	IT_mode
 1466              		.global	t
 1467              		.global	timer8
 1468              		.global	timer1
 1469              		.section	.bss.IT_mode,"aw",%nobits
 1470              		.align	2
 1471              		.set	.LANCHOR4,. + 0
 1474              	IT_mode:
 1475 0000 00000000 		.space	4
 1476              		.section	.bss.count.1,"aw",%nobits
 1477              		.align	2
 1478              		.set	.LANCHOR2,. + 0
 1481              	count.1:
 1482 0000 00000000 		.space	4
 1483              		.section	.bss.identify,"aw",%nobits
 1484              		.align	2
 1485              		.set	.LANCHOR1,. + 0
 1488              	identify:
 1489 0000 00000000 		.space	32
 1489      00000000 
 1489      00000000 
 1489      00000000 
 1489      00000000 
 1490              		.section	.bss.identify_count.0,"aw",%nobits
 1491              		.align	2
 1492              		.set	.LANCHOR3,. + 0
 1495              	identify_count.0:
 1496 0000 00000000 		.space	4
 1497              		.section	.bss.log_velocity,"aw",%nobits
 1498              		.align	2
 1501              	log_velocity:
 1502 0000 00000000 		.space	16
 1502      00000000 
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 39


 1502      00000000 
 1502      00000000 
 1503              		.section	.bss.t,"aw",%nobits
 1504              		.align	2
 1505              		.set	.LANCHOR6,. + 0
 1508              	t:
 1509 0000 00000000 		.space	4
 1510              		.section	.bss.timer1,"aw",%nobits
 1511              		.align	2
 1512              		.set	.LANCHOR5,. + 0
 1515              	timer1:
 1516 0000 00000000 		.space	4
 1517              		.section	.bss.timer8,"aw",%nobits
 1518              		.align	2
 1521              	timer8:
 1522 0000 00000000 		.space	4
 1523              		.section	.bss.zg_last.2,"aw",%nobits
 1524              		.align	2
 1525              		.set	.LANCHOR0,. + 0
 1528              	zg_last.2:
 1529 0000 00000000 		.space	4
 1530              		.section	.rodata.convert_to_angularv,"a"
 1531              		.align	2
 1534              	convert_to_angularv:
 1535 0000 B823EE3C 		.word	1022239672
 1536              		.section	.rodata.convert_to_imu_yaccel,"a"
 1537              		.align	2
 1540              	convert_to_imu_yaccel:
 1541 0000 B02F9940 		.word	1083781040
 1542              		.section	.rodata.convert_to_velocity,"a"
 1543              		.align	2
 1546              	convert_to_velocity:
 1547 0000 CD77813F 		.word	1065449421
 1548              		.text
 1549              	.Letext0:
 1550              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\machine\\_default_types.
 1551              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 1552              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1553              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1554              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1555              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1556              		.file 8 "Core/Inc/Tools/Sampling.h"
 1557              		.file 9 "Core/Inc/Main/Interrupt.h"
 1558              		.file 10 "Core/Inc/Main/MicroMouse.h"
 1559              		.file 11 "Core/Inc/Tools/PID_Control.h"
 1560              		.file 12 "Core/Inc/HardWare/mouse_ADC.h"
 1561              		.file 13 "Core/Inc/HardWare/ICM_20648.h"
 1562              		.file 14 "Core/Inc/Tools/Convert.h"
 1563              		.file 15 "Core/Inc/HardWare/Motor_Driver.h"
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 40


DEFINED SYMBOLS
                            *ABS*:00000000 Interrupt.c
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:24     .text.Explore_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:29     .text.Explore_IT:00000000 Explore_IT
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:460    .text.Explore_IT:000002b8 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:484    .text.ControlTest_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:489    .text.ControlTest_IT:00000000 ControlTest_IT
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:674    .text.ControlTest_IT:0000010c $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:692    .text.WritingFree_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:697    .text.WritingFree_IT:00000000 WritingFree_IT
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:944    .text.WritingFree_IT:00000180 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:967    .text.SystemIdentify_IT:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:972    .text.SystemIdentify_IT:00000000 SystemIdentify_IT
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1233   .text.SystemIdentify_IT:0000016c $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1251   .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1257   .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1310   .text.HAL_TIM_PeriodElapsedCallback:00000024 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1316   .text.HAL_TIM_PeriodElapsedCallback:0000003c $t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1448   .text.HAL_TIM_PeriodElapsedCallback:000000d4 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1501   .bss.log_velocity:00000000 log_velocity
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1540   .rodata.convert_to_imu_yaccel:00000000 convert_to_imu_yaccel
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1534   .rodata.convert_to_angularv:00000000 convert_to_angularv
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1546   .rodata.convert_to_velocity:00000000 convert_to_velocity
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1488   .bss.identify:00000000 identify
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1474   .bss.IT_mode:00000000 IT_mode
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1508   .bss.t:00000000 t
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1521   .bss.timer8:00000000 timer8
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1515   .bss.timer1:00000000 timer1
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1470   .bss.IT_mode:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1477   .bss.count.1:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1481   .bss.count.1:00000000 count.1
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1484   .bss.identify:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1491   .bss.identify_count.0:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1495   .bss.identify_count.0:00000000 identify_count.0
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1498   .bss.log_velocity:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1504   .bss.t:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1511   .bss.timer1:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1518   .bss.timer8:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1524   .bss.zg_last.2:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1528   .bss.zg_last.2:00000000 zg_last.2
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1531   .rodata.convert_to_angularv:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1537   .rodata.convert_to_imu_yaccel:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccH64m37.s:1543   .rodata.convert_to_velocity:00000000 $d

UNDEFINED SYMBOLS
__aeabi_f2d
__aeabi_dmul
__aeabi_d2f
__aeabi_ddiv
Update_IMU
ADCToBatteryVoltage
PIDControl
Motor_Switch
PulseDisplacement
Current
TotalPulse
Pid
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccH64m37.s 			page 41


Target
adc1
VelocityLeftOut
VelocityRightOut
PhotoDiff
__aeabi_dadd
ReadIMU
ZGyro
zg_offset
convert_to_imu_angv
getIdentifyMode
getLoggerFlag
getFloatLog
getIdentifyInputCount
GetWallDataAverage
getPhotoSampleValue_uint32
htim1
htim8
adc2
