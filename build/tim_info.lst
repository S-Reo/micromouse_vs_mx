ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"tim_info.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.getTIMnumber,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	getTIMnumber:
  26              	.LVL0:
  27              	.LFB238:
  28              		.file 1 "Core/Src/Tools/tim_info.c"
   1:Core/Src/Tools/tim_info.c **** /*
   2:Core/Src/Tools/tim_info.c ****  * tim_info.c
   3:Core/Src/Tools/tim_info.c ****  *
   4:Core/Src/Tools/tim_info.c ****  *  Created on: Nov 19, 2022
   5:Core/Src/Tools/tim_info.c ****  *      Author: leopi
   6:Core/Src/Tools/tim_info.c ****  */
   7:Core/Src/Tools/tim_info.c **** 
   8:Core/Src/Tools/tim_info.c **** #include "tim_info.h"
   9:Core/Src/Tools/tim_info.c **** #include <stdio.h>
  10:Core/Src/Tools/tim_info.c **** static int getTIMnumber(TIM_HandleTypeDef *htim){
  29              		.loc 1 10 49 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  11:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM1)
  34              		.loc 1 11 2 view .LVU1
  35              		.loc 1 11 9 is_stmt 0 view .LVU2
  36 0000 0368     		ldr	r3, [r0]
  37              		.loc 1 11 4 view .LVU3
  38 0002 244A     		ldr	r2, .L15
  39 0004 9342     		cmp	r3, r2
  40 0006 2CD0     		beq	.L3
  12:Core/Src/Tools/tim_info.c **** 		return 1;
  13:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM2)
  41              		.loc 1 13 2 is_stmt 1 view .LVU4
  42              		.loc 1 13 4 is_stmt 0 view .LVU5
  43 0008 B3F1804F 		cmp	r3, #1073741824
  44 000c 2BD0     		beq	.L4
  14:Core/Src/Tools/tim_info.c **** 		return 2;
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 2


  15:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM3)
  45              		.loc 1 15 2 is_stmt 1 view .LVU6
  46              		.loc 1 15 4 is_stmt 0 view .LVU7
  47 000e A2F57C42 		sub	r2, r2, #64512
  48 0012 9342     		cmp	r3, r2
  49 0014 29D0     		beq	.L5
  16:Core/Src/Tools/tim_info.c **** 		return 3;
  17:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM4)
  50              		.loc 1 17 2 is_stmt 1 view .LVU8
  51              		.loc 1 17 4 is_stmt 0 view .LVU9
  52 0016 02F58062 		add	r2, r2, #1024
  53 001a 9342     		cmp	r3, r2
  54 001c 27D0     		beq	.L6
  18:Core/Src/Tools/tim_info.c **** 		return 4;
  19:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM5)
  55              		.loc 1 19 2 is_stmt 1 view .LVU10
  56              		.loc 1 19 4 is_stmt 0 view .LVU11
  57 001e 02F58062 		add	r2, r2, #1024
  58 0022 9342     		cmp	r3, r2
  59 0024 25D0     		beq	.L7
  20:Core/Src/Tools/tim_info.c **** 		return 5;
  21:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM6)
  60              		.loc 1 21 2 is_stmt 1 view .LVU12
  61              		.loc 1 21 4 is_stmt 0 view .LVU13
  62 0026 02F58062 		add	r2, r2, #1024
  63 002a 9342     		cmp	r3, r2
  64 002c 23D0     		beq	.L8
  22:Core/Src/Tools/tim_info.c **** 		return 6;
  23:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM7)
  65              		.loc 1 23 2 is_stmt 1 view .LVU14
  66              		.loc 1 23 4 is_stmt 0 view .LVU15
  67 002e 02F58062 		add	r2, r2, #1024
  68 0032 9342     		cmp	r3, r2
  69 0034 21D0     		beq	.L9
  24:Core/Src/Tools/tim_info.c **** 		return 7;
  25:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM8)
  70              		.loc 1 25 2 is_stmt 1 view .LVU16
  71              		.loc 1 25 4 is_stmt 0 view .LVU17
  72 0036 02F57042 		add	r2, r2, #61440
  73 003a 9342     		cmp	r3, r2
  74 003c 1FD0     		beq	.L10
  26:Core/Src/Tools/tim_info.c **** 		return 8;
  27:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM9)
  75              		.loc 1 27 2 is_stmt 1 view .LVU18
  76              		.loc 1 27 4 is_stmt 0 view .LVU19
  77 003e 02F57052 		add	r2, r2, #15360
  78 0042 9342     		cmp	r3, r2
  79 0044 1DD0     		beq	.L11
  28:Core/Src/Tools/tim_info.c **** 		return 9;
  29:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM10)
  80              		.loc 1 29 2 is_stmt 1 view .LVU20
  81              		.loc 1 29 4 is_stmt 0 view .LVU21
  82 0046 02F58062 		add	r2, r2, #1024
  83 004a 9342     		cmp	r3, r2
  84 004c 1BD0     		beq	.L12
  30:Core/Src/Tools/tim_info.c **** 		return 10;
  31:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM11)
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 3


  85              		.loc 1 31 2 is_stmt 1 view .LVU22
  86              		.loc 1 31 4 is_stmt 0 view .LVU23
  87 004e 02F58062 		add	r2, r2, #1024
  88 0052 9342     		cmp	r3, r2
  89 0054 19D0     		beq	.L13
  32:Core/Src/Tools/tim_info.c **** 		return 11;
  33:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM12)
  90              		.loc 1 33 2 is_stmt 1 view .LVU24
  91              		.loc 1 33 4 is_stmt 0 view .LVU25
  92 0056 A2F59832 		sub	r2, r2, #77824
  93 005a 9342     		cmp	r3, r2
  94 005c 17D0     		beq	.L14
  34:Core/Src/Tools/tim_info.c **** 		return 12;
  35:Core/Src/Tools/tim_info.c **** 
  36:Core/Src/Tools/tim_info.c **** 	return 0;
  95              		.loc 1 36 9 view .LVU26
  96 005e 0020     		movs	r0, #0
  97              	.LVL1:
  98              		.loc 1 36 9 view .LVU27
  99 0060 7047     		bx	lr
 100              	.LVL2:
 101              	.L3:
  12:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM2)
 102              		.loc 1 12 10 view .LVU28
 103 0062 0120     		movs	r0, #1
 104              	.LVL3:
  12:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM2)
 105              		.loc 1 12 10 view .LVU29
 106 0064 7047     		bx	lr
 107              	.LVL4:
 108              	.L4:
  14:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM3)
 109              		.loc 1 14 10 view .LVU30
 110 0066 0220     		movs	r0, #2
 111              	.LVL5:
  14:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM3)
 112              		.loc 1 14 10 view .LVU31
 113 0068 7047     		bx	lr
 114              	.LVL6:
 115              	.L5:
  16:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM4)
 116              		.loc 1 16 10 view .LVU32
 117 006a 0320     		movs	r0, #3
 118              	.LVL7:
  16:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM4)
 119              		.loc 1 16 10 view .LVU33
 120 006c 7047     		bx	lr
 121              	.LVL8:
 122              	.L6:
  18:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM5)
 123              		.loc 1 18 10 view .LVU34
 124 006e 0420     		movs	r0, #4
 125              	.LVL9:
  18:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM5)
 126              		.loc 1 18 10 view .LVU35
 127 0070 7047     		bx	lr
 128              	.LVL10:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 4


 129              	.L7:
  20:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM6)
 130              		.loc 1 20 10 view .LVU36
 131 0072 0520     		movs	r0, #5
 132              	.LVL11:
  20:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM6)
 133              		.loc 1 20 10 view .LVU37
 134 0074 7047     		bx	lr
 135              	.LVL12:
 136              	.L8:
  22:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM7)
 137              		.loc 1 22 10 view .LVU38
 138 0076 0620     		movs	r0, #6
 139              	.LVL13:
  22:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM7)
 140              		.loc 1 22 10 view .LVU39
 141 0078 7047     		bx	lr
 142              	.LVL14:
 143              	.L9:
  24:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM8)
 144              		.loc 1 24 10 view .LVU40
 145 007a 0720     		movs	r0, #7
 146              	.LVL15:
  24:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM8)
 147              		.loc 1 24 10 view .LVU41
 148 007c 7047     		bx	lr
 149              	.LVL16:
 150              	.L10:
  26:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM9)
 151              		.loc 1 26 10 view .LVU42
 152 007e 0820     		movs	r0, #8
 153              	.LVL17:
  26:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM9)
 154              		.loc 1 26 10 view .LVU43
 155 0080 7047     		bx	lr
 156              	.LVL18:
 157              	.L11:
  28:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM10)
 158              		.loc 1 28 10 view .LVU44
 159 0082 0920     		movs	r0, #9
 160              	.LVL19:
  28:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM10)
 161              		.loc 1 28 10 view .LVU45
 162 0084 7047     		bx	lr
 163              	.LVL20:
 164              	.L12:
  30:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM11)
 165              		.loc 1 30 10 view .LVU46
 166 0086 0A20     		movs	r0, #10
 167              	.LVL21:
  30:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM11)
 168              		.loc 1 30 10 view .LVU47
 169 0088 7047     		bx	lr
 170              	.LVL22:
 171              	.L13:
  32:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM12)
 172              		.loc 1 32 10 view .LVU48
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 5


 173 008a 0B20     		movs	r0, #11
 174              	.LVL23:
  32:Core/Src/Tools/tim_info.c **** 	if(htim->Instance == TIM12)
 175              		.loc 1 32 10 view .LVU49
 176 008c 7047     		bx	lr
 177              	.LVL24:
 178              	.L14:
  34:Core/Src/Tools/tim_info.c **** 
 179              		.loc 1 34 10 view .LVU50
 180 008e 0C20     		movs	r0, #12
 181              	.LVL25:
  37:Core/Src/Tools/tim_info.c **** }
 182              		.loc 1 37 1 view .LVU51
 183 0090 7047     		bx	lr
 184              	.L16:
 185 0092 00BF     		.align	2
 186              	.L15:
 187 0094 00000140 		.word	1073807360
 188              		.cfi_endproc
 189              	.LFE238:
 191              		.section	.rodata.getAHB_CLK_DIVIDER.str1.4,"aMS",%progbits,1
 192              		.align	2
 193              	.LC0:
 194 0000 41484220 		.ascii	"AHB CLK Divider is Error!!\015\000"
 194      434C4B20 
 194      44697669 
 194      64657220 
 194      69732045 
 195              		.section	.text.getAHB_CLK_DIVIDER,"ax",%progbits
 196              		.align	1
 197              		.syntax unified
 198              		.thumb
 199              		.thumb_func
 201              	getAHB_CLK_DIVIDER:
 202              	.LFB239:
  38:Core/Src/Tools/tim_info.c **** static uint32_t getAHB_CLK_DIVIDER(){
 203              		.loc 1 38 37 is_stmt 1 view -0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207 0000 08B5     		push	{r3, lr}
 208              	.LCFI0:
 209              		.cfi_def_cfa_offset 8
 210              		.cfi_offset 3, -8
 211              		.cfi_offset 14, -4
  39:Core/Src/Tools/tim_info.c **** 
  40:Core/Src/Tools/tim_info.c **** 	uint32_t rcc_config = RCC->CFGR;
 212              		.loc 1 40 2 view .LVU53
 213              		.loc 1 40 11 is_stmt 0 view .LVU54
 214 0002 184B     		ldr	r3, .L36
 215 0004 9B68     		ldr	r3, [r3, #8]
 216              	.LVL26:
  41:Core/Src/Tools/tim_info.c **** 
  42:Core/Src/Tools/tim_info.c **** 	uint32_t AHB_CLK_Divider = READ_BIT(rcc_config, RCC_CFGR_HPRE);
 217              		.loc 1 42 2 is_stmt 1 view .LVU55
 218              		.loc 1 42 11 is_stmt 0 view .LVU56
 219 0006 03F0F003 		and	r3, r3, #240
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 6


 220              	.LVL27:
  43:Core/Src/Tools/tim_info.c **** 
  44:Core/Src/Tools/tim_info.c **** 	switch(AHB_CLK_Divider){
 221              		.loc 1 44 2 is_stmt 1 view .LVU57
 222 000a B02B     		cmp	r3, #176
 223 000c 1FD0     		beq	.L23
 224 000e 07D9     		bls	.L33
 225 0010 E02B     		cmp	r3, #224
 226 0012 22D0     		beq	.L28
 227 0014 10D9     		bls	.L34
 228 0016 F02B     		cmp	r3, #240
 229 0018 14D1     		bne	.L21
  45:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV1:
  46:Core/Src/Tools/tim_info.c **** 		return 1;
  47:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV2:
  48:Core/Src/Tools/tim_info.c **** 		return 2;
  49:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV4:
  50:Core/Src/Tools/tim_info.c **** 		return 4;
  51:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV8:
  52:Core/Src/Tools/tim_info.c **** 		return 8;
  53:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV16:
  54:Core/Src/Tools/tim_info.c **** 		return 16;
  55:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV64:
  56:Core/Src/Tools/tim_info.c **** 		return 64;
  57:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV128:
  58:Core/Src/Tools/tim_info.c **** 		return 128;
  59:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV256:
  60:Core/Src/Tools/tim_info.c **** 		return 256;
  61:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV512:
  62:Core/Src/Tools/tim_info.c **** 		return 512;
 230              		.loc 1 62 10 is_stmt 0 view .LVU58
 231 001a 4FF40070 		mov	r0, #512
 232 001e 0AE0     		b	.L17
 233              	.L33:
  44:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV1:
 234              		.loc 1 44 2 view .LVU59
 235 0020 902B     		cmp	r3, #144
 236 0022 16D0     		beq	.L24
 237 0024 03D9     		bls	.L35
 238 0026 A02B     		cmp	r3, #160
 239 0028 0CD1     		bne	.L21
  52:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV16:
 240              		.loc 1 52 10 view .LVU60
 241 002a 0820     		movs	r0, #8
 242 002c 03E0     		b	.L17
 243              	.L35:
  44:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV1:
 244              		.loc 1 44 2 view .LVU61
 245 002e 93B1     		cbz	r3, .L25
 246 0030 802B     		cmp	r3, #128
 247 0032 07D1     		bne	.L21
  48:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV4:
 248              		.loc 1 48 10 view .LVU62
 249 0034 0220     		movs	r0, #2
 250              	.LVL28:
 251              	.L17:
  63:Core/Src/Tools/tim_info.c **** 	default :
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 7


  64:Core/Src/Tools/tim_info.c **** 		printf("AHB CLK Divider is Error!!\r\n");
  65:Core/Src/Tools/tim_info.c **** 		return 0;
  66:Core/Src/Tools/tim_info.c **** 	}
  67:Core/Src/Tools/tim_info.c **** }
 252              		.loc 1 67 1 view .LVU63
 253 0036 08BD     		pop	{r3, pc}
 254              	.LVL29:
 255              	.L34:
  44:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV1:
 256              		.loc 1 44 2 view .LVU64
 257 0038 C02B     		cmp	r3, #192
 258 003a 11D0     		beq	.L29
 259 003c D02B     		cmp	r3, #208
 260 003e 01D1     		bne	.L21
  58:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV256:
 261              		.loc 1 58 10 view .LVU65
 262 0040 8020     		movs	r0, #128
 263 0042 F8E7     		b	.L17
 264              	.L21:
  64:Core/Src/Tools/tim_info.c **** 		return 0;
 265              		.loc 1 64 3 is_stmt 1 view .LVU66
 266 0044 0848     		ldr	r0, .L36+4
 267 0046 FFF7FEFF 		bl	puts
 268              	.LVL30:
  65:Core/Src/Tools/tim_info.c **** 	}
 269              		.loc 1 65 3 view .LVU67
  65:Core/Src/Tools/tim_info.c **** 	}
 270              		.loc 1 65 10 is_stmt 0 view .LVU68
 271 004a 0020     		movs	r0, #0
 272 004c F3E7     		b	.L17
 273              	.LVL31:
 274              	.L23:
  54:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV64:
 275              		.loc 1 54 10 view .LVU69
 276 004e 1020     		movs	r0, #16
 277 0050 F1E7     		b	.L17
 278              	.L24:
  50:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV8:
 279              		.loc 1 50 10 view .LVU70
 280 0052 0420     		movs	r0, #4
 281 0054 EFE7     		b	.L17
 282              	.L25:
  44:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV1:
 283              		.loc 1 44 2 view .LVU71
 284 0056 0120     		movs	r0, #1
 285 0058 EDE7     		b	.L17
 286              	.L28:
  60:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV512:
 287              		.loc 1 60 10 view .LVU72
 288 005a 4FF48070 		mov	r0, #256
 289 005e EAE7     		b	.L17
 290              	.L29:
  56:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_HPRE_DIV128:
 291              		.loc 1 56 10 view .LVU73
 292 0060 4020     		movs	r0, #64
 293 0062 E8E7     		b	.L17
 294              	.L37:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 8


 295              		.align	2
 296              	.L36:
 297 0064 00380240 		.word	1073887232
 298 0068 00000000 		.word	.LC0
 299              		.cfi_endproc
 300              	.LFE239:
 302              		.section	.rodata.getAPB2_CLK_DIVIDER.str1.4,"aMS",%progbits,1
 303              		.align	2
 304              	.LC1:
 305 0000 41504232 		.ascii	"APB2 CLK Divider is Error!!\015\000"
 305      20434C4B 
 305      20446976 
 305      69646572 
 305      20697320 
 306              		.section	.text.getAPB2_CLK_DIVIDER,"ax",%progbits
 307              		.align	1
 308              		.syntax unified
 309              		.thumb
 310              		.thumb_func
 312              	getAPB2_CLK_DIVIDER:
 313              	.LFB241:
  68:Core/Src/Tools/tim_info.c **** static uint32_t getAPB1_CLK_DIVIDER(){
  69:Core/Src/Tools/tim_info.c **** 
  70:Core/Src/Tools/tim_info.c **** 	uint32_t rcc_config = RCC->CFGR;
  71:Core/Src/Tools/tim_info.c **** 
  72:Core/Src/Tools/tim_info.c **** 	uint32_t APB1_CLK_Divider = READ_BIT(rcc_config, RCC_CFGR_PPRE1);
  73:Core/Src/Tools/tim_info.c **** 
  74:Core/Src/Tools/tim_info.c **** 	switch(APB1_CLK_Divider){
  75:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV1:
  76:Core/Src/Tools/tim_info.c **** 		return 1;
  77:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV2:
  78:Core/Src/Tools/tim_info.c **** 		return 2;
  79:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV4:
  80:Core/Src/Tools/tim_info.c **** 		return 4;
  81:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV8:
  82:Core/Src/Tools/tim_info.c **** 		return 8;
  83:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV16:
  84:Core/Src/Tools/tim_info.c **** 		return 16;
  85:Core/Src/Tools/tim_info.c **** 	default :
  86:Core/Src/Tools/tim_info.c **** 		printf("APB1 CLK Divider is Error!!\r\n");
  87:Core/Src/Tools/tim_info.c **** 		return 0;
  88:Core/Src/Tools/tim_info.c **** 	}
  89:Core/Src/Tools/tim_info.c **** }
  90:Core/Src/Tools/tim_info.c **** static uint32_t getAPB2_CLK_DIVIDER(){
 314              		.loc 1 90 38 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318 0000 08B5     		push	{r3, lr}
 319              	.LCFI1:
 320              		.cfi_def_cfa_offset 8
 321              		.cfi_offset 3, -8
 322              		.cfi_offset 14, -4
  91:Core/Src/Tools/tim_info.c **** 
  92:Core/Src/Tools/tim_info.c **** 	uint32_t rcc_config = RCC->CFGR;
 323              		.loc 1 92 2 view .LVU75
 324              		.loc 1 92 11 is_stmt 0 view .LVU76
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 9


 325 0002 104B     		ldr	r3, .L49
 326 0004 9B68     		ldr	r3, [r3, #8]
 327              	.LVL32:
  93:Core/Src/Tools/tim_info.c **** 
  94:Core/Src/Tools/tim_info.c **** 	uint32_t APB2_CLK_Divider = READ_BIT(rcc_config, RCC_CFGR_PPRE2);
 328              		.loc 1 94 2 is_stmt 1 view .LVU77
 329              		.loc 1 94 11 is_stmt 0 view .LVU78
 330 0006 03F46043 		and	r3, r3, #57344
 331              	.LVL33:
  95:Core/Src/Tools/tim_info.c **** 
  96:Core/Src/Tools/tim_info.c **** 	switch(APB2_CLK_Divider){
 332              		.loc 1 96 2 is_stmt 1 view .LVU79
 333 000a B3F5204F 		cmp	r3, #40960
 334 000e 13D0     		beq	.L42
 335 0010 07D9     		bls	.L48
 336 0012 B3F5404F 		cmp	r3, #49152
 337 0016 13D0     		beq	.L45
 338 0018 B3F5604F 		cmp	r3, #57344
 339 001c 07D1     		bne	.L41
  97:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV1:
  98:Core/Src/Tools/tim_info.c **** 		return 1;
  99:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV2:
 100:Core/Src/Tools/tim_info.c **** 		return 2;
 101:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV4:
 102:Core/Src/Tools/tim_info.c **** 		return 4;
 103:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV8:
 104:Core/Src/Tools/tim_info.c **** 		return 8;
 105:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV16:
 106:Core/Src/Tools/tim_info.c **** 		return 16;
 340              		.loc 1 106 10 is_stmt 0 view .LVU80
 341 001e 1020     		movs	r0, #16
 342 0020 04E0     		b	.L38
 343              	.L48:
  96:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV1:
 344              		.loc 1 96 2 view .LVU81
 345 0022 5BB1     		cbz	r3, .L43
 346 0024 B3F5004F 		cmp	r3, #32768
 347 0028 01D1     		bne	.L41
 100:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV4:
 348              		.loc 1 100 10 view .LVU82
 349 002a 0220     		movs	r0, #2
 350              	.LVL34:
 351              	.L38:
 107:Core/Src/Tools/tim_info.c **** 	default :
 108:Core/Src/Tools/tim_info.c **** 		printf("APB2 CLK Divider is Error!!\r\n");
 109:Core/Src/Tools/tim_info.c **** 		return 0;
 110:Core/Src/Tools/tim_info.c **** 	}
 111:Core/Src/Tools/tim_info.c **** }
 352              		.loc 1 111 1 view .LVU83
 353 002c 08BD     		pop	{r3, pc}
 354              	.LVL35:
 355              	.L41:
 108:Core/Src/Tools/tim_info.c **** 		return 0;
 356              		.loc 1 108 3 is_stmt 1 view .LVU84
 357 002e 0648     		ldr	r0, .L49+4
 358 0030 FFF7FEFF 		bl	puts
 359              	.LVL36:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 10


 109:Core/Src/Tools/tim_info.c **** 	}
 360              		.loc 1 109 3 view .LVU85
 109:Core/Src/Tools/tim_info.c **** 	}
 361              		.loc 1 109 10 is_stmt 0 view .LVU86
 362 0034 0020     		movs	r0, #0
 363 0036 F9E7     		b	.L38
 364              	.LVL37:
 365              	.L42:
 102:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV8:
 366              		.loc 1 102 10 view .LVU87
 367 0038 0420     		movs	r0, #4
 368 003a F7E7     		b	.L38
 369              	.L43:
  96:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV1:
 370              		.loc 1 96 2 view .LVU88
 371 003c 0120     		movs	r0, #1
 372 003e F5E7     		b	.L38
 373              	.L45:
 104:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE2_DIV16:
 374              		.loc 1 104 10 view .LVU89
 375 0040 0820     		movs	r0, #8
 376 0042 F3E7     		b	.L38
 377              	.L50:
 378              		.align	2
 379              	.L49:
 380 0044 00380240 		.word	1073887232
 381 0048 00000000 		.word	.LC1
 382              		.cfi_endproc
 383              	.LFE241:
 385              		.section	.rodata.getAPB1_CLK_DIVIDER.str1.4,"aMS",%progbits,1
 386              		.align	2
 387              	.LC2:
 388 0000 41504231 		.ascii	"APB1 CLK Divider is Error!!\015\000"
 388      20434C4B 
 388      20446976 
 388      69646572 
 388      20697320 
 389              		.section	.text.getAPB1_CLK_DIVIDER,"ax",%progbits
 390              		.align	1
 391              		.syntax unified
 392              		.thumb
 393              		.thumb_func
 395              	getAPB1_CLK_DIVIDER:
 396              	.LFB240:
  68:Core/Src/Tools/tim_info.c **** 
 397              		.loc 1 68 38 is_stmt 1 view -0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 0, uses_anonymous_args = 0
 401 0000 08B5     		push	{r3, lr}
 402              	.LCFI2:
 403              		.cfi_def_cfa_offset 8
 404              		.cfi_offset 3, -8
 405              		.cfi_offset 14, -4
  70:Core/Src/Tools/tim_info.c **** 
 406              		.loc 1 70 2 view .LVU91
  70:Core/Src/Tools/tim_info.c **** 
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 11


 407              		.loc 1 70 11 is_stmt 0 view .LVU92
 408 0002 104B     		ldr	r3, .L62
 409 0004 9B68     		ldr	r3, [r3, #8]
 410              	.LVL38:
  72:Core/Src/Tools/tim_info.c **** 
 411              		.loc 1 72 2 is_stmt 1 view .LVU93
  72:Core/Src/Tools/tim_info.c **** 
 412              		.loc 1 72 11 is_stmt 0 view .LVU94
 413 0006 03F4E053 		and	r3, r3, #7168
 414              	.LVL39:
  74:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV1:
 415              		.loc 1 74 2 is_stmt 1 view .LVU95
 416 000a B3F5A05F 		cmp	r3, #5120
 417 000e 13D0     		beq	.L55
 418 0010 07D9     		bls	.L61
 419 0012 B3F5C05F 		cmp	r3, #6144
 420 0016 13D0     		beq	.L58
 421 0018 B3F5E05F 		cmp	r3, #7168
 422 001c 07D1     		bne	.L54
  84:Core/Src/Tools/tim_info.c **** 	default :
 423              		.loc 1 84 10 is_stmt 0 view .LVU96
 424 001e 1020     		movs	r0, #16
 425 0020 04E0     		b	.L51
 426              	.L61:
  74:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV1:
 427              		.loc 1 74 2 view .LVU97
 428 0022 5BB1     		cbz	r3, .L56
 429 0024 B3F5805F 		cmp	r3, #4096
 430 0028 01D1     		bne	.L54
  78:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV4:
 431              		.loc 1 78 10 view .LVU98
 432 002a 0220     		movs	r0, #2
 433              	.LVL40:
 434              	.L51:
  89:Core/Src/Tools/tim_info.c **** static uint32_t getAPB2_CLK_DIVIDER(){
 435              		.loc 1 89 1 view .LVU99
 436 002c 08BD     		pop	{r3, pc}
 437              	.LVL41:
 438              	.L54:
  86:Core/Src/Tools/tim_info.c **** 		return 0;
 439              		.loc 1 86 3 is_stmt 1 view .LVU100
 440 002e 0648     		ldr	r0, .L62+4
 441 0030 FFF7FEFF 		bl	puts
 442              	.LVL42:
  87:Core/Src/Tools/tim_info.c **** 	}
 443              		.loc 1 87 3 view .LVU101
  87:Core/Src/Tools/tim_info.c **** 	}
 444              		.loc 1 87 10 is_stmt 0 view .LVU102
 445 0034 0020     		movs	r0, #0
 446 0036 F9E7     		b	.L51
 447              	.LVL43:
 448              	.L55:
  80:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV8:
 449              		.loc 1 80 10 view .LVU103
 450 0038 0420     		movs	r0, #4
 451 003a F7E7     		b	.L51
 452              	.L56:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 12


  74:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV1:
 453              		.loc 1 74 2 view .LVU104
 454 003c 0120     		movs	r0, #1
 455 003e F5E7     		b	.L51
 456              	.L58:
  82:Core/Src/Tools/tim_info.c **** 	case RCC_CFGR_PPRE1_DIV16:
 457              		.loc 1 82 10 view .LVU105
 458 0040 0820     		movs	r0, #8
 459 0042 F3E7     		b	.L51
 460              	.L63:
 461              		.align	2
 462              	.L62:
 463 0044 00380240 		.word	1073887232
 464 0048 00000000 		.word	.LC2
 465              		.cfi_endproc
 466              	.LFE240:
 468              		.section	.rodata.printTIMclock.str1.4,"aMS",%progbits,1
 469              		.align	2
 470              	.LC3:
 471 0000 54494D20 		.ascii	"TIM %d\015\012\000"
 471      25640D0A 
 471      00
 472 0009 000000   		.align	2
 473              	.LC4:
 474 000c 0948434C 		.ascii	"\011HCLK : %lu Hz\015\012  \011AHBDivider : %lu\015"
 474      4B203A20 
 474      256C7520 
 474      487A0D0A 
 474      20200941 
 475 0030 0A00     		.ascii	"\012\000"
 476 0032 0000     		.align	2
 477              	.LC5:
 478 0034 09415042 		.ascii	"\011APB2Divider : %lu\015\012\000"
 478      32446976 
 478      69646572 
 478      203A2025 
 478      6C750D0A 
 479 0049 000000   		.align	2
 480              	.LC6:
 481 004c 09415042 		.ascii	"\011APB1Divider : %lu\015\012\000"
 481      31446976 
 481      69646572 
 481      203A2025 
 481      6C750D0A 
 482 0061 000000   		.align	2
 483              	.LC7:
 484 0064 0954494D 		.ascii	"\011TIM %d Clock Source is : %lu Hz\015\012\000"
 484      20256420 
 484      436C6F63 
 484      6B20536F 
 484      75726365 
 485              		.section	.text.printTIMclock,"ax",%progbits
 486              		.align	1
 487              		.syntax unified
 488              		.thumb
 489              		.thumb_func
 491              	printTIMclock:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 13


 492              	.LVL44:
 493              	.LFB242:
 112:Core/Src/Tools/tim_info.c **** static uint32_t printTIMclock(TIM_HandleTypeDef *htim){
 494              		.loc 1 112 55 is_stmt 1 view -0
 495              		.cfi_startproc
 496              		@ args = 0, pretend = 0, frame = 24
 497              		@ frame_needed = 0, uses_anonymous_args = 0
 498              		.loc 1 112 55 is_stmt 0 view .LVU107
 499 0000 70B5     		push	{r4, r5, r6, lr}
 500              	.LCFI3:
 501              		.cfi_def_cfa_offset 16
 502              		.cfi_offset 4, -16
 503              		.cfi_offset 5, -12
 504              		.cfi_offset 6, -8
 505              		.cfi_offset 14, -4
 506 0002 86B0     		sub	sp, sp, #24
 507              	.LCFI4:
 508              		.cfi_def_cfa_offset 40
 509 0004 0546     		mov	r5, r0
 113:Core/Src/Tools/tim_info.c **** 
 114:Core/Src/Tools/tim_info.c **** 
 115:Core/Src/Tools/tim_info.c **** 	RCC_ClkInitTypeDef clk = {0};
 510              		.loc 1 115 2 is_stmt 1 view .LVU108
 511              		.loc 1 115 21 is_stmt 0 view .LVU109
 512 0006 0023     		movs	r3, #0
 513 0008 0193     		str	r3, [sp, #4]
 514 000a 0293     		str	r3, [sp, #8]
 515 000c 0393     		str	r3, [sp, #12]
 516 000e 0493     		str	r3, [sp, #16]
 517 0010 0593     		str	r3, [sp, #20]
 116:Core/Src/Tools/tim_info.c **** 	uint32_t HCLK;
 518              		.loc 1 116 2 is_stmt 1 view .LVU110
 117:Core/Src/Tools/tim_info.c **** 	clk.AHBCLKDivider= getAHB_CLK_DIVIDER();
 519              		.loc 1 117 2 view .LVU111
 520              		.loc 1 117 21 is_stmt 0 view .LVU112
 521 0012 FFF7FEFF 		bl	getAHB_CLK_DIVIDER
 522              	.LVL45:
 523              		.loc 1 117 21 view .LVU113
 524 0016 0446     		mov	r4, r0
 525              		.loc 1 117 19 view .LVU114
 526 0018 0390     		str	r0, [sp, #12]
 118:Core/Src/Tools/tim_info.c **** 	if(clk.AHBCLKDivider == 0) return 0;
 527              		.loc 1 118 2 is_stmt 1 view .LVU115
 528              		.loc 1 118 4 is_stmt 0 view .LVU116
 529 001a 10B9     		cbnz	r0, .L72
 530              	.LVL46:
 531              	.L64:
 119:Core/Src/Tools/tim_info.c **** 	else HCLK = SystemCoreClock / (clk.AHBCLKDivider);
 120:Core/Src/Tools/tim_info.c **** 
 121:Core/Src/Tools/tim_info.c **** 	int tim_number = getTIMnumber(htim);
 122:Core/Src/Tools/tim_info.c **** 	printf("TIM %d\r\n", tim_number);
 123:Core/Src/Tools/tim_info.c **** 	printf("	HCLK : %lu Hz\r\n  	AHBDivider : %lu\r\n", HCLK, clk.AHBCLKDivider);
 124:Core/Src/Tools/tim_info.c **** 
 125:Core/Src/Tools/tim_info.c **** 	//	//TIM„Å´„Çà„Å£„Å¶APB1„ÅãAPB2
 126:Core/Src/Tools/tim_info.c **** 	uint32_t MyTIMCLK;
 127:Core/Src/Tools/tim_info.c **** 	switch(tim_number){
 128:Core/Src/Tools/tim_info.c **** 	case 1: //High Speed
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 14


 129:Core/Src/Tools/tim_info.c **** 	case 8:
 130:Core/Src/Tools/tim_info.c **** 		clk.APB2CLKDivider = getAPB2_CLK_DIVIDER();
 131:Core/Src/Tools/tim_info.c **** 		if(clk.APB2CLKDivider == 0) return 0;
 132:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB2CLKDivider))*1;
 133:Core/Src/Tools/tim_info.c **** 		printf("	APB2Divider : %lu\r\n", clk.APB2CLKDivider);
 134:Core/Src/Tools/tim_info.c **** 		break;
 135:Core/Src/Tools/tim_info.c **** 	case 2: //Low Speed
 136:Core/Src/Tools/tim_info.c **** 	case 3:
 137:Core/Src/Tools/tim_info.c **** 	case 4:
 138:Core/Src/Tools/tim_info.c **** 	case 5:
 139:Core/Src/Tools/tim_info.c **** 	case 6:
 140:Core/Src/Tools/tim_info.c **** 	case 7:
 141:Core/Src/Tools/tim_info.c **** 		clk.APB1CLKDivider = getAPB1_CLK_DIVIDER();
 142:Core/Src/Tools/tim_info.c **** 		if(clk.APB1CLKDivider == 0) return 0;
 143:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB1CLKDivider))*2;
 144:Core/Src/Tools/tim_info.c **** 		printf("	APB1Divider : %lu\r\n", clk.APB1CLKDivider);
 145:Core/Src/Tools/tim_info.c **** 		break;
 146:Core/Src/Tools/tim_info.c **** 	default:
 147:Core/Src/Tools/tim_info.c **** 		return 0;
 148:Core/Src/Tools/tim_info.c **** 		break;
 149:Core/Src/Tools/tim_info.c **** 	}
 150:Core/Src/Tools/tim_info.c **** 
 151:Core/Src/Tools/tim_info.c **** 	printf("	TIM %d Clock Source is : %lu Hz\r\n",tim_number, MyTIMCLK);
 152:Core/Src/Tools/tim_info.c **** 	return MyTIMCLK;
 153:Core/Src/Tools/tim_info.c **** }
 532              		.loc 1 153 1 view .LVU117
 533 001c 2046     		mov	r0, r4
 534 001e 06B0     		add	sp, sp, #24
 535              	.LCFI5:
 536              		.cfi_remember_state
 537              		.cfi_def_cfa_offset 16
 538              		@ sp needed
 539 0020 70BD     		pop	{r4, r5, r6, pc}
 540              	.LVL47:
 541              	.L72:
 542              	.LCFI6:
 543              		.cfi_restore_state
 119:Core/Src/Tools/tim_info.c **** 	else HCLK = SystemCoreClock / (clk.AHBCLKDivider);
 544              		.loc 1 119 7 is_stmt 1 view .LVU118
 119:Core/Src/Tools/tim_info.c **** 	else HCLK = SystemCoreClock / (clk.AHBCLKDivider);
 545              		.loc 1 119 30 is_stmt 0 view .LVU119
 546 0022 1F4B     		ldr	r3, .L73
 547 0024 1E68     		ldr	r6, [r3]
 119:Core/Src/Tools/tim_info.c **** 	else HCLK = SystemCoreClock / (clk.AHBCLKDivider);
 548              		.loc 1 119 12 view .LVU120
 549 0026 B6FBF0F6 		udiv	r6, r6, r0
 550              	.LVL48:
 121:Core/Src/Tools/tim_info.c **** 	printf("TIM %d\r\n", tim_number);
 551              		.loc 1 121 2 is_stmt 1 view .LVU121
 121:Core/Src/Tools/tim_info.c **** 	printf("TIM %d\r\n", tim_number);
 552              		.loc 1 121 19 is_stmt 0 view .LVU122
 553 002a 2846     		mov	r0, r5
 554 002c FFF7FEFF 		bl	getTIMnumber
 555              	.LVL49:
 556 0030 0546     		mov	r5, r0
 557              	.LVL50:
 122:Core/Src/Tools/tim_info.c **** 	printf("	HCLK : %lu Hz\r\n  	AHBDivider : %lu\r\n", HCLK, clk.AHBCLKDivider);
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 15


 558              		.loc 1 122 2 is_stmt 1 view .LVU123
 559 0032 0146     		mov	r1, r0
 560 0034 1B48     		ldr	r0, .L73+4
 561              	.LVL51:
 122:Core/Src/Tools/tim_info.c **** 	printf("	HCLK : %lu Hz\r\n  	AHBDivider : %lu\r\n", HCLK, clk.AHBCLKDivider);
 562              		.loc 1 122 2 is_stmt 0 view .LVU124
 563 0036 FFF7FEFF 		bl	printf
 564              	.LVL52:
 123:Core/Src/Tools/tim_info.c **** 
 565              		.loc 1 123 2 is_stmt 1 view .LVU125
 566 003a 2246     		mov	r2, r4
 567 003c 3146     		mov	r1, r6
 568 003e 1A48     		ldr	r0, .L73+8
 569 0040 FFF7FEFF 		bl	printf
 570              	.LVL53:
 126:Core/Src/Tools/tim_info.c **** 	switch(tim_number){
 571              		.loc 1 126 2 view .LVU126
 127:Core/Src/Tools/tim_info.c **** 	case 1: //High Speed
 572              		.loc 1 127 2 view .LVU127
 573 0044 072D     		cmp	r5, #7
 574 0046 05DC     		bgt	.L66
 575 0048 022D     		cmp	r5, #2
 576 004a 18DA     		bge	.L67
 577 004c 012D     		cmp	r5, #1
 578 004e 03D0     		beq	.L68
 579 0050 0024     		movs	r4, #0
 580 0052 E3E7     		b	.L64
 581              	.L66:
 582 0054 082D     		cmp	r5, #8
 583 0056 21D1     		bne	.L70
 584              	.L68:
 130:Core/Src/Tools/tim_info.c **** 		if(clk.APB2CLKDivider == 0) return 0;
 585              		.loc 1 130 3 view .LVU128
 130:Core/Src/Tools/tim_info.c **** 		if(clk.APB2CLKDivider == 0) return 0;
 586              		.loc 1 130 24 is_stmt 0 view .LVU129
 587 0058 FFF7FEFF 		bl	getAPB2_CLK_DIVIDER
 588              	.LVL54:
 589 005c 0446     		mov	r4, r0
 130:Core/Src/Tools/tim_info.c **** 		if(clk.APB2CLKDivider == 0) return 0;
 590              		.loc 1 130 22 view .LVU130
 591 005e 0590     		str	r0, [sp, #20]
 131:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB2CLKDivider))*1;
 592              		.loc 1 131 3 is_stmt 1 view .LVU131
 131:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB2CLKDivider))*1;
 593              		.loc 1 131 5 is_stmt 0 view .LVU132
 594 0060 0028     		cmp	r0, #0
 595 0062 DBD0     		beq	.L64
 132:Core/Src/Tools/tim_info.c **** 		printf("	APB2Divider : %lu\r\n", clk.APB2CLKDivider);
 596              		.loc 1 132 8 is_stmt 1 view .LVU133
 132:Core/Src/Tools/tim_info.c **** 		printf("	APB2Divider : %lu\r\n", clk.APB2CLKDivider);
 597              		.loc 1 132 17 is_stmt 0 view .LVU134
 598 0064 B6FBF0F6 		udiv	r6, r6, r0
 599              	.LVL55:
 133:Core/Src/Tools/tim_info.c **** 		break;
 600              		.loc 1 133 3 is_stmt 1 view .LVU135
 601 0068 0146     		mov	r1, r0
 602 006a 1048     		ldr	r0, .L73+12
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 16


 603 006c FFF7FEFF 		bl	printf
 604              	.LVL56:
 134:Core/Src/Tools/tim_info.c **** 	case 2: //Low Speed
 605              		.loc 1 134 3 view .LVU136
 132:Core/Src/Tools/tim_info.c **** 		printf("	APB2Divider : %lu\r\n", clk.APB2CLKDivider);
 606              		.loc 1 132 17 is_stmt 0 view .LVU137
 607 0070 3446     		mov	r4, r6
 608              	.LVL57:
 609              	.L69:
 148:Core/Src/Tools/tim_info.c **** 	}
 610              		.loc 1 148 3 is_stmt 1 view .LVU138
 151:Core/Src/Tools/tim_info.c **** 	return MyTIMCLK;
 611              		.loc 1 151 2 view .LVU139
 612 0072 2246     		mov	r2, r4
 613 0074 2946     		mov	r1, r5
 614 0076 0E48     		ldr	r0, .L73+16
 615 0078 FFF7FEFF 		bl	printf
 616              	.LVL58:
 152:Core/Src/Tools/tim_info.c **** }
 617              		.loc 1 152 2 view .LVU140
 152:Core/Src/Tools/tim_info.c **** }
 618              		.loc 1 152 9 is_stmt 0 view .LVU141
 619 007c CEE7     		b	.L64
 620              	.LVL59:
 621              	.L67:
 141:Core/Src/Tools/tim_info.c **** 		if(clk.APB1CLKDivider == 0) return 0;
 622              		.loc 1 141 3 is_stmt 1 view .LVU142
 141:Core/Src/Tools/tim_info.c **** 		if(clk.APB1CLKDivider == 0) return 0;
 623              		.loc 1 141 24 is_stmt 0 view .LVU143
 624 007e FFF7FEFF 		bl	getAPB1_CLK_DIVIDER
 625              	.LVL60:
 626 0082 0446     		mov	r4, r0
 141:Core/Src/Tools/tim_info.c **** 		if(clk.APB1CLKDivider == 0) return 0;
 627              		.loc 1 141 22 view .LVU144
 628 0084 0490     		str	r0, [sp, #16]
 142:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB1CLKDivider))*2;
 629              		.loc 1 142 3 is_stmt 1 view .LVU145
 142:Core/Src/Tools/tim_info.c **** 		else MyTIMCLK = (HCLK/(clk.APB1CLKDivider))*2;
 630              		.loc 1 142 5 is_stmt 0 view .LVU146
 631 0086 0028     		cmp	r0, #0
 632 0088 C8D0     		beq	.L64
 143:Core/Src/Tools/tim_info.c **** 		printf("	APB1Divider : %lu\r\n", clk.APB1CLKDivider);
 633              		.loc 1 143 8 is_stmt 1 view .LVU147
 143:Core/Src/Tools/tim_info.c **** 		printf("	APB1Divider : %lu\r\n", clk.APB1CLKDivider);
 634              		.loc 1 143 24 is_stmt 0 view .LVU148
 635 008a B6FBF0F6 		udiv	r6, r6, r0
 636              	.LVL61:
 143:Core/Src/Tools/tim_info.c **** 		printf("	APB1Divider : %lu\r\n", clk.APB1CLKDivider);
 637              		.loc 1 143 17 view .LVU149
 638 008e 7600     		lsls	r6, r6, #1
 639              	.LVL62:
 144:Core/Src/Tools/tim_info.c **** 		break;
 640              		.loc 1 144 3 is_stmt 1 view .LVU150
 641 0090 0146     		mov	r1, r0
 642 0092 0848     		ldr	r0, .L73+20
 643 0094 FFF7FEFF 		bl	printf
 644              	.LVL63:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 17


 145:Core/Src/Tools/tim_info.c **** 	default:
 645              		.loc 1 145 3 view .LVU151
 143:Core/Src/Tools/tim_info.c **** 		printf("	APB1Divider : %lu\r\n", clk.APB1CLKDivider);
 646              		.loc 1 143 17 is_stmt 0 view .LVU152
 647 0098 3446     		mov	r4, r6
 145:Core/Src/Tools/tim_info.c **** 	default:
 648              		.loc 1 145 3 view .LVU153
 649 009a EAE7     		b	.L69
 650              	.LVL64:
 651              	.L70:
 127:Core/Src/Tools/tim_info.c **** 	case 1: //High Speed
 652              		.loc 1 127 2 view .LVU154
 653 009c 0024     		movs	r4, #0
 654 009e BDE7     		b	.L64
 655              	.L74:
 656              		.align	2
 657              	.L73:
 658 00a0 00000000 		.word	SystemCoreClock
 659 00a4 00000000 		.word	.LC3
 660 00a8 0C000000 		.word	.LC4
 661 00ac 34000000 		.word	.LC5
 662 00b0 64000000 		.word	.LC7
 663 00b4 4C000000 		.word	.LC6
 664              		.cfi_endproc
 665              	.LFE242:
 667              		.section	.rodata.printTIMinfo.str1.4,"aMS",%progbits,1
 668              		.align	2
 669              	.LC8:
 670 0000 09507265 		.ascii	"\011Prescaler : %lu ( + 1)\015\012\011CounterPeriod"
 670      7363616C 
 670      6572203A 
 670      20256C75 
 670      2028202B 
 671 0027 203A2025 		.ascii	" : %lu ( + 1)\015\012\011T =  (ClockSource / (Presc"
 671      6C752028 
 671      202B2031 
 671      290D0A09 
 671      54203D20 
 672 0051 616C6572 		.ascii	"aler+1)) / (CounterPeriod+1) = %lu Hz\015\012\015\012"
 672      2B312929 
 672      202F2028 
 672      436F756E 
 672      74657250 
 673 007a 00       		.ascii	"\000"
 674              		.section	.text.printTIMinfo,"ax",%progbits
 675              		.align	1
 676              		.global	printTIMinfo
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 681              	printTIMinfo:
 682              	.LVL65:
 683              	.LFB243:
 154:Core/Src/Tools/tim_info.c **** 
 155:Core/Src/Tools/tim_info.c **** 
 156:Core/Src/Tools/tim_info.c **** int printTIMinfo(TIM_HandleTypeDef *htim){
 684              		.loc 1 156 42 is_stmt 1 view -0
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 18


 685              		.cfi_startproc
 686              		@ args = 0, pretend = 0, frame = 0
 687              		@ frame_needed = 0, uses_anonymous_args = 0
 688              		.loc 1 156 42 is_stmt 0 view .LVU156
 689 0000 10B5     		push	{r4, lr}
 690              	.LCFI7:
 691              		.cfi_def_cfa_offset 8
 692              		.cfi_offset 4, -8
 693              		.cfi_offset 14, -4
 694 0002 0446     		mov	r4, r0
 157:Core/Src/Tools/tim_info.c **** 
 158:Core/Src/Tools/tim_info.c **** 	uint32_t tim_clk  = printTIMclock(htim);
 695              		.loc 1 158 2 is_stmt 1 view .LVU157
 696              		.loc 1 158 22 is_stmt 0 view .LVU158
 697 0004 FFF7FEFF 		bl	printTIMclock
 698              	.LVL66:
 159:Core/Src/Tools/tim_info.c **** 
 160:Core/Src/Tools/tim_info.c **** 	if(tim_clk == 0) return 0;
 699              		.loc 1 160 2 is_stmt 1 view .LVU159
 700              		.loc 1 160 4 is_stmt 0 view .LVU160
 701 0008 08B9     		cbnz	r0, .L79
 702              		.loc 1 160 26 view .LVU161
 703 000a 0020     		movs	r0, #0
 704              	.LVL67:
 705              	.L75:
 161:Core/Src/Tools/tim_info.c **** 	else {
 162:Core/Src/Tools/tim_info.c **** 
 163:Core/Src/Tools/tim_info.c **** 		printf("	Prescaler : %lu ( + 1)\r\n"
 164:Core/Src/Tools/tim_info.c **** 				   "	CounterPeriod : %lu ( + 1)\r\n"
 165:Core/Src/Tools/tim_info.c **** 				   "	T =  (ClockSource / (Prescaler+1)) / (CounterPeriod+1) = %lu Hz\r\n\r\n",
 166:Core/Src/Tools/tim_info.c **** 				htim->Init.Prescaler ,
 167:Core/Src/Tools/tim_info.c **** 				htim->Init.Period,
 168:Core/Src/Tools/tim_info.c **** 				(tim_clk/(htim->Init.Prescaler+1))/(htim->Init.Period+1)
 169:Core/Src/Tools/tim_info.c **** 				 //„ÇØ„É≠„ÉÉ„ÇØ„ÇΩ„Éº„Çπ„ÇÇË°®Á§∫. ÊúÄÁµÇÁöÑ„Å´‰ΩïHz„Åß„Ç´„Ç¶„É≥„Éà„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åã„Åæ„ÅßË°®Á
 170:Core/Src/Tools/tim_info.c **** 				);
 171:Core/Src/Tools/tim_info.c **** 		return 1;
 172:Core/Src/Tools/tim_info.c **** 	}
 173:Core/Src/Tools/tim_info.c **** 
 174:Core/Src/Tools/tim_info.c **** }
 706              		.loc 1 174 1 view .LVU162
 707 000c 10BD     		pop	{r4, pc}
 708              	.LVL68:
 709              	.L79:
 710              		.loc 1 174 1 view .LVU163
 711 000e 0346     		mov	r3, r0
 163:Core/Src/Tools/tim_info.c **** 				   "	CounterPeriod : %lu ( + 1)\r\n"
 712              		.loc 1 163 3 is_stmt 1 view .LVU164
 713 0010 6168     		ldr	r1, [r4, #4]
 714 0012 E268     		ldr	r2, [r4, #12]
 168:Core/Src/Tools/tim_info.c **** 				 //„ÇØ„É≠„ÉÉ„ÇØ„ÇΩ„Éº„Çπ„ÇÇË°®Á§∫. ÊúÄÁµÇÁöÑ„Å´‰ΩïHz„Åß„Ç´„Ç¶„É≥„Éà„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åã„Åæ„ÅßË°®Á
 715              		.loc 1 168 35 is_stmt 0 view .LVU165
 716 0014 481C     		adds	r0, r1, #1
 717              	.LVL69:
 168:Core/Src/Tools/tim_info.c **** 				 //„ÇØ„É≠„ÉÉ„ÇØ„ÇΩ„Éº„Çπ„ÇÇË°®Á§∫. ÊúÄÁµÇÁöÑ„Å´‰ΩïHz„Åß„Ç´„Ç¶„É≥„Éà„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åã„Åæ„ÅßË°®Á
 718              		.loc 1 168 13 view .LVU166
 719 0016 B3FBF0F3 		udiv	r3, r3, r0
 720              	.LVL70:
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 19


 168:Core/Src/Tools/tim_info.c **** 				 //„ÇØ„É≠„ÉÉ„ÇØ„ÇΩ„Éº„Çπ„ÇÇË°®Á§∫. ÊúÄÁµÇÁöÑ„Å´‰ΩïHz„Åß„Ç´„Ç¶„É≥„Éà„Åó„Å¶„ÅÑ„Çã„ÅÆ„Åã„Åæ„ÅßË°®Á
 721              		.loc 1 168 58 view .LVU167
 722 001a 501C     		adds	r0, r2, #1
 163:Core/Src/Tools/tim_info.c **** 				   "	CounterPeriod : %lu ( + 1)\r\n"
 723              		.loc 1 163 3 view .LVU168
 724 001c B3FBF0F3 		udiv	r3, r3, r0
 725 0020 0248     		ldr	r0, .L80
 726 0022 FFF7FEFF 		bl	printf
 727              	.LVL71:
 171:Core/Src/Tools/tim_info.c **** 	}
 728              		.loc 1 171 3 is_stmt 1 view .LVU169
 171:Core/Src/Tools/tim_info.c **** 	}
 729              		.loc 1 171 10 is_stmt 0 view .LVU170
 730 0026 0120     		movs	r0, #1
 731 0028 F0E7     		b	.L75
 732              	.L81:
 733 002a 00BF     		.align	2
 734              	.L80:
 735 002c 00000000 		.word	.LC8
 736              		.cfi_endproc
 737              	.LFE243:
 739              		.text
 740              	.Letext0:
 741              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\machine\\_default_types.
 742              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 743              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 744              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 745              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_rcc.h"
 746              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 747              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 748              		.file 9 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 749              		.file 10 "c:\\tools\\gcc-arm-none-eabi-10_2021.10\\arm-none-eabi\\include\\stdio.h"
 750              		.file 11 "<built-in>"
ARM GAS  C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s 			page 20


DEFINED SYMBOLS
                            *ABS*:00000000 tim_info.c
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:20     .text.getTIMnumber:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:25     .text.getTIMnumber:00000000 getTIMnumber
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:187    .text.getTIMnumber:00000094 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:192    .rodata.getAHB_CLK_DIVIDER.str1.4:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:196    .text.getAHB_CLK_DIVIDER:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:201    .text.getAHB_CLK_DIVIDER:00000000 getAHB_CLK_DIVIDER
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:297    .text.getAHB_CLK_DIVIDER:00000064 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:303    .rodata.getAPB2_CLK_DIVIDER.str1.4:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:307    .text.getAPB2_CLK_DIVIDER:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:312    .text.getAPB2_CLK_DIVIDER:00000000 getAPB2_CLK_DIVIDER
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:380    .text.getAPB2_CLK_DIVIDER:00000044 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:386    .rodata.getAPB1_CLK_DIVIDER.str1.4:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:390    .text.getAPB1_CLK_DIVIDER:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:395    .text.getAPB1_CLK_DIVIDER:00000000 getAPB1_CLK_DIVIDER
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:463    .text.getAPB1_CLK_DIVIDER:00000044 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:469    .rodata.printTIMclock.str1.4:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:486    .text.printTIMclock:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:491    .text.printTIMclock:00000000 printTIMclock
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:658    .text.printTIMclock:000000a0 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:668    .rodata.printTIMinfo.str1.4:00000000 $d
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:675    .text.printTIMinfo:00000000 $t
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:681    .text.printTIMinfo:00000000 printTIMinfo
C:\Users\leopi\AppData\Local\Temp\ccFOqg9i.s:735    .text.printTIMinfo:0000002c $d

UNDEFINED SYMBOLS
puts
printf
SystemCoreClock
